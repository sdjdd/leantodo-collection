{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 97dc07d4a83a6567bc7c","webpack:///./node_modules/underscore/underscore.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/babel-runtime/core-js/promise.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./src/utils/index.js","webpack:///./src/request.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./src/error.js","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/_for-of.js","webpack:///./src/av.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./src/adapter.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/core-js/library/modules/_validate-collection.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/_an-instance.js","webpack:///./node_modules/core-js/library/modules/_redefine-all.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/_new-promise-capability.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/core-js/library/modules/_wks-define.js","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/core-js/library/modules/_array-methods.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/library/modules/_species-constructor.js","webpack:///./node_modules/core-js/library/modules/_task.js","webpack:///./node_modules/core-js/library/modules/_perform.js","webpack:///./node_modules/core-js/library/modules/_promise-resolve.js","webpack:///./node_modules/core-js/library/modules/_set-species.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/uuid/v4.js","webpack:///./src/version.js","webpack:///./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/core-js/library/modules/_object-gopn.js","webpack:///./src/localstorage.js","webpack:///./src/cache.js","webpack:///./node_modules/charenc/charenc.js","webpack:///./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/_collection.js","webpack:///./node_modules/core-js/library/modules/_set-collection-of.js","webpack:///./node_modules/core-js/library/modules/_set-collection-from.js","webpack:///./src/entry/index-weapp.js","webpack:///./src/entry/core.js","webpack:///./src/index.js","webpack:///./node_modules/core-js/library/fn/promise.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/es6.promise.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/_invoke.js","webpack:///./node_modules/core-js/library/modules/_microtask.js","webpack:///./node_modules/core-js/library/modules/_user-agent.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///./node_modules/core-js/library/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/library/modules/es7.promise.try.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/debug/src/common.js","webpack:///./node_modules/ms/index.js","webpack:///./src/ua/index.js","webpack:///./node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///./node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./node_modules/promise-timeout/index.js","webpack:///./src/init.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./src/app-router.js","webpack:///./src/event.js","webpack:///./src/geopoint.js","webpack:///./src/acl.js","webpack:///./src/op.js","webpack:///./src/relation.js","webpack:///./src/file.js","webpack:///./src/uploader/cos.js","webpack:///./src/uploader/qiniu.js","webpack:///./src/uploader/s3.js","webpack:///./node_modules/md5/md5.js","webpack:///./node_modules/crypt/crypt.js","webpack:///./node_modules/is-buffer/index.js","webpack:///./src/utils/parse-base64-browser.js","webpack:///./src/object.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./src/role.js","webpack:///./src/user.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./src/query.js","webpack:///./src/live-query.js","webpack:///./node_modules/eventemitter3/index.js","webpack:///./src/captcha.js","webpack:///./src/cloudfunction.js","webpack:///./src/push.js","webpack:///./src/status.js","webpack:///./src/search.js","webpack:///./src/insight.js","webpack:///./src/conversation.js","webpack:///./src/leaderboard.js","webpack:///./node_modules/@leancloud/platform-adapters-weapp/lib/index.js","webpack:///./node_modules/miniprogram-api-typings/index.d.ts","webpack:///./node_modules/event-target-shim/dist/event-target-shim.js","webpack:///./node_modules/babel-runtime/core-js/map.js","webpack:///./node_modules/core-js/library/fn/map.js","webpack:///./node_modules/core-js/library/modules/es6.map.js","webpack:///./node_modules/core-js/library/modules/_collection-strong.js","webpack:///./node_modules/core-js/library/modules/_array-species-create.js","webpack:///./node_modules/core-js/library/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/library/modules/es7.map.to-json.js","webpack:///./node_modules/core-js/library/modules/_collection-to-json.js","webpack:///./node_modules/core-js/library/modules/_array-from-iterable.js","webpack:///./node_modules/core-js/library/modules/es7.map.of.js","webpack:///./node_modules/core-js/library/modules/es7.map.from.js","webpack:///./node_modules/babel-runtime/core-js/object/create.js","webpack:///./node_modules/core-js/library/fn/object/create.js","webpack:///./node_modules/core-js/library/modules/es6.object.create.js","webpack:///./node_modules/babel-runtime/core-js/object/set-prototype-of.js","webpack:///./node_modules/core-js/library/fn/object/set-prototype-of.js","webpack:///./node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/core-js/library/modules/_set-proto.js","webpack:///./node_modules/babel-runtime/core-js/weak-map.js","webpack:///./node_modules/core-js/library/fn/weak-map.js","webpack:///./node_modules/core-js/library/modules/es6.weak-map.js","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/modules/_collection-weak.js","webpack:///./node_modules/core-js/library/modules/es7.weak-map.of.js","webpack:///./node_modules/core-js/library/modules/es7.weak-map.from.js"],"names":["_","require","timeout","debug","debugRequest","debugRequestError","getAdapter","requestsCount","ajax","method","url","query","data","headers","time","onprogress","queryString","map","value","key","undefined","v","encodeURIComponent","filter","qs","join","count","request","promise","then","response","status","text","header","ok","error","Error","catch","enabled","statusCode","responseText","isNullOrUndefined","isNull","x","isUndefined","ensureArray","isArray","target","transformFetchOptions","keys","include","includeACL","fetchOptions","returnACL","getSessionToken","authOptions","sessionToken","user","tap","interceptor","EmptyConstructor","inherits","parent","protoProps","staticProps","child","hasOwnProperty","constructor","apply","arguments","extend","prototype","__super__","parseDate","Date","iso8601","setValue","segs","split","lastSeg","pop","currentTarget","forEach","seg","findValue","firstSeg","i","length","isPlainObject","isObject","obj","Object","continueWhile","predicate","asyncFunction","resolve","module","exports","md5","AV","sign","isMasterKey","now","getTime","signature","setAppKey","signKey","applicationKey","setHeaders","applicationId","useMasterKey","_config","masterKey","console","warn","hookKey","production","String","_sharedConfig","userAgent","disableCurrentUser","User","currentAsync","currentUser","_sessionToken","createApiUrl","service","version","path","apiURL","serverURLs","charAt","_appRouter","refresh","requestTimeout","errorJSON","code","message","JSON","parse","e","rawMessage","keepErrorRawMessage","err","_request","route","className","objectId","_fetchWhenSave","_where","toLowerCase","AVError","OTHER_CAUSE","INTERNAL_SERVER_ERROR","CONNECTION_FAILED","OBJECT_NOT_FOUND","INVALID_QUERY","INVALID_CLASS_NAME","MISSING_OBJECT_ID","INVALID_KEY_NAME","INVALID_POINTER","INVALID_JSON","COMMAND_UNAVAILABLE","NOT_INITIALIZED","INCORRECT_TYPE","INVALID_CHANNEL_NAME","PUSH_MISCONFIGURED","OBJECT_TOO_LARGE","OPERATION_FORBIDDEN","CACHE_MISS","INVALID_NESTED_KEY","INVALID_FILE_NAME","INVALID_ACL","TIMEOUT","INVALID_EMAIL_ADDRESS","MISSING_CONTENT_TYPE","MISSING_CONTENT_LENGTH","INVALID_CONTENT_LENGTH","FILE_TOO_LARGE","FILE_SAVE_ERROR","FILE_DELETE_ERROR","DUPLICATE_VALUE","INVALID_ROLE_NAME","EXCEEDED_QUOTA","SCRIPT_FAILED","VALIDATION_ERROR","INVALID_IMAGE_DATA","UNSAVED_FILE_ERROR","INVALID_PUSH_TIME_ERROR","USERNAME_MISSING","PASSWORD_MISSING","USERNAME_TAKEN","EMAIL_TAKEN","EMAIL_MISSING","EMAIL_NOT_FOUND","SESSION_MISSING","MUST_CREATE_USER_THROUGH_SIGNUP","ACCOUNT_ALREADY_LINKED","LINKED_ID_MISSING","INVALID_LINKED_SESSION","UNSUPPORTED_SERVICE","X_DOMAIN_REQUEST","uuid","getUA","setAdapters","global","realtime","liveQueryRealtime","_getAVPath","isString","substring","_installationId","_getInstallationId","localStorage","getItemAsync","setItemAsync","_subscriptionId","_refreshSubscriptionId","subscriptionId","_getSubscriptionId","_parseDate","_extend","classProps","_encode","seenObjects","disallowObjects","full","_hasData","_toPointer","_toFullJSON","concat","ACL","toJSON","isDate","__type","iso","GeoPoint","isRegExp","source","Relation","Op","File","id","mapObject","k","_decode","__op","pointer","_create","clone","_finishFetch","object","latitude","longitude","relation","targetClassName","file","name","parseJSON","stringify","_encodeObjectOrArray","encodeAVObject","_arrayEach","each","_traverse","func","seen","indexOf","push","attributes","index","newChild","_each","_objectEach","callback","enable","namespaces","disable","adapters","adapter","newAdapters","syncApiNames","async","apiName","storage","removeAsync","removeItemAsync","bind","getCacheData","cacheData","expired","expiredAt","getAsync","cache","setAsync","ttl","Promise","Cache","Conversation","comments","ua","AppRouter","isEmpty","isCNApp","appId","slice","fillServerURLs","stats","engine","api","rtm","getDefaultServerURLs","domain","_disableAppRouter","_initialized","init","options","appKey","serverURL","TypeError","process","setProduction","disableAppRouter","_setServerURLs","server","RTMRouter","Cloud","urls","setServerURL","setServerURLs","setRequestTimeout","ms","initialize","defineConfig","property","get","set","lockedUntil","disabled","lock","servers","protocal","push_server","stats_server","engine_server","api_server","eventSplitter","Array","Events","on","events","context","calls","event","node","tail","list","_callbacks","shift","next","off","cb","ctx","trigger","args","all","rest","call","unbind","arg1","arg2","_validate","isNumber","self","__defineGetter__","__defineSetter__","_latitude","_longitude","val","current","reject","navigator","geolocation","getCurrentPosition","location","coords","radiansTo","point","d2r","Math","PI","lat1rad","long1rad","lat2rad","long2rad","deltaLat","deltaLong","sinDeltaLatDiv2","sin","sinDeltaLongDiv2","a","cos","min","asin","sqrt","kilometersTo","milesTo","PUBLIC_KEY","permissionsById","setReadAccess","setWriteAccess","isFunction","accessList","userId","allowed","permission","isBoolean","_setAccess","accessType","Role","getName","permissions","_getAccess","getReadAccess","getWriteAccess","setPublicReadAccess","getPublicReadAccess","setPublicWriteAccess","getPublicWriteAccess","getRoleReadAccess","role","getRoleWriteAccess","setRoleReadAccess","setRoleWriteAccess","_initialize","_opDecoderMap","_registerDecoder","opName","decoder","json","op","ops","nextOp","_mergeWithPrevious","Set","_value","previous","_estimate","oldValue","_UNSET","Unset","Increment","amount","_amount","BitAnd","BitOr","BitXor","Add","objects","_objects","AddUnique","uniq","newValue","matchingObj","find","anObj","contains","Remove","union","difference","other","adds","removes","_targetClassName","pointerToId","relationsToAdd","relationsToRemove","added","removed","idToPointer","pointers","newAdd","newRemove","newRelation","reverseQuery","parentClass","relationKey","Query","equalTo","_ensureParentAndKey","add","change","remove","targetClass","_getSubclass","_defaultParams","redirectClassNameForKey","_addCondition","qiniu","s3","AVRequest","parseBase64","hexOctet","floor","random","toString","extname","match","b64Digit","number","fromCharCode","encodeBase64","array","chunks","ceil","times","b1","b2","b3","has2","has3","mimeType","metaData","base64","size","_extName","_data","_uploadHeaders","blob","uri","Blob","owner","withURL","type","prop","__source","createWithoutData","_operations","has","toFullJSON","holder","getACL","_acl","setACL","acl","attrName","setUploadHeader","attr","thumbnailURL","width","height","quality","scaleToFit","fmt","mode","ownerId","destroy","_fileToken","extName","keep_file_name","keepFileName","mime_type","_qiniu_key","save","_previousSave","uploadInfo","_token","token","_options","direction","provider","_callback","success","result","fetch","bucket","saveOptions","_bucket","upload_url","fileFormData","field","upload","uptoken","dataURItoBlob","dataURI","byteString","atob","unescape","ia","Uint8Array","charCodeAt","recursiveToPointer","RESERVED_KEYS","checkReservedKey","handleBatchResults","firstError","results","getValue","_mergeMagicFields","defaults","collection","_serverData","_opSetQueue","_flags","_hashedJSON","_escapedAttributes","cid","uniqueId","changed","_silent","_pending","silent","_previousAttributes","saveAll","_deepSaveAsync","fetchAll","requests","dirty","fetchedAttrs","_cleanupUnsetKeys","fetchWhenSave","getObjectId","getCreatedAt","createdAt","getUpdatedAt","updatedAt","newSeenObjects","_refreshCache","_refreshingCache","_resetCacheForKey","currentChanges","last","dirtyKeys","escape","html","escaped","attrs","model","specialFields","_startSave","_cancelSave","failedChanges","first","nextChanges","op1","op2","_saving","_finishSave","serverData","fetchedObjects","savedChanges","_applyOpSet","fetched","_rebuildAllEstimatedData","opSetQueue","hasData","opSet","actualTarget","actualKey","wasSet","_rebuildEstimatedDataForKey","firstKey","previousAttributes","unset","unused_value","dataToValidate","changes","isRealChange","isEqual","increment","item","addUnique","bitAnd","bitOr","bitXor","clear","keysToClear","revert","lastOp","_keys","_getSaveJSON","_canBeSerialized","_canBeSerializedAsValue","fetchedKeys","arg3","wait","setOptions","unsavedChildren","unsavedFiles","_findUnsavedChildren","_allPreviousSaves","_failOnNotExist","failOnNotExist","queryParams","_getParams","where","makeRequest","_makeRequest","requestPromise","resp","serverAttrs","triggerDestroy","output","isNew","changing","_changing","deleteChanged","isValid","validate","disableBeforeHook","ignoreHook","disableAfterHook","hookName","__ignore_hooks","klass","_klass","destroyAll","objectsByClassNameAndFlags","groupBy","flags","body","ids","ObjectClass","_classMap","NewClassObject","OldClassObject","_className","arg0","newArguments","toArray","defineProperty","_LCClassName","register","children","files","canBeSerializedAsValue","remaining","batch","newRemaining","readyToStart","bathSavePromise","setName","getUsers","getRoles","newName","test","PLATFORM_ANONYMOUS","PLATFORM_QQAPP","mergeUnionDataIntoAuthData","defaultUnionIdPlatform","authData","unionId","unionIdPlatform","asMainAccount","platform","unionid","main_account","Boolean","_isCurrentUser","_cleanupAuthData","isCurrent","_synchronizeAllAuthData","_synchronizeAuthData","authType","_authProviders","getAuthType","restoreAuthentication","dissociateAuthData","_handleSaveResult","makeCurrent","password","_saveCurrentUser","_linkWith","authenticate","associateWithAuthData","associateWithAuthDataAndUnionId","unionOptions","associateWithMiniApp","authInfo","option","getAuthInfo","associateWithQQApp","preferUnionId","associateWithWeapp","linkWithWeapp","associateWithQQAppWithUnionId","mergeUnionId","associateWithWeappWithUnionId","_unlinkFrom","_isLinked","isAnonymous","logOut","_logOutWithAll","_logOutWith","deauthenticate","signUp","username","signUpOrlogInWithMobilePhone","mobilePhoneNumber","smsCode","loginWithAuthData","loginWithAuthDataAndUnionId","unionLoginOptions","loginWithWeapp","loginWithMiniApp","loginWithWeappWithUnionId","loginWithQQApp","loginWithQQAppWithUnionId","logIn","follow","userObjectId","unfollow","followerQuery","followeeQuery","updatePassword","oldPassword","newPassword","params","old_password","new_password","getUsername","getMobilePhoneNumber","setMobilePhoneNumber","phone","setUsername","setPassword","getEmail","setEmail","email","authenticated","isAuthenticated","_fetchUserBySessionToken","refreshSessionToken","_currentUser","_currentUserMatchesDisk","_CURRENT_USER_KEY","become","logInWithMobilePhoneSmsCode","mobilePhone","logInWithMobilePhone","loginWithEmail","_logInWith","signUpOrlogInWithAuthData","signUpOrlogInWithAuthDataAndUnionId","_genId","loginAnonymously","userObj","FriendShipQuery","_friendshipTag","requestPasswordReset","requestEmailVerify","requestMobilePhoneVerify","validateToken","validate_token","requestPasswordResetBySmsCode","resetPasswordBySmsCode","verifyMobilePhone","requestLoginSmsCode","userData","_id","getItem","_registerAuthenticationProvider","requires","objectClass","_include","_select","_limit","_skip","or","queries","q","_orQuery","and","_andQuery","doCloudQuery","cql","pvalues","_newObject","_processResult","fromJSON","select","limit","skip","order","_includeACL","_order","queryJSON","_createRequest","_parseResponse","scan","orderedBy","batchSize","condition","scan_key","cursor","done","remainResults","n","sizeEqualTo","notEqualTo","lessThan","greaterThan","lessThanOrEqualTo","greaterThanOrEqualTo","containedIn","values","notContainedIn","containsAll","exists","doesNotExist","matches","regex","modifiers","ignoreCase","multiline","matchesQuery","doesNotMatchQuery","matchesKeyInQuery","queryKey","doesNotMatchKeyInQuery","$or","$and","_quote","s","replace","startsWith","endsWith","ascending","addAscending","descending","addDescending","near","withinRadians","distance","withinMiles","withinKilometers","withinGeoBox","southwest","northeast","$box","finished","callbacksDone","subscribe","LiveQuery","UserClass","EventEmitter","requireRealtime","client","_client","_queryJSON","_onMessage","_dispatch","_onReconnect","queryId","query_id","updatedKeys","emit","unsubscribe","deregister","userDefinedSubscriptionId","createLiveQueryClient","liveQueryClient","finally","pause","resume","Captcha","_authOptions","captchaToken","_requestCaptcha","verify","verifyCaptcha","textInput","image","verifyButton","document","getElementById","__refresh","src","focus","__image","addEventListener","__verify","__verifyButton","removeEventListener","captcha","run","rpc","getServerDate","requestSmsCode","verifySmsCode","captcha_url","captcha_token","requestCaptcha","captcha_code","Installation","Push","send","push_time","expiration_time","expiration_time_interval","getUser","getUserPointer","currUser","Status","imageUrl","inboxType","toObject","_getDataJSON","sendStatusToFollowers","messageId","sendPrivateStatus","countUnreadStatuses","resetUnreadCount","statusQuery","InboxQuery","_objectClass","_sinceId","_maxId","_inboxType","_owner","sinceId","maxId","inboxQuery","SearchSortBuilder","_sortFields","_addField","missing","whereNear","geo","lat","lon","m","unit","build","SearchQuery","_sid","_hits","_queryString","_highlights","_sortBuilder","sid","highlights","sortBy","builder","hits","hasMore","_hitEnd","reset","_oldSid","appURL","clazz","sort","Insight","startJob","jobConfig","sql","JobQuery","serializeMessage","getPayload","isSystem","isTransient","getCreator","getLastMessageAt","getMembers","addMember","member","getMutedMembers","fromClient","from_peer","conv_id","transient","toClients","to_peers","pushData","push_data","broadcast","validTill","ts","valid_till","LeaderboardVersionChangeInterval","NEVER","DAY","WEEK","MONTH","LeaderboardOrder","ASCENDING","DESCENDING","LeaderboardUpdateStrategy","BETTER","LAST","SUM","Statistic","parseStatisticData","statisticData","statisticName","statisticValue","Leaderboard","updateStrategy","versionChangeInterval","nextResetAt","createLeaderboard","leaderboard","getLeaderboard","getStatistics","statisticNames","statistics","updateStatistics","overwrite","deleteStatistics","_getResults","selectUserKeys","includeUserKeys","includeStatistics","includeUser","rankings","rankingData","rank","includedStatistics","getResults","getResultsAroundUser","_update","updateVersionChangeInterval","updateUpdateStrategy","getArchives","activatedAt","deactivatedAt","privateData","wrappers","pd","retv","assert","setCancelFlag","passiveListener","cancelable","canceled","preventDefault","Event","eventTarget","eventPhase","stopped","immediateStopped","timeStamp","enumerable","defineRedirectDescriptor","composedPath","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","stopPropagation","stopImmediatePropagation","bubbles","defaultPrevented","composed","srcElement","cancelBubble","returnValue","initEvent","configurable","writable","window","defineCallDescriptor","defineWrapper","BaseEvent","proto","CustomEvent","descriptor","isFunc","getWrapper","wrapper","wrapEvent","Wrapper","isStopped","setEventPhase","setCurrentTarget","setPassiveListener","listenersMap","CAPTURE","BUBBLE","ATTRIBUTE","getListeners","listeners","defineEventAttributeDescriptor","eventName","listenerType","listener","prev","delete","newNode","passive","once","defineEventAttribute","eventTargetPrototype","defineCustomEventTarget","eventNames","CustomEventTarget","EventTarget","types","optionsIsObj","capture","dispatchEvent","wrappedEvent","handleEvent","default"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;;;;;;;AC7DA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA,KAAK;AACL;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,wCAAwC;AACxC,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,qBAAqB,eAAe;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,qBAAqB;AACrB;;AAEA;AACA;AACA,KAAK;AACL,iBAAiB;;AAEjB;AACA,kDAAkD,EAAE,iBAAiB;;AAErE;AACA,wBAAwB,8BAA8B;AACtD,2BAA2B;;AAE3B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,iBAAiB;;AAEnE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAyC;AAC/C,IAAI,iCAAqB,EAAE,mCAAE;AAC7B;AACA,KAAK;AAAA,oGAAC;AACN;AACA,CAAC;;;;;;;;AC3pDD,6BAA6B;AAC7B,uCAAuC;;;;;;;ACDvC;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;ACLzC,kBAAkB,YAAY,mBAAO,CAAC,EAA4B,sB;;;;;;ACAlE,YAAY,mBAAO,CAAC,EAAW;AAC/B,UAAU,mBAAO,CAAC,EAAQ;AAC1B,aAAa,mBAAO,CAAC,CAAW;AAChC;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA,aAAa,mBAAO,CAAC,CAAW;AAChC,WAAW,mBAAO,CAAC,CAAS;AAC5B,UAAU,mBAAO,CAAC,EAAQ;AAC1B,WAAW,mBAAO,CAAC,EAAS;AAC5B,UAAU,mBAAO,CAAC,EAAQ;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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A;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG,iBAAiB;AACpB;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,GAAU;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;AClLA,IAAMnG,IAAIC,mBAAOA,CAAC,CAAR,CAAV;AACA,IAAMqR,WAAW,EAAjB;;AAEA,IAAMhR,aAAa,SAAbA,UAAa,OAAQ;AACzB,MAAMiR,UAAUD,SAASrB,IAAT,CAAhB;AACA,MAAIsB,YAAYnQ,SAAhB,EAA2B;AACzB,UAAM,IAAIgB,KAAJ,CAAa6N,IAAb,gCAAN;AACD;AACD,SAAOsB,OAAP;AACD,CAND;AAOA,IAAM3E,cAAc,SAAdA,WAAc,cAAe;AACjC5M,IAAEsE,MAAF,CAASgN,QAAT,EAAmBE,WAAnB;AACD,CAFD;;AAIAxL,OAAOC,OAAP,GAAiB;AACf3F,wBADe;AAEfsM;AAFe,CAAjB,C;;;;;;;ACda;AACb,UAAU,mBAAO,CAAC,EAAc;;AAEhC;AACA,mBAAO,CAAC,EAAgB;AACxB,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,UAAU;AACV,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CA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA,uBAAuB,mBAAO,CAAC,EAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E,mBAAO,CAAC,EAAsB;AAC9B,mBAAO,CAAC,EAAgB;AACxB,UAAU,mBAAO,CAAC,CAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,GAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;AC7RD;AACA,eAAe,mBAAO,CAAC,CAAc;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,eAAe,mBAAO,CAAC,CAAQ;AAC/B;;AAEA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACfA,aAAa,mBAAO,CAAC,CAAW;AAChC,gBAAgB,mBAAO,CAAC,EAAS;AACjC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,EAAQ;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;ACpEA,aAAa,mBAAO,CAAC,CAAW;AAChC;;AAEA;;;;;;;ACHA,eAAe,mBAAO,CAAC,CAAQ;AAC/B;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;ACrBA;AACa;AACb,cAAc,mBAAO,CAAC,CAAW;AACjC,WAAW,mBAAO,CAAC,CAAS;AAC5B,aAAa,mBAAO,CAAC,CAAW;AAChC,yBAAyB,mBAAO,CAAC,EAAwB;AACzD,qBAAqB,mBAAO,CAAC,EAAoB;;AAEjD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,8DAA8D,UAAU,EAAE;AAC1E,KAAK;AACL;AACA,8DAA8D,SAAS,EAAE;AACzE,KAAK;AACL;AACA,CAAC,EAAE;;;;;;;;ACnBU;AACb;AACA,cAAc,mBAAO,CAAC,CAAW;AACjC,2BAA2B,mBAAO,CAAC,EAA2B;AAC9D,cAAc,mBAAO,CAAC,EAAY;;AAElC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;ACXH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA,WAAW,mBAAO,CAAC,CAAqB;AACxC,uCAAuC,4BAA4B;AACnE,yCAAyC;AACzC;AACA;;;;;;;ACJA,mBAAO,CAAC,GAA+B;AACvC,iBAAiB,mBAAO,CAAC,CAAqB;;;;;;;ACD9C;AACA,eAAe,mBAAO,CAAC,EAAc;AACrC,YAAY,mBAAO,CAAC,EAAgB;;AAEpC,mBAAO,CAAC,EAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;ACRD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACvBa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,mBAAO,CAAC,GAAI;AACrC;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,cAAc;AAC3B;AACA;;AAEA;AACA;;AAEA,mBAAmB,sBAAsB;AACzC;AACA,gBAAgB;AAChB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yEAAyE,aAAa;AACtF;AACA;;AAEA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA;;AAEA;AACA,OAAO,EAAE;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;;AAEA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACvPA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;ACjKA,IAAM4B,UAAU9H,mBAAOA,CAAC,EAAR,CAAhB;AACA,IAAM0M,QAAQ,SAARA,KAAQ,GAAmB;AAAA,MAAlBgG,QAAkB,uEAAP,EAAO;;AAC/B,MAAIC,2BAAyB7K,OAA7B;AACA,MAAI4K,SAASpN,MAAb,EAAqB;AACnBqN,iBAAWD,SAASlR,IAAT,CAAc,IAAd,CAAX;AACD;AACD,SAAOmR,EAAP;AACD,CAND;AAOA5M,OAAOC,OAAP,GAAiB0G,KAAjB,C;;;;;;ACRA,mBAAO,CAAC,GAA2C;AACnD,iBAAiB,mBAAO,CAAC,CAAqB;;;;;;;ACD9C;AACA,eAAe,mBAAO,CAAC,EAAc;AACrC,sBAAsB,mBAAO,CAAC,EAAe;;AAE7C,mBAAO,CAAC,EAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;ACRD,kBAAkB,YAAY,mBAAO,CAAC,GAAoC,sB;;;;;;ACA1E,mBAAO,CAAC,EAAmC;AAC3C,mBAAO,CAAC,EAAgC;AACxC,iBAAiB,mBAAO,CAAC,EAAwB;;;;;;;ACFjD,kBAAkB,YAAY,mBAAO,CAAC,GAA2B,sB;;;;;;ACAjE,mBAAO,CAAC,GAA0B;AAClC,mBAAO,CAAC,EAAoC;AAC5C,mBAAO,CAAC,GAAyC;AACjD,mBAAO,CAAC,GAAqC;AAC7C,iBAAiB,mBAAO,CAAC,CAAqB;;;;;;;;ACJjC;AACb;AACA,aAAa,mBAAO,CAAC,CAAW;AAChC,UAAU,mBAAO,CAAC,EAAQ;AAC1B,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,cAAc,mBAAO,CAAC,CAAW;AACjC,eAAe,mBAAO,CAAC,EAAa;AACpC,WAAW,mBAAO,CAAC,EAAS;AAC5B,aAAa,mBAAO,CAAC,EAAU;AAC/B,aAAa,mBAAO,CAAC,EAAW;AAChC,qBAAqB,mBAAO,CAAC,EAAsB;AACnD,UAAU,mBAAO,CAAC,EAAQ;AAC1B,UAAU,mBAAO,CAAC,CAAQ;AAC1B,aAAa,mBAAO,CAAC,EAAY;AACjC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,eAAe,mBAAO,CAAC,GAAc;AACrC,cAAc,mBAAO,CAAC,EAAa;AACnC,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,EAAc;AACrC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,kBAAkB,mBAAO,CAAC,EAAiB;AAC3C,iBAAiB,mBAAO,CAAC,EAAkB;AAC3C,cAAc,mBAAO,CAAC,EAAkB;AACxC,cAAc,mBAAO,CAAC,GAAoB;AAC1C,YAAY,mBAAO,CAAC,EAAgB;AACpC,YAAY,mBAAO,CAAC,EAAgB;AACpC,UAAU,mBAAO,CAAC,EAAc;AAChC,YAAY,mBAAO,CAAC,EAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,EAAgB;AAC1B,EAAE,mBAAO,CAAC,EAAe;AACzB;;AAEA,sBAAsB,mBAAO,CAAC,EAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,8CAA8C,YAAY,EAAE;;AAE5D;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AA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;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;AC/JD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,cAAc;AACnC;AACA;AACA,KAAK;;AAEL;AACA;AACA,0BAA0B,OAAO;AACjC;AACA;AACA,KAAK;;AAEL;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA,KAAK;;AAEL;AACA;AACA,iCAAiC,uBAAuB;AACxD;AACA;AACA,KAAK;;AAEL;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA,KAAK;;AAEL;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;AC/FD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;ACpBA,IAAIuU,gBAAgB,SAAhBA,aAAgB,CAASC,OAAT,EAAkBnD,IAAlB,EAAwB;AAC1C,MAAIoD,UAAJ;;AAEA;AACA,MAAID,QAAQ7T,OAAR,CAAgB,QAAhB,IAA4B,CAAhC,EAAmC;AACjC8T,iBAAaC,KAAKF,OAAL,CAAb;AACD,GAFD,MAEO,IAAIA,QAAQ1f,KAAR,CAAc,GAAd,EAAmB,CAAnB,EAAsB6L,OAAtB,CAA8B,QAA9B,KAA2C,CAA/C,EAAkD;AACvD0Q,WACEA,QACAmD,QACG1f,KADH,CACS,GAD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A5CF,mBA4CU;AACNjB;AACA,aAAO/0B,GAAGY,OAAH,CAAW+F,QAAX,CAAoBqvB,KAApB,EAAP;AACD,KA/CH;;AAgDE;;;;;AAKAC,UArDF,oBAqDW;AACPlB;AACA,aAAO/0B,GAAGY,OAAH,CAAW+F,QAAX,CAAoBsvB,MAApB,EAAP;AACD;AAxDH,GAtFa,CAAf;AAiJD,CA9JD,C;;;;;;;ACfa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;;;ACtTA,IAAMp8B,IAAIC,mBAAOA,CAAC,CAAR,CAAV;;eACgBA,mBAAOA,CAAC,CAAR,C;IAARyD,G,YAAAA,G;;AAERsC,OAAOC,OAAP,GAAiB,cAAM;AACrB;;;;;;;;;;;;;;AAcAE,KAAGk2B,OAAH,GAAa,SAASA,OAAT,CAAiBzoB,OAAjB,EAA0BrQ,WAA1B,EAAuC;AAClD,SAAKigB,QAAL,GAAgB5P,OAAhB;AACA,SAAK0oB,YAAL,GAAoB/4B,WAApB;AACA;;;;AAIA,SAAK7C,GAAL,GAAWU,SAAX;AACA;;;;AAIA,SAAKm7B,YAAL,GAAoBn7B,SAApB;AACA;;;;AAIA,SAAKg0B,aAAL,GAAqBh0B,SAArB;AACD,GAlBD;;AAoBA;;;;AAIA+E,KAAGk2B,OAAH,CAAW93B,SAAX,CAAqB8D,OAArB,GAA+B,SAASA,OAAT,GAAmB;AAAA;;AAChD,WAAOlC,GAAGmO,KAAH,CAASkoB,eAAT,CAAyB,KAAKhZ,QAA9B,EAAwC,KAAK8Y,YAA7C,EAA2Dz6B,IAA3D,CACL,gBAA2B;AAAA,UAAxB06B,YAAwB,QAAxBA,YAAwB;AAAA,UAAV77B,GAAU,QAAVA,GAAU;;AACzBV,QAAEsE,MAAF,CAAS,KAAT,EAAe,EAAEi4B,0BAAF,EAAgB77B,QAAhB,EAAf;AACA,aAAOA,GAAP;AACD,KAJI,CAAP;AAMD,GAPD;;AASA;;;;;AAKAyF,KAAGk2B,OAAH,CAAW93B,SAAX,CAAqBk4B,MAArB,GAA8B,SAASA,MAAT,CAAgBj0B,IAAhB,EAAsB;AAAA;;AAClD,WAAOrC,GAAGmO,KAAH,CAASooB,aAAT,CAAuBl0B,IAAvB,EAA6B,KAAK+zB,YAAlC,EAAgD16B,IAAhD,CACL6B,IAAI;AAAA,aAAkB,OAAK0xB,aAAL,GAAqBA,aAAvC;AAAA,KAAJ,CADK,CAAP;AAGD,GAJD;;AAMA,MAAIphB,KAAJ,EAA+C;AAC7C;;;;;;;;;;AAUA7N,OAAGk2B,OAAH,CAAW93B,SAAX,CAAqBwN,IAArB,GAA4B,SAASA,IAAT,eAG1B;AAAA;;AAAA,UAFE4qB,SAEF,SAFEA,SAEF;AAAA,UAFaC,KAEb,SAFaA,KAEb;AAAA,UAFoBC,YAEpB,SAFoBA,YAEpB;AAAA,UADEjZ,OACF,SADEA,OACF;AAAA,UADWzhB,KACX,SADWA,KACX;;AACA,UAAI,OAAOw6B,SAAP,KAAqB,QAAzB,EAAmC;AACjCA,oBAAYG,SAASC,cAAT,CAAwBJ,SAAxB,CAAZ;AACA,YAAI,CAACA,SAAL,EACE,MAAM,IAAIv6B,KAAJ,wBAA+Bu6B,SAA/B,gBAAN;AACH;AACD,UAAI,OAAOC,KAAP,KAAiB,QAArB,EAA+B;AAC7BA,gBAAQE,SAASC,cAAT,CAAwBH,KAAxB,CAAR;AACA,YAAI,CAACA,KAAL,EAAY,MAAM,IAAIx6B,KAAJ,oBAA2Bw6B,KAA3B,gBAAN;AACb;AACD,UAAI,OAAOC,YAAP,KAAwB,QAA5B,EAAsC;AACpCA,uBAAeC,SAASC,cAAT,CAAwBF,YAAxB,CAAf;AACA,YAAI,CAACA,YAAL,EACE,MAAM,IAAIz6B,KAAJ,2BAAkCy6B,YAAlC,gBAAN;AACH;;AAED,WAAKG,SAAL,GAAiB;AAAA,eACf,OAAK30B,OAAL,GACGxG,IADH,CACQ,eAAO;AACX+6B,gBAAMK,GAAN,GAAYv8B,GAAZ;AACA,cAAIi8B,SAAJ,EAAe;AACbA,sBAAUz7B,KAAV,GAAkB,EAAlB;AACAy7B,sBAAUO,KAAV;AACD;AACF,SAPH,EAQG76B,KARH,CAQS;AAAA,iBAAO4E,QAAQC,IAAR,4BAAsC6B,IAAIN,OAA1C,CAAP;AAAA,SART,CADe;AAAA,OAAjB;AAUA,UAAIm0B,KAAJ,EAAW;AACT,aAAKO,OAAL,GAAeP,KAAf;AACAA,cAAMK,GAAN,GAAY,KAAKv8B,GAAjB;AACAk8B,cAAMQ,gBAAN,CAAuB,OAAvB,EAAgC,KAAKJ,SAArC;AACD;;AAED,WAAKK,QAAL,GAAgB,YAAM;AACpB,YAAM70B,OAAOm0B,UAAUz7B,KAAvB;AACA,eAAKu7B,MAAL,CAAYj0B,IAAZ,EACGnG,KADH,CACS,eAAO;AACZ,iBAAK26B,SAAL;AACA,gBAAMj0B,GAAN;AACD,SAJH,EAKGlH,IALH,CAKQ+hB,OALR,EAKiBzhB,KALjB,EAMGE,KANH,CAMS;AAAA,iBAAO4E,QAAQC,IAAR,2BAAqC6B,IAAIN,OAAzC,CAAP;AAAA,SANT;AAOD,OATD;AAUA,UAAIk0B,aAAaE,YAAjB,EAA+B;AAC7B,aAAKS,cAAL,GAAsBT,YAAtB;AACAA,qBAAaO,gBAAb,CAA8B,OAA9B,EAAuC,KAAKC,QAA5C;AACD;AACF,KAjDD;;AAmDA;;;AAGAl3B,OAAGk2B,OAAH,CAAW93B,SAAX,CAAqByS,MAArB,GAA8B,SAASA,MAAT,GAAkB;AAC9C,UAAI,KAAKmmB,OAAT,EACE,KAAKA,OAAL,CAAaI,mBAAb,CAAiC,OAAjC,EAA0C,KAAKP,SAA/C;AACF,UAAI,KAAKM,cAAT,EACE,KAAKA,cAAL,CAAoBC,mBAApB,CAAwC,OAAxC,EAAiD,KAAKF,QAAtD;AACH,KALD;AAMD;;AAED;;;;;;;;;AASAl3B,KAAGk2B,OAAH,CAAW16B,OAAX,GAAqB,UAACiS,OAAD,EAAUrQ,WAAV,EAA0B;AAC7C,QAAMi6B,UAAU,IAAIr3B,GAAGk2B,OAAP,CAAezoB,OAAf,EAAwBrQ,WAAxB,CAAhB;AACA,WAAOi6B,QAAQn1B,OAAR,GAAkBxG,IAAlB,CAAuB;AAAA,aAAM27B,OAAN;AAAA,KAAvB,CAAP;AACD,GAHD;AAID,CAjJD,C;;;;;;;;;;;;;;;ACHA,IAAMx9B,IAAIC,mBAAOA,CAAC,CAAR,CAAV;;eAC8BA,mBAAOA,CAAC,CAAR,C;IAAtB+I,Q,YAAAA,Q;IAAUrH,O,YAAAA,O;;AAElBqE,OAAOC,OAAP,GAAiB,UAASE,EAAT,EAAa;AAC5B;;;;;;;;;AASAA,KAAGmO,KAAH,GAAWnO,GAAGmO,KAAH,IAAY,EAAvB;;AAEAtU,IAAEsE,MAAF,CACE6B,GAAGmO,KADL;AAEE,wBAAuB;AACrB;;;;;;;;AAQAmpB,OATqB,eASjBxtB,IATiB,EASXrP,IATW,EASLgT,OATK,EASI;AACvB,aAAOjS,QAAQ;AACbmG,iBAAS,QADI;AAEbrH,gBAAQ,MAFK;AAGbuH,8BAAoBiI,IAHP;AAIbrP,cAAMuF,GAAG4H,OAAH,CAAWnN,IAAX,EAAiB,IAAjB,EAAuB,IAAvB,CAJO;AAKb2C,qBAAaqQ;AALA,OAAR,EAMJ/R,IANI,CAMC,gBAAQ;AACd,eAAOsE,GAAGkJ,OAAH,CAAWsc,IAAX,EAAiB9H,MAAxB;AACD,OARM,CAAP;AASD,KAnBoB;;;AAqBrB;;;;;;;;AAQA6Z,OA7BqB,eA6BjBztB,IA7BiB,EA6BXrP,IA7BW,EA6BLgT,OA7BK,EA6BI;AACvB,UAAI5T,EAAE8C,OAAF,CAAUlC,IAAV,CAAJ,EAAqB;AACnB,eAAO,kBAAQgX,MAAR,CACL,IAAIxV,KAAJ,CACE,kEADF,CADK,CAAP;AAKD;;AAED,aAAOT,QAAQ;AACbmG,iBAAS,QADI;AAEbrH,gBAAQ,MAFK;AAGbuH,yBAAeiI,IAHF;AAIbrP,cAAMuF,GAAGiK,oBAAH,CAAwBxP,IAAxB,CAJO;AAKb2C,qBAAaqQ;AALA,OAAR,EAMJ/R,IANI,CAMC,gBAAQ;AACd,eAAOsE,GAAGkJ,OAAH,CAAWsc,IAAX,EAAiB9H,MAAxB;AACD,OARM,CAAP;AASD,KA/CoB;;;AAiDrB;;;;;;AAMA8Z,iBAvDqB,2BAuDL;AACd,aAAO30B,SAAS,MAAT,EAAiB,IAAjB,EAAuB,IAAvB,EAA6B,KAA7B,EAAoCnH,IAApC,CAAyC,UAAS8pB,IAAT,EAAe;AAC7D,eAAOxlB,GAAGkJ,OAAH,CAAWsc,IAAX,CAAP;AACD,OAFM,CAAP;AAGD,KA3DoB;;;AA6DrB;;;;;;;;;;;AAWAiS,kBAxEqB,0BAwENh9B,IAxEM,EAwEc;AAAA,UAAdgT,OAAc,uEAAJ,EAAI;;AACjC,UAAI5T,EAAEiN,QAAF,CAAWrM,IAAX,CAAJ,EAAsB;AACpBA,eAAO,EAAEkxB,mBAAmBlxB,IAArB,EAAP;AACD;AACD,UAAI,CAACA,KAAKkxB,iBAAV,EAA6B;AAC3B,cAAM,IAAI1vB,KAAJ,CAAU,4BAAV,CAAN;AACD;AACD,UAAIwR,QAAQwhB,aAAZ,EAA2B;AACzBx0B,eAAOZ,EAAEsE,MAAF,CAAS,EAAT,EAAa1D,IAAb,EAAmB;AACxBy0B,0BAAgBzhB,QAAQwhB;AADA,SAAnB,CAAP;AAGD;AACD,aAAOpsB,SAAS,gBAAT,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,MAAvC,EAA+CpI,IAA/C,EAAqDgT,OAArD,CAAP;AACD,KArFoB;;;AAuFrB;;;;;;;AAOAiqB,iBA9FqB,yBA8FPr1B,IA9FO,EA8FD+qB,KA9FC,EA8FM;AACzB,UAAI,CAAC/qB,IAAL,EAAW,MAAM,IAAIpG,KAAJ,CAAU,mBAAV,CAAN;AACX,UAAI6wB,SAAS,EAAb;AACA,UAAIjzB,EAAEiN,QAAF,CAAWsmB,KAAX,CAAJ,EAAuB;AACrBN,eAAO,mBAAP,IAA8BM,KAA9B;AACD;;AAED,aAAOvqB,SAAS,eAAT,EAA0BR,IAA1B,EAAgC,IAAhC,EAAsC,MAAtC,EAA8CyqB,MAA9C,CAAP;AACD,KAtGoB;AAwGrBuJ,mBAxGqB,2BAwGL5oB,OAxGK,EAwGIrQ,WAxGJ,EAwGiB;AACpC,aAAOyF,SACL,gBADK,EAEL,IAFK,EAGL,IAHK,EAIL,KAJK,EAKL4K,OALK,EAMLrQ,WANK,EAOL1B,IAPK,CAOA;AAAA,YAAgBnB,GAAhB,QAAGo9B,WAAH;AAAA,YAAoCvB,YAApC,QAAqBwB,aAArB;AAAA,eAAwD;AAC7DxB,oCAD6D;AAE7D77B;AAF6D,SAAxD;AAAA,OAPA,CAAP;AAWD,KApHoB;;;AAsHrB;;;AAGAs9B,oBAAgB73B,GAAGk2B,OAAH,CAAW16B,OAzHN;;AA2HrB;;;;;;;AAOA+6B,iBAlIqB,yBAkIPl0B,IAlIO,EAkID+zB,YAlIC,EAkIa;AAChC,aAAOvzB,SAAS,eAAT,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,MAAtC,EAA8C;AACnDi1B,sBAAcz1B,IADqC;AAEnDu1B,uBAAexB;AAFoC,OAA9C,EAGJ16B,IAHI,CAGC;AAAA,YAAmBuzB,aAAnB,SAAGC,cAAH;AAAA,eAAuCD,aAAvC;AAAA,OAHD,CAAP;AAID;AAvIoB,GAFzB;AA4ID,CAxJD,C;;;;;;;;;ACHA,IAAMzzB,UAAU1B,mBAAOA,CAAC,CAAR,EAAqB0B,OAArC;;AAEAqE,OAAOC,OAAP,GAAiB,UAASE,EAAT,EAAa;AAC5BA,KAAG+3B,YAAH,GAAkB/3B,GAAGR,MAAH,CAAUrB,MAAV,CAAiB,eAAjB,CAAlB;;AAEA;;;AAGA6B,KAAGg4B,IAAH,GAAUh4B,GAAGg4B,IAAH,IAAW,EAArB;;AAEA;;;;;;;;;;;;;;;;;;AAkBAh4B,KAAGg4B,IAAH,CAAQC,IAAR,GAAe,UAASx9B,IAAT,EAAegT,OAAf,EAAwB;AACrC,QAAIhT,KAAK2qB,KAAT,EAAgB;AACd3qB,WAAK2qB,KAAL,GAAa3qB,KAAK2qB,KAAL,CAAWD,UAAX,GAAwBC,KAArC;AACD;;AAED,QAAI3qB,KAAK2qB,KAAL,IAAc3qB,KAAK+1B,GAAvB,EAA4B;AAC1B,YAAM,IAAIv0B,KAAJ,CAAU,iCAAV,CAAN;AACD;;AAED,QAAIxB,KAAKy9B,SAAT,EAAoB;AAClBz9B,WAAKy9B,SAAL,GAAiBz9B,KAAKy9B,SAAL,CAAe7vB,MAAf,EAAjB;AACD;;AAED,QAAI5N,KAAK09B,eAAT,EAA0B;AACxB19B,WAAK09B,eAAL,GAAuB19B,KAAK09B,eAAL,CAAqB9vB,MAArB,EAAvB;AACD;;AAED,QAAI5N,KAAK09B,eAAL,IAAwB19B,KAAK29B,wBAAjC,EAA2D;AACzD,YAAM,IAAIn8B,KAAJ,CACJ,gEADI,CAAN;AAGD;;AAED,WAAOT,QAAQ;AACbmG,eAAS,MADI;AAEbrH,cAAQ,MAFK;AAGbuH,YAAM,OAHO;AAIbpH,gBAJa;AAKb2C,mBAAaqQ;AALA,KAAR,CAAP;AAOD,GA9BD;AA+BD,CAzDD,C;;;;;;;;;;;;;;;;;;;ACFA,IAAM5T,IAAIC,mBAAOA,CAAC,CAAR,CAAV;AACA,IAAMmf,YAAYnf,mBAAOA,CAAC,CAAR,EAAqB+I,QAAvC;;eAC4B/I,mBAAOA,CAAC,CAAR,C;IAApBqD,e,YAAAA,e;;AAER0C,OAAOC,OAAP,GAAiB,UAASE,EAAT,EAAa;AAC5B,MAAMq4B,UAAU,SAAVA,OAAU,GAAkB;AAAA,QAAjB5qB,OAAiB,uEAAP,EAAO;;AAChC,QAAMpQ,eAAeF,gBAAgBsQ,OAAhB,CAArB;AACA,QAAIpQ,YAAJ,EAAkB;AAChB,aAAO2C,GAAGsB,IAAH,CAAQssB,wBAAR,CAAiCzwB,gBAAgBsQ,OAAhB,CAAjC,CAAP;AACD;AACD,WAAOzN,GAAGsB,IAAH,CAAQC,YAAR,EAAP;AACD,GAND;;AAQA,MAAM+2B,iBAAiB,SAAjBA,cAAiB;AAAA,WACrBD,QAAQ5qB,OAAR,EAAiB/R,IAAjB,CAAsB;AAAA,aACpBsE,GAAGR,MAAH,CAAU6b,iBAAV,CAA4B,OAA5B,EAAqCkd,SAASxvB,EAA9C,EAAkDd,UAAlD,EADoB;AAAA,KAAtB,CADqB;AAAA,GAAvB;;AAKA;;;;AAIAjI,KAAGw4B,MAAH,GAAY,UAASC,QAAT,EAAmBn2B,OAAnB,EAA4B;AACtC,SAAK7H,IAAL,GAAY,EAAZ;AACA,SAAKi+B,SAAL,GAAiB,SAAjB;AACA,SAAKl+B,KAAL,GAAa,IAAb;AACA,QAAIi+B,YAAY,QAAOA,QAAP,uDAAOA,QAAP,OAAoB,QAApC,EAA8C;AAC5C,WAAKh+B,IAAL,GAAYg+B,QAAZ;AACD,KAFD,MAEO;AACL,UAAIA,QAAJ,EAAc;AACZ,aAAKh+B,IAAL,CAAUg8B,KAAV,GAAkBgC,QAAlB;AACD;AACD,UAAIn2B,OAAJ,EAAa;AACX,aAAK7H,IAAL,CAAU6H,OAAV,GAAoBA,OAApB;AACD;AACF;AACD,WAAO,IAAP;AACD,GAfD;;AAiBAzI,IAAEsE,MAAF,CACE6B,GAAGw4B,MAAH,CAAUp6B,SADZ;AAEE,mCAAkC;AAChC;;;;AAIAwQ,SAAK,aAASoN,IAAT,EAAe;AAClB,aAAO,KAAKvhB,IAAL,CAAUuhB,IAAV,CAAP;AACD,KAP+B;AAQhC;;;;;AAKAnN,SAAK,aAAS7T,GAAT,EAAcD,KAAd,EAAqB;AACxB,WAAKN,IAAL,CAAUO,GAAV,IAAiBD,KAAjB;AACA,aAAO,IAAP;AACD,KAhB+B;AAiBhC;;;;;;AAMA0hB,aAAS,iBAAShP,OAAT,EAAkB;AACzB,UAAI,CAAC,KAAK1E,EAAV,EACE,OAAO,kBAAQ0I,MAAR,CAAe,IAAIxV,KAAJ,CAAU,8BAAV,CAAf,CAAP;AACF,UAAIT,UAAUyd,UAAU,UAAV,EAAsB,IAAtB,EAA4B,KAAKlQ,EAAjC,EAAqC,QAArC,EAA+C0E,OAA/C,CAAd;AACA,aAAOjS,OAAP;AACD,KA5B+B;AA6BhC;;;;AAIAm9B,cAAU,oBAAW;AACnB,UAAI,CAAC,KAAK5vB,EAAV,EAAc,OAAO,IAAP;AACd,aAAO/I,GAAGR,MAAH,CAAU6b,iBAAV,CAA4B,SAA5B,EAAuC,KAAKtS,EAA5C,CAAP;AACD,KApC+B;AAqChC6vB,kBAAc,wBAAW;AACvB,UAAIxjB,OAAOvb,EAAEyP,KAAF,CAAQ,KAAK7O,IAAb,CAAX;AACA,aAAOuF,GAAG4H,OAAH,CAAWwN,IAAX,CAAP;AACD,KAxC+B;AAyChC;;;;;;;;;;;;;;;;;;AAkBA6iB,UAAM,gBAAuB;AAAA;;AAAA,UAAdxqB,OAAc,uEAAJ,EAAI;;AAC3B,UAAI,CAACtQ,gBAAgBsQ,OAAhB,CAAD,IAA6B,CAACzN,GAAGsB,IAAH,CAAQkQ,OAAR,EAAlC,EAAqD;AACnD,cAAM,IAAIvV,KAAJ,CAAU,wBAAV,CAAN;AACD;AACD,UAAI,CAAC,KAAKzB,KAAV,EAAiB;AACf,eAAOwF,GAAGw4B,MAAH,CAAUK,qBAAV,CAAgC,IAAhC,EAAsCprB,OAAtC,CAAP;AACD;;AAED,aAAO6qB,eAAe7qB,OAAf,EACJ/R,IADI,CACC,oBAAY;AAChB,YAAIlB,QAAQ,MAAKA,KAAL,CAAW2qB,UAAX,EAAZ;AACA3qB,cAAMuI,SAAN,GAAkB,MAAKvI,KAAL,CAAWuI,SAA7B;AACA,YAAItI,OAAO,EAAX;AACAA,aAAKD,KAAL,GAAaA,KAAb;AACA,cAAKC,IAAL,GAAY,MAAKA,IAAL,IAAa,EAAzB;AACA,cAAKA,IAAL,CAAUkO,MAAV,GAAmB,MAAKlO,IAAL,CAAUkO,MAAV,IAAoB4vB,QAAvC;AACA99B,aAAKA,IAAL,GAAY,MAAKm+B,YAAL,EAAZ;AACAn+B,aAAKi+B,SAAL,GAAiB,MAAKA,SAAL,IAAkB,SAAnC;;AAEA,eAAOzf,UAAU,UAAV,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,MAAlC,EAA0Cxe,IAA1C,EAAgDgT,OAAhD,CAAP;AACD,OAZI,EAaJ/R,IAbI,CAaC,oBAAY;AAChB,cAAKqN,EAAL,GAAUpN,SAASqH,QAAnB;AACA,cAAK4d,SAAL,GAAiB5gB,GAAGyH,UAAH,CAAc9L,SAASilB,SAAvB,CAAjB;AACA,eAAO,KAAP;AACD,OAjBI,CAAP;AAkBD,KArF+B;;AAuFhCrX,kBAAc,sBAAS8Y,UAAT,EAAqB;AACjC,WAAKtZ,EAAL,GAAUsZ,WAAWrf,QAArB;AACA,WAAK4d,SAAL,GAAiB5gB,GAAGyH,UAAH,CAAc4a,WAAWzB,SAAzB,CAAjB;AACA,WAAKE,SAAL,GAAiB9gB,GAAGyH,UAAH,CAAc4a,WAAWvB,SAAzB,CAAjB;AACA,WAAKgY,SAAL,GAAiBzW,WAAWyW,SAA5B;AACA,aAAOzW,WAAWyW,SAAlB;AACA,aAAOzW,WAAWrf,QAAlB;AACA,aAAOqf,WAAWzB,SAAlB;AACA,aAAOyB,WAAWvB,SAAlB;AACA,WAAKrmB,IAAL,GAAYuF,GAAGkJ,OAAH,CAAWmZ,UAAX,CAAZ;AACD;AAjG+B,GAFpC;;AAuGA;;;;;;;;;;;;;;;;AAgBAriB,KAAGw4B,MAAH,CAAUK,qBAAV,GAAkC,UAASj9B,MAAT,EAA+B;AAAA,QAAd6R,OAAc,uEAAJ,EAAI;;AAC/D,QAAI,CAACtQ,gBAAgBsQ,OAAhB,CAAD,IAA6B,CAACzN,GAAGsB,IAAH,CAAQkQ,OAAR,EAAlC,EAAqD;AACnD,YAAM,IAAIvV,KAAJ,CAAU,wBAAV,CAAN;AACD;AACD,WAAOq8B,eAAe7qB,OAAf,EAAwB/R,IAAxB,CAA6B,oBAAY;AAC9C,UAAIlB,QAAQ,EAAZ;AACAA,YAAMuI,SAAN,GAAkB,WAAlB;AACAvI,YAAMsC,IAAN,GAAa,UAAb;AACAtC,YAAM4qB,KAAN,GAAc,EAAE9nB,MAAMi7B,QAAR,EAAd;AACA,UAAI99B,OAAO,EAAX;AACAA,WAAKD,KAAL,GAAaA,KAAb;AACAoB,aAAOnB,IAAP,GAAcmB,OAAOnB,IAAP,IAAe,EAA7B;AACAmB,aAAOnB,IAAP,CAAYkO,MAAZ,GAAqB/M,OAAOnB,IAAP,CAAYkO,MAAZ,IAAsB4vB,QAA3C;AACA99B,WAAKA,IAAL,GAAYmB,OAAOg9B,YAAP,EAAZ;AACAn+B,WAAKi+B,SAAL,GAAiB98B,OAAO88B,SAAP,IAAoB,SAArC;;AAEA,UAAIl9B,UAAUyd,UAAU,UAAV,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,MAAlC,EAA0Cxe,IAA1C,EAAgDgT,OAAhD,CAAd;AACA,aAAOjS,QAAQE,IAAR,CAAa,UAASC,QAAT,EAAmB;AACrCC,eAAOmN,EAAP,GAAYpN,SAASqH,QAArB;AACApH,eAAOglB,SAAP,GAAmB5gB,GAAGyH,UAAH,CAAc9L,SAASilB,SAAvB,CAAnB;AACA,eAAOhlB,MAAP;AACD,OAJM,CAAP;AAKD,KAlBM,CAAP;AAmBD,GAvBD;;AAyBA;;;;;;;;;;;;;;;;;;AAkBAoE,KAAGw4B,MAAH,CAAUO,iBAAV,GAA8B,UAASn9B,MAAT,EAAiBgB,MAAjB,EAAuC;AAAA,QAAd6Q,OAAc,uEAAJ,EAAI;;AACnE,QAAI,CAACtQ,gBAAgBsQ,OAAhB,CAAD,IAA6B,CAACzN,GAAGsB,IAAH,CAAQkQ,OAAR,EAAlC,EAAqD;AACnD,YAAM,IAAIvV,KAAJ,CAAU,wBAAV,CAAN;AACD;AACD,QAAI,CAACW,MAAL,EAAa;AACX,YAAM,IAAIX,KAAJ,CAAU,sBAAV,CAAN;AACD;AACD,QAAIswB,eAAe1yB,EAAEiN,QAAF,CAAWlK,MAAX,IAAqBA,MAArB,GAA8BA,OAAOmM,EAAxD;AACA,QAAI,CAACwjB,YAAL,EAAmB;AACjB,YAAM,IAAItwB,KAAJ,CAAU,sBAAV,CAAN;AACD;AACD,WAAOq8B,eAAe7qB,OAAf,EAAwB/R,IAAxB,CAA6B,oBAAY;AAC9C,UAAIlB,QAAQ,EAAZ;AACAA,YAAMuI,SAAN,GAAkB,OAAlB;AACAvI,YAAM4qB,KAAN,GAAc,EAAEpiB,UAAUupB,YAAZ,EAAd;AACA,UAAI9xB,OAAO,EAAX;AACAA,WAAKD,KAAL,GAAaA,KAAb;AACAoB,aAAOnB,IAAP,GAAcmB,OAAOnB,IAAP,IAAe,EAA7B;AACAmB,aAAOnB,IAAP,CAAYkO,MAAZ,GAAqB/M,OAAOnB,IAAP,CAAYkO,MAAZ,IAAsB4vB,QAA3C;AACA99B,WAAKA,IAAL,GAAYmB,OAAOg9B,YAAP,EAAZ;AACAn+B,WAAKi+B,SAAL,GAAiB,SAAjB;AACA98B,aAAO88B,SAAP,GAAmB,SAAnB;;AAEA,UAAIl9B,UAAUyd,UAAU,UAAV,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,MAAlC,EAA0Cxe,IAA1C,EAAgDgT,OAAhD,CAAd;AACA,aAAOjS,QAAQE,IAAR,CAAa,UAASC,QAAT,EAAmB;AACrCC,eAAOmN,EAAP,GAAYpN,SAASqH,QAArB;AACApH,eAAOglB,SAAP,GAAmB5gB,GAAGyH,UAAH,CAAc9L,SAASilB,SAAvB,CAAnB;AACA,eAAOhlB,MAAP;AACD,OAJM,CAAP;AAKD,KAlBM,CAAP;AAmBD,GA9BD;;AAgCA;;;;;;;;;;;;;;AAcAoE,KAAGw4B,MAAH,CAAUQ,mBAAV,GAAgC,UAC9Bhe,KAD8B,EAI9B;AAAA,QAFA0d,SAEA,uEAFY,SAEZ;AAAA,QADAjrB,OACA,uEADU,EACV;;AACA,QAAI,CAAC5T,EAAEiN,QAAF,CAAW4xB,SAAX,CAAL,EAA4BjrB,UAAUirB,SAAV;AAC5B,QAAI,CAACv7B,gBAAgBsQ,OAAhB,CAAD,IAA6BuN,SAAS,IAAtC,IAA8C,CAAChb,GAAGsB,IAAH,CAAQkQ,OAAR,EAAnD,EAAsE;AACpE,YAAM,IAAIvV,KAAJ,CAAU,mDAAV,CAAN;AACD;AACD,WAAO,kBAAQ2D,OAAR,CAAgBob,SAASqd,QAAQ5qB,OAAR,CAAzB,EAA2C/R,IAA3C,CAAgD,iBAAS;AAC9D,UAAIoxB,SAAS,EAAb;AACAA,aAAO4L,SAAP,GAAmB14B,GAAG4H,OAAH,CAAW8wB,SAAX,CAAnB;AACA5L,aAAO9R,KAAP,GAAehb,GAAG4H,OAAH,CAAWoT,KAAX,CAAf;AACA,aAAO/B,UACL,0BADK,EAEL,IAFK,EAGL,IAHK,EAIL,KAJK,EAKL6T,MALK,EAMLrf,OANK,CAAP;AAQD,KAZM,CAAP;AAaD,GAtBD;;AAwBA;;;;;;;;;;;;;;AAcAzN,KAAGw4B,MAAH,CAAUS,gBAAV,GAA6B,UAC3Bje,KAD2B,EAI3B;AAAA,QAFA0d,SAEA,uEAFY,SAEZ;AAAA,QADAjrB,OACA,uEADU,EACV;;AACA,QAAI,CAAC5T,EAAEiN,QAAF,CAAW4xB,SAAX,CAAL,EAA4BjrB,UAAUirB,SAAV;AAC5B,QAAI,CAACv7B,gBAAgBsQ,OAAhB,CAAD,IAA6BuN,SAAS,IAAtC,IAA8C,CAAChb,GAAGsB,IAAH,CAAQkQ,OAAR,EAAnD,EAAsE;AACpE,YAAM,IAAIvV,KAAJ,CAAU,mDAAV,CAAN;AACD;AACD,WAAO,kBAAQ2D,OAAR,CAAgBob,SAASqd,QAAQ5qB,OAAR,CAAzB,EAA2C/R,IAA3C,CAAgD,iBAAS;AAC9D,UAAIoxB,SAAS,EAAb;AACAA,aAAO4L,SAAP,GAAmB14B,GAAG4H,OAAH,CAAW8wB,SAAX,CAAnB;AACA5L,aAAO9R,KAAP,GAAehb,GAAG4H,OAAH,CAAWoT,KAAX,CAAf;AACA,aAAO/B,UACL,qCADK,EAEL,IAFK,EAGL,IAHK,EAIL,MAJK,EAKL6T,MALK,EAMLrf,OANK,CAAP;AAQD,KAZM,CAAP;AAaD,GAtBD;;AAwBA;;;;;;;;;;;;AAYAzN,KAAGw4B,MAAH,CAAUU,WAAV,GAAwB,UAASvwB,MAAT,EAAiB;AACvC,QAAInO,QAAQ,IAAIwF,GAAGoY,KAAP,CAAa,SAAb,CAAZ;AACA,QAAIzP,MAAJ,EAAY;AACVnO,YAAM6d,OAAN,CAAc,QAAd,EAAwB1P,MAAxB;AACD;AACD,WAAOnO,KAAP;AACD,GAND;;AAQA;;;;AAIAwF,KAAGm5B,UAAH,GAAgBn5B,GAAGoY,KAAH,CAAS1Q,OAAT;AACd,uCAAsC;AACpC0xB,kBAAcp5B,GAAGw4B,MADmB;AAEpCa,cAAU,CAF0B;AAGpCC,YAAQ,CAH4B;AAIpCC,gBAAY,SAJwB;AAKpCC,YAAQ,IAL4B;AAMpC9I,gBAAY,sBAAW;AACrB,aAAO,IAAI1wB,GAAGw4B,MAAP,EAAP;AACD,KARmC;AASpCpH,oBAAgB,wBAAStE,MAAT,EAAiBrf,OAAjB,EAA0B;AACxC,aAAOzN,GAAGm5B,UAAH,CAAc96B,SAAd,CAAwB+yB,cAAxB,CAAuCxgB,IAAvC,CACL,IADK,EAELkc,MAFK,EAGLrf,OAHK,EAIL,qBAJK,CAAP;AAMD,KAhBmC;;AAkBpC;;;;;;;AAOAgsB,aAAS,iBAAS1wB,EAAT,EAAa;AACpB,WAAKswB,QAAL,GAAgBtwB,EAAhB;AACA,aAAO,IAAP;AACD,KA5BmC;AA6BpC;;;;;;;AAOA2wB,WAAO,eAAS3wB,EAAT,EAAa;AAClB,WAAKuwB,MAAL,GAAcvwB,EAAd;AACA,aAAO,IAAP;AACD,KAvCmC;AAwCpC;;;;;AAKAiS,WAAO,eAASA,MAAT,EAAgB;AACrB,WAAKwe,MAAL,GAAcxe,MAAd;AACA,aAAO,IAAP;AACD,KAhDmC;AAiDpC;;;;;AAKA0d,eAAW,mBAASxd,IAAT,EAAe;AACxB,WAAKqe,UAAL,GAAkBre,IAAlB;AACA,aAAO,IAAP;AACD,KAzDmC;AA0DpCiK,gBAAY,sBAAW;AACrB,UAAI2H,SAAS9sB,GAAGm5B,UAAH,CAAc96B,SAAd,CAAwB8mB,UAAxB,CAAmCvU,IAAnC,CAAwC,IAAxC,CAAb;AACAkc,aAAO9R,KAAP,GAAehb,GAAG4H,OAAH,CAAW,KAAK4xB,MAAhB,CAAf;AACA1M,aAAO4L,SAAP,GAAmB14B,GAAG4H,OAAH,CAAW,KAAK2xB,UAAhB,CAAnB;AACAzM,aAAO2M,OAAP,GAAiBz5B,GAAG4H,OAAH,CAAW,KAAKyxB,QAAhB,CAAjB;AACAvM,aAAO4M,KAAP,GAAe15B,GAAG4H,OAAH,CAAW,KAAK0xB,MAAhB,CAAf;AACA,aAAOxM,MAAP;AACD;AAjEmC,GADxB,CAAhB;;AAsEA;;;;;;;;;;;;;;;;AAgBA9sB,KAAGw4B,MAAH,CAAUmB,UAAV,GAAuB,UAAS3e,KAAT,EAAgB0d,SAAhB,EAA2B;AAChD,QAAIl+B,QAAQ,IAAIwF,GAAGm5B,UAAP,CAAkBn5B,GAAGw4B,MAArB,CAAZ;AACA,QAAIxd,KAAJ,EAAW;AACTxgB,YAAMg/B,MAAN,GAAexe,KAAf;AACD;AACD,QAAI0d,SAAJ,EAAe;AACbl+B,YAAM++B,UAAN,GAAmBb,SAAnB;AACD;AACD,WAAOl+B,KAAP;AACD,GATD;AAUD,CAzaD,C;;;;;;;;;;;;;;;ACJA,IAAMX,IAAIC,mBAAOA,CAAC,CAAR,CAAV;AACA,IAAMmf,YAAYnf,mBAAOA,CAAC,CAAR,EAAqB+I,QAAvC;;AAEAhD,OAAOC,OAAP,GAAiB,UAASE,EAAT,EAAa;AAC5B;;;;;;;;;;;AAWAA,KAAG45B,iBAAH,GAAuB,YAAW;AAChC,SAAKC,WAAL,GAAmB,EAAnB;AACD,GAFD;;AAIAhgC,IAAEsE,MAAF,CACE6B,GAAG45B,iBAAH,CAAqBx7B,SADvB;AAEE,8CAA6C;AAC3C07B,eAAW,mBAAS9+B,GAAT,EAAcg2B,KAAd,EAAqBzU,IAArB,EAA2Bwd,OAA3B,EAAoC;AAC7C,UAAI9b,QAAQ,EAAZ;AACAA,YAAMjjB,GAAN,IAAa;AACXg2B,eAAOA,SAAS,KADL;AAEXzU,cAAMA,QAAQ,KAFH;AAGXwd,iBAAS,OAAOA,WAAW,MAAlB;AAHE,OAAb;AAKA,WAAKF,WAAL,CAAiBpvB,IAAjB,CAAsBwT,KAAtB;AACA,aAAO,IAAP;AACD,KAV0C;;AAY3C;;;;;;;;;;AAUA2V,eAAW,mBAAS54B,GAAT,EAAcuhB,IAAd,EAAoBwd,OAApB,EAA6B;AACtC,aAAO,KAAKD,SAAL,CAAe9+B,GAAf,EAAoB,KAApB,EAA2BuhB,IAA3B,EAAiCwd,OAAjC,CAAP;AACD,KAxB0C;;AA0B3C;;;;;;;;;;AAUAjG,gBAAY,oBAAS94B,GAAT,EAAcuhB,IAAd,EAAoBwd,OAApB,EAA6B;AACvC,aAAO,KAAKD,SAAL,CAAe9+B,GAAf,EAAoB,MAApB,EAA4BuhB,IAA5B,EAAkCwd,OAAlC,CAAP;AACD,KAtC0C;;AAwC3C;;;;;;;;AAQAC,eAAW,mBAASh/B,GAAT,EAAcgX,KAAd,EAAqBvE,OAArB,EAA8B;AACvCA,gBAAUA,WAAW,EAArB;AACA,UAAIwQ,QAAQ,EAAZ;AACA,UAAIgc,MAAM;AACRC,aAAKloB,MAAMvI,QADH;AAER0wB,aAAKnoB,MAAMtI;AAFH,OAAV;AAIA,UAAI0wB,IAAI;AACNpJ,eAAOvjB,QAAQujB,KAAR,IAAiB,KADlB;AAENzU,cAAM9O,QAAQ8O,IAAR,IAAgB,KAFhB;AAGN8d,cAAM5sB,QAAQ4sB,IAAR,IAAgB;AAHhB,OAAR;AAKAD,QAAEp/B,GAAF,IAASi/B,GAAT;AACAhc,YAAM,eAAN,IAAyBmc,CAAzB;;AAEA,WAAKP,WAAL,CAAiBpvB,IAAjB,CAAsBwT,KAAtB;AACA,aAAO,IAAP;AACD,KAjE0C;;AAmE3C;;;;AAIAqc,WAAO,iBAAW;AAChB,aAAO,yBAAet6B,GAAG4H,OAAH,CAAW,KAAKiyB,WAAhB,CAAf,CAAP;AACD;AAzE0C,GAF/C;;AA+EA;;;;;;;;;;;;;;;AAeA75B,KAAGu6B,WAAH,GAAiBv6B,GAAGoY,KAAH,CAAS1Q,OAAT;AACf,wCAAuC;AACrC8yB,UAAM,IAD+B;AAErCC,WAAO,CAF8B;AAGrCC,kBAAc,IAHuB;AAIrCC,iBAAa,IAJwB;AAKrCC,kBAAc,IALuB;AAMrCxJ,oBAAgB,wBAAStE,MAAT,EAAiBrf,OAAjB,EAA0B;AACxC,aAAOwL,UACL,eADK,EAEL,IAFK,EAGL,IAHK,EAIL,KAJK,EAKL6T,UAAU,KAAK3H,UAAL,EALL,EAML1X,OANK,CAAP;AAQD,KAfoC;;AAiBrC;;;;;AAKAotB,SAAK,aAASA,IAAT,EAAc;AACjB,WAAKL,IAAL,GAAYK,IAAZ;AACA,aAAO,IAAP;AACD,KAzBoC;;AA2BrC;;;;;AAKAhgC,iBAAa,qBAASs1B,CAAT,EAAY;AACvB,WAAKuK,YAAL,GAAoBvK,CAApB;AACA,aAAO,IAAP;AACD,KAnCoC;;AAqCrC;;;;;;;;;;AAUA2K,gBAAY,oBAASA,WAAT,EAAqB;AAC/B,UAAIvkB,OAAJ;AACA,UAAIukB,eAAcjhC,EAAEiN,QAAF,CAAWg0B,WAAX,CAAlB,EAA0C;AACxCvkB,kBAAUrY,SAAV;AACD,OAFD,MAEO;AACLqY,kBAAUukB,WAAV;AACD;AACD,WAAKH,WAAL,GAAmBpkB,OAAnB;AACA,aAAO,IAAP;AACD,KAxDoC;;AA0DrC;;;;;;;AAOAwkB,YAAQ,gBAASC,OAAT,EAAkB;AACxB,WAAKJ,YAAL,GAAoBI,OAApB;AACA,aAAO,IAAP;AACD,KApEoC;;AAsErC;;;;AAIAC,UAAM,gBAAW;AACf,UAAI,CAAC,KAAKR,KAAV,EAAiB;AACf,aAAKA,KAAL,GAAa,CAAb;AACD;AACD,aAAO,KAAKA,KAAZ;AACD,KA/EoC;;AAiFrC9J,oBAAgB,wBAASvb,IAAT,EAAe;AAC7B,aAAOA,KAAK,WAAL,CAAP;AACA,aAAOA,KAAK,UAAL,CAAP;AACA,aAAOA,KAAK,WAAL,CAAP;AACA,aAAOA,IAAP;AACD,KAtFoC;;AAwFrC;;;;;;AAMA8lB,aAAS,mBAAW;AAClB,aAAO,CAAC,KAAKC,OAAb;AACD,KAhGoC;;AAkGrC;;;;AAIAC,WAAO,iBAAW;AAChB,WAAKD,OAAL,GAAe,KAAf;AACA,WAAKX,IAAL,GAAY,IAAZ;AACA,WAAKC,KAAL,GAAa,CAAb;AACD,KA1GoC;;AA4GrC;;;;;;;;;AASA5jB,UAAM,gBAAW;AACf,UAAI3F,OAAO,IAAX;;AAEA,UAAI1V,UAAU,KAAK41B,cAAL,EAAd;;AAEA,aAAO51B,QAAQE,IAAR,CAAa,UAASC,QAAT,EAAmB;AACrC;AACA,YAAIA,SAASk/B,GAAb,EAAkB;AAChB3pB,eAAKmqB,OAAL,GAAenqB,KAAKspB,IAApB;AACAtpB,eAAKspB,IAAL,GAAY7+B,SAASk/B,GAArB;AACD,SAHD,MAGO;AACL3pB,eAAKspB,IAAL,GAAY,IAAZ;AACAtpB,eAAKiqB,OAAL,GAAe,IAAf;AACD;AACDjqB,aAAKupB,KAAL,GAAa9+B,SAASs/B,IAAT,IAAiB,CAA9B;;AAEA,eAAOphC,EAAEiB,GAAF,CAAMa,SAASsjB,OAAf,EAAwB,UAAS7J,IAAT,EAAe;AAC5C,cAAIA,KAAKrS,SAAT,EAAoB;AAClBpH,qBAASoH,SAAT,GAAqBqS,KAAKrS,SAA1B;AACD;AACD,cAAIxD,MAAM2R,KAAKwf,UAAL,CAAgB/0B,QAAhB,CAAV;AACA4D,cAAI+7B,MAAJ,GAAalmB,KAAK,UAAL,CAAb;AACA7V,cAAIgK,YAAJ,CAAiB2H,KAAKyf,cAAL,CAAoBvb,IAApB,CAAjB,EAA4C,IAA5C;AACA,iBAAO7V,GAAP;AACD,SARM,CAAP;AASD,OApBM,CAAP;AAqBD,KA/IoC;;AAiJrC4lB,gBAAY,sBAAW;AACrB,UAAI2H,SAAS9sB,GAAGu6B,WAAH,CAAel8B,SAAf,CAAyB8mB,UAAzB,CAAoCvU,IAApC,CAAyC,IAAzC,CAAb;AACA,aAAOkc,OAAO1H,KAAd;AACA,UAAI,KAAKriB,SAAT,EAAoB;AAClB+pB,eAAOyO,KAAP,GAAe,KAAKx4B,SAApB;AACD;AACD,UAAI,KAAKy3B,IAAT,EAAe;AACb1N,eAAO+N,GAAP,GAAa,KAAKL,IAAlB;AACD;AACD,UAAI,CAAC,KAAKE,YAAV,EAAwB;AACtB,cAAM,IAAIz+B,KAAJ,CAAU,0BAAV,CAAN;AACD,OAFD,MAEO;AACL6wB,eAAOqD,CAAP,GAAW,KAAKuK,YAAhB;AACD;AACD,UAAI,KAAKC,WAAT,EAAsB;AACpB7N,eAAOgO,UAAP,GAAoB,KAAKH,WAAL,CAAiBr/B,IAAjB,CAAsB,GAAtB,CAApB;AACD;AACD,UAAI,KAAKs/B,YAAL,IAAqB9N,OAAOkE,KAAhC,EAAuC;AACrC,cAAM,IAAI/0B,KAAJ,CAAU,6CAAV,CAAN;AACD;AACD,UAAI,KAAK2+B,YAAT,EAAuB;AACrB9N,eAAO0O,IAAP,GAAc,KAAKZ,YAAL,CAAkBN,KAAlB,EAAd;AACD;;AAED,aAAOxN,MAAP;AACD;AA1KoC,GADxB,CAAjB;AA8KD,CA5RD;;AA8RA;;;;;;;AAOA;;;;;;;;AAQA;;;;;;;AAOA;;;;;;;;AAQA;;;;;;;AAOA;;;;;;;;AAQA;;;;;;;;;;;;;;;;;;;;;AC9UA,IAAMjzB,IAAIC,mBAAOA,CAAC,CAAR,CAAV;AACA,IAAMsJ,UAAUtJ,mBAAOA,CAAC,EAAR,CAAhB;;eACoBA,mBAAOA,CAAC,CAAR,C;IAAZ0B,O,YAAAA,O;;AAERqE,OAAOC,OAAP,GAAiB,UAASE,EAAT,EAAa;AAC5B;;;;;;;;AAQAA,KAAGy7B,OAAH,GAAaz7B,GAAGy7B,OAAH,IAAc,EAA3B;;AAEA5hC,IAAEsE,MAAF,CACE6B,GAAGy7B,OADL;AAEE,0BAAyB;AACvB;;;;;;;;;;;;;;;;AAgBAC,cAAU,kBAASC,SAAT,EAAoBluB,OAApB,EAA6B;AACrC,UAAI,CAACkuB,SAAD,IAAc,CAACA,UAAUC,GAA7B,EAAkC;AAChC,cAAM,IAAI3/B,KAAJ,CAAU,wCAAV,CAAN;AACD;AACD,UAAIxB,OAAO;AACTkhC,mBAAWA,SADF;AAET9uB,eAAO7M,GAAGU;AAFD,OAAX;AAIA,aAAOlF,QAAQ;AACbqG,cAAM,gBADO;AAEbvH,gBAAQ,MAFK;AAGbG,cAAMuF,GAAG4H,OAAH,CAAWnN,IAAX,EAAiB,IAAjB,EAAuB,IAAvB,CAHO;AAIb2C,qBAAaqQ,OAJA;AAKblN,iBAAS;AALI,OAAR,EAMJ7E,IANI,CAMC;AAAA,eAAQsE,GAAGkJ,OAAH,CAAWsc,IAAX,EAAiBzc,EAAzB;AAAA,OAND,CAAP;AAOD,KAhCsB;;AAkCvB;;;;;;;;;;AAUA2G,QAAI,YAASI,KAAT,EAAgBQ,EAAhB,EAAoB,CAAE;AA5CH,GAF3B;;AAkDA;;;;;;AAMAtQ,KAAGy7B,OAAH,CAAWI,QAAX,GAAsB,UAAS9yB,EAAT,EAAahG,SAAb,EAAwB;AAC5C,QAAI,CAACgG,EAAL,EAAS;AACP,YAAM,IAAI9M,KAAJ,CAAU,4BAAV,CAAN;AACD;AACD,SAAK8M,EAAL,GAAUA,EAAV;AACA,SAAKhG,SAAL,GAAiBA,SAAjB;AACA,SAAKitB,KAAL,GAAa,CAAb;AACA,SAAKD,MAAL,GAAc,GAAd;AACD,GARD;;AAUAl2B,IAAEsE,MAAF,CACE6B,GAAGy7B,OAAH,CAAWI,QAAX,CAAoBz9B,SADtB;AAEE,6CAA4C;AAC1C;;;;;;;AAOA2yB,UAAM,cAASe,CAAT,EAAY;AAChB,WAAK9B,KAAL,GAAa8B,CAAb;AACA,aAAO,IAAP;AACD,KAXyC;;AAa1C;;;;;;AAMAhB,WAAO,eAASgB,CAAT,EAAY;AACjB,WAAK/B,MAAL,GAAc+B,CAAd;AACA,aAAO,IAAP;AACD,KAtByC;;AAwB1C;;;;;;;;;;AAUAjb,UAAM,cAASpJ,OAAT,EAAkB;AACtB,UAAIqf,SAAS;AACXiE,cAAM,KAAKf,KADA;AAEXc,eAAO,KAAKf;AAFD,OAAb;;AAKA,aAAOv0B,QAAQ;AACbqG,kCAAwB,KAAKkH,EADhB;AAEbzO,gBAAQ,KAFK;AAGbE,eAAOsyB,MAHM;AAIb1vB,qBAAaqQ,OAJA;AAKblN,iBAAS;AALI,OAAR,EAMJ7E,IANI,CAMC,UAASC,QAAT,EAAmB;AACzB,YAAIA,SAASK,KAAb,EAAoB;AAClB,iBAAO,kBAAQyV,MAAR,CAAe,IAAIrO,OAAJ,CAAYzH,SAAS0G,IAArB,EAA2B1G,SAASK,KAApC,CAAf,CAAP;AACD;AACD,eAAO,kBAAQ4D,OAAR,CAAgBjE,QAAhB,CAAP;AACD,OAXM,CAAP;AAYD;AApDyC,GAF9C;AAyDD,CAtID,C;;;;;;;;;;;;;;;ACJA,IAAM9B,IAAIC,mBAAOA,CAAC,CAAR,CAAV;;eACqBA,mBAAOA,CAAC,CAAR,C;IAAb+I,Q,YAAAA,Q;;AACR,IAAM7C,KAAKlG,mBAAOA,CAAC,EAAR,CAAX;;AAEA,IAAMgiC,mBAAmB,SAAnBA,gBAAmB,UAAW;AAClC,MAAI,OAAOx5B,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,WAAOA,OAAP;AACD;AACD,MAAI,OAAOA,QAAQy5B,UAAf,KAA8B,UAAlC,EAA8C;AAC5C,WAAO,yBAAez5B,QAAQy5B,UAAR,EAAf,CAAP;AACD;AACD,SAAO,yBAAez5B,OAAf,CAAP;AACD,CARD;;AAUA;;;;;;;;;;;;;AAaAzC,OAAOC,OAAP,GAAiBE,GAAGR,MAAH,CAAUrB,MAAV,CACf,eADe;AAEf,uCAAwC;AACtCH,aADsC,uBAC1B8L,IAD0B,EACN;AAAA,QAAd2D,OAAc,uEAAJ,EAAI;;AAC9BzN,OAAGR,MAAH,CAAUpB,SAAV,CAAoBJ,WAApB,CAAgC4S,IAAhC,CAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD;AACA,SAAK/B,GAAL,CAAS,MAAT,EAAiB/E,IAAjB;AACA,QAAI2D,QAAQuuB,QAAR,KAAqB/gC,SAAzB,EAAoC;AAClC,WAAK4T,GAAL,CAAS,KAAT,EAAgBpB,QAAQuuB,QAAR,GAAmB,IAAnB,GAA0B,KAA1C;AACD;AACD,QAAIvuB,QAAQwuB,WAAR,KAAwBhhC,SAA5B,EAAuC;AACrC,WAAK4T,GAAL,CAAS,IAAT,EAAepB,QAAQwuB,WAAR,GAAsB,IAAtB,GAA6B,KAA5C;AACD;AACF,GAVqC;;AAWtC;;;;;AAKAC,YAhBsC,wBAgBzB;AACX,WAAO,KAAKttB,GAAL,CAAS,GAAT,CAAP;AACD,GAlBqC;;;AAoBtC;;;;;AAKAutB,kBAzBsC,8BAyBnB;AACjB,WAAO,KAAKvtB,GAAL,CAAS,IAAT,CAAP;AACD,GA3BqC;;;AA6BtC;;;;;AAKAwtB,YAlCsC,wBAkCzB;AACX,WAAO,KAAKxtB,GAAL,CAAS,GAAT,CAAP;AACD,GApCqC;;;AAsCtC;;;;;AAKAytB,WA3CsC,qBA2C5BC,MA3C4B,EA2CpB;AAChB,WAAO,KAAK/jB,GAAL,CAAS,GAAT,EAAc+jB,MAAd,CAAP;AACD,GA7CqC;;;AA+CtC;;;;;AAKAC,iBApDsC,6BAoDpB;AAChB,WAAO,KAAK3tB,GAAL,CAAS,IAAT,CAAP;AACD,GAtDqC;;;AAwDtC;;;;;AAKAqF,SA7DsC,qBA6D5B;AACR,WAAO,KAAKrF,GAAL,CAAS,MAAT,CAAP;AACD,GA/DqC;;;AAiEtC;;;;;AAKAqtB,aAtEsC,yBAsExB;AACZ,WAAO,KAAKrtB,GAAL,CAAS,IAAT,CAAP;AACD,GAxEqC;;;AA0EtC;;;;;AAKAotB,UA/EsC,sBA+E3B;AACT,WAAO,KAAKptB,GAAL,CAAS,KAAT,CAAP;AACD,GAjFqC;;;AAmFtC;;;;;;;;;;;;;;AAcAqpB,MAjGsC,gBAiGjCuE,UAjGiC,EAiGrBl6B,OAjGqB,EAiGoB;AAAA,QAAhCmL,OAAgC,uEAAtB,EAAsB;AAAA,QAAlBrQ,WAAkB,uEAAJ,EAAI;;AACxD,QAAM3C,OAAO;AACXgiC,iBAAWD,UADA;AAEXE,eAAS,KAAK3zB,EAFH;AAGX4zB,iBAAW,KAHA;AAIXr6B,eAASw5B,iBAAiBx5B,OAAjB;AAJE,KAAb;AAMA,QAAImL,QAAQmvB,SAAR,KAAsB3hC,SAA1B,EAAqC;AACnCR,WAAKoiC,QAAL,GAAgBpvB,QAAQmvB,SAAxB;AACD;AACD,QAAInvB,QAAQkvB,SAAR,KAAsB1hC,SAA1B,EAAqC;AACnCR,WAAKkiC,SAAL,GAAiBlvB,QAAQkvB,SAAR,GAAoB,IAApB,GAA2B,KAA5C;AACD;AACD,QAAIlvB,QAAQqvB,QAAR,KAAqB7hC,SAAzB,EAAoC;AAClCR,WAAKsiC,SAAL,GAAiBtvB,QAAQqvB,QAAzB;AACD;AACD,WAAOj6B,SAAS,KAAT,EAAgB,UAAhB,EAA4B,IAA5B,EAAkC,MAAlC,EAA0CpI,IAA1C,EAAgD2C,WAAhD,CAAP;AACD,GAlHqC;;;AAoHtC;;;;;;;;;;;;;AAaA4/B,WAjIsC,qBAiI5BR,UAjI4B,EAiIhBl6B,OAjIgB,EAiIyB;AAAA,QAAhCmL,OAAgC,uEAAtB,EAAsB;AAAA,QAAlBrQ,WAAkB,uEAAJ,EAAI;;AAC7D,QAAM3C,OAAO;AACXgiC,iBAAWD,UADA;AAEXE,eAAS,KAAK3zB,EAFH;AAGXzG,eAASw5B,iBAAiBx5B,OAAjB;AAHE,KAAb;AAKA,QAAImL,QAAQqvB,QAAR,KAAqB7hC,SAAzB,EAAoC;AAClCR,WAAKgQ,IAAL,GAAYgD,QAAQqvB,QAApB;AACD;AACD,QAAIrvB,QAAQwvB,SAAR,KAAsBhiC,SAA1B,EAAqC;AACnC,UAAIiiC,KAAKzvB,QAAQwvB,SAAjB;AACA,UAAIpjC,EAAEyO,MAAF,CAAS40B,EAAT,CAAJ,EAAkB;AAChBA,aAAKA,GAAG98B,OAAH,EAAL;AACD;AACDqN,cAAQ0vB,UAAR,GAAqBD,EAArB;AACD;AACD,WAAOr6B,SAAS,KAAT,EAAgB,WAAhB,EAA6B,IAA7B,EAAmC,MAAnC,EAA2CpI,IAA3C,EAAiD2C,WAAjD,CAAP;AACD;AAlJqC,CAFzB,CAAjB,C;;;;;;;;;;;;;;;AC3BA,IAAMvD,IAAIC,mBAAOA,CAAC,CAAR,CAAV;;eACoBA,mBAAOA,CAAC,CAAR,C;IAAZ0B,O,YAAAA,O;;gBAC2B1B,mBAAOA,CAAC,CAAR,C;IAA3B4C,W,aAAAA,W;IAAa4B,S,aAAAA,S;;AACrB,IAAM0B,KAAKlG,mBAAOA,CAAC,EAAR,CAAX;;AAEA;;;;AAIAkG,GAAGo9B,gCAAH,GAAsC;AACpCC,SAAO,OAD6B;AAEpCC,OAAK,KAF+B;AAGpCC,QAAM,MAH8B;AAIpCC,SAAO;AAJ6B,CAAtC;;AAOA;;;;AAIAx9B,GAAGy9B,gBAAH,GAAsB;AACpBC,aAAW,WADS;AAEpBC,cAAY;AAFQ,CAAtB;;AAKA;;;;AAIA39B,GAAG49B,yBAAH,GAA+B;AAC7B;AACAC,UAAQ,QAFqB;AAG7B;AACAC,QAAM,MAJuB;AAK7B;AACAC,OAAK;AANwB,CAA/B;;AASA;;;;;;;;AAQA;;;;;;;;;;AAUA;;;AAGA,SAASC,SAAT,OAA6C;AAAA,MAAxBl0B,IAAwB,QAAxBA,IAAwB;AAAA,MAAlB/O,KAAkB,QAAlBA,KAAkB;AAAA,MAAX6G,OAAW,QAAXA,OAAW;;AAC3C;;;AAGA,OAAKkI,IAAL,GAAYA,IAAZ;AACA;;;AAGA,OAAK/O,KAAL,GAAaA,KAAb;AACA;;;AAGA,OAAK6G,OAAL,GAAeA,OAAf;AACD;;AAED,IAAMq8B,qBAAqB,SAArBA,kBAAqB,gBAAiB;AAAA,oBACsBj+B,GAAGkJ,OAAH,CAC9Dg1B,aAD8D,CADtB;AAAA,MACnBp0B,IADmB,eAClCq0B,aADkC;AAAA,MACGpjC,KADH,eACbqjC,cADa;AAAA,MACUx8B,OADV,eACUA,OADV;;AAI1C,SAAO,IAAIo8B,SAAJ,CAAc,EAAEl0B,UAAF,EAAQ/O,YAAR,EAAe6G,gBAAf,EAAd,CAAP;AACD,CALD;;AAOA;;;AAGA5B,GAAGq+B,WAAH,GAAiB,SAASA,WAAT,CAAqBF,aAArB,EAAoC;AACnD;;;AAGA,OAAKA,aAAL,GAAqBA,aAArB;AACA;;;AAGA,OAAKnN,KAAL,GAAa/1B,SAAb;AACA;;;AAGA,OAAKqjC,cAAL,GAAsBrjC,SAAtB;AACA;;;AAGA,OAAKsjC,qBAAL,GAA6BtjC,SAA7B;AACA;;;AAGA,OAAK2G,OAAL,GAAe3G,SAAf;AACA;;;AAGA,OAAKujC,WAAL,GAAmBvjC,SAAnB;AACA;;;AAGA,OAAK2lB,SAAL,GAAiB3lB,SAAjB;AACD,CA7BD;AA8BA,IAAMojC,cAAcr+B,GAAGq+B,WAAvB;;AAEA;;;;;AAKAr+B,GAAGq+B,WAAH,CAAehjB,iBAAf,GAAmC;AAAA,SACjC,IAAIgjB,WAAJ,CAAgBF,aAAhB,CADiC;AAAA,CAAnC;AAEA;;;;;;;;;;AAUAn+B,GAAGq+B,WAAH,CAAeI,iBAAf,GAAmC,iBAEjCrhC,WAFiC;AAAA,MAC/B+gC,aAD+B,SAC/BA,aAD+B;AAAA,MAChBnN,KADgB,SAChBA,KADgB;AAAA,MACTuN,qBADS,SACTA,qBADS;AAAA,MACcD,cADd,SACcA,cADd;AAAA,SAIjC9iC,QAAQ;AACNlB,YAAQ,MADF;AAENuH,UAAM,2BAFA;AAGNpH,UAAM;AACJ0jC,kCADI;AAEJnN,kBAFI;AAGJuN,kDAHI;AAIJD;AAJI,KAHA;AASNlhC;AATM,GAAR,EAUG1B,IAVH,CAUQ,gBAAQ;AACd,QAAMgjC,cAAc,IAAIL,WAAJ,CAAgBF,aAAhB,CAApB;AACA,WAAOO,YAAYn1B,YAAZ,CAAyB9O,IAAzB,CAAP;AACD,GAbD,CAJiC;AAAA,CAAnC;AAkBA;;;;;;AAMAuF,GAAGq+B,WAAH,CAAeM,cAAf,GAAgC,UAACR,aAAD,EAAgB/gC,WAAhB;AAAA,SAC9BihC,YAAYhjB,iBAAZ,CAA8B8iB,aAA9B,EAA6CxgB,KAA7C,CAAmDvgB,WAAnD,CAD8B;AAAA,CAAhC;AAEA;;;;;;;;AAQA4C,GAAGq+B,WAAH,CAAeO,aAAf,GAA+B,UAACthC,IAAD;AAAA,kFAA4B,EAA5B;AAAA,MAASuhC,cAAT,SAASA,cAAT;;AAAA,MAAgCzhC,WAAhC;AAAA,SAC7B,kBAAQwC,OAAR,GAAkBlE,IAAlB,CAAuB,YAAM;AAC3B,QAAI,EAAE4B,QAAQA,KAAKyL,EAAf,CAAJ,EAAwB,MAAM,IAAI9M,KAAJ,CAAU,yBAAV,CAAN;AACxB,WAAOT,QAAQ;AACblB,cAAQ,KADK;AAEbuH,oCAA4BvE,KAAKyL,EAAjC,gBAFa;AAGbvO,aAAO;AACLskC,oBAAYD,iBACRniC,YAAYmiC,cAAZ,EAA4BvjC,IAA5B,CAAiC,GAAjC,CADQ,GAERL;AAHC,OAHM;AAQbmC;AARa,KAAR,EASJ1B,IATI,CASC;AAAA,UAAGujB,OAAH,SAAGA,OAAH;AAAA,aAAiBA,QAAQnkB,GAAR,CAAYmjC,kBAAZ,CAAjB;AAAA,KATD,CAAP;AAUD,GAZD,CAD6B;AAAA,CAA/B;;AAeA;;;;;;;;AAQAj+B,GAAGq+B,WAAH,CAAeU,gBAAf,GAAkC,UAACzhC,IAAD,EAAOwhC,UAAP;AAAA,MAAmBrxB,OAAnB,uEAA6B,EAA7B;AAAA,SAChC,kBAAQ7N,OAAR,GAAkBlE,IAAlB,CAAuB,YAAM;AAC3B,QAAI,EAAE4B,QAAQA,KAAKyL,EAAf,CAAJ,EAAwB,MAAM,IAAI9M,KAAJ,CAAU,yBAAV,CAAN;AACxB,QAAMxB,OAAOZ,EAAEiB,GAAF,CAAMgkC,UAAN,EAAkB,UAAC/jC,KAAD,EAAQC,GAAR;AAAA,aAAiB;AAC9CmjC,uBAAenjC,GAD+B;AAE9CojC,wBAAgBrjC;AAF8B,OAAjB;AAAA,KAAlB,CAAb;AAF2B,QAMnBikC,SANmB,GAMLvxB,OANK,CAMnBuxB,SANmB;;AAO3B,WAAOxjC,QAAQ;AACblB,cAAQ,MADK;AAEbuH,oCAA4BvE,KAAKyL,EAAjC,gBAFa;AAGbvO,aAAO;AACLwkC,mBAAWA,YAAY,CAAZ,GAAgB/jC;AADtB,OAHM;AAMbR,gBANa;AAOb2C,mBAAaqQ;AAPA,KAAR,EAQJ/R,IARI,CAQC;AAAA,UAAGujB,OAAH,SAAGA,OAAH;AAAA,aAAiBA,QAAQnkB,GAAR,CAAYmjC,kBAAZ,CAAjB;AAAA,KARD,CAAP;AASD,GAhBD,CADgC;AAAA,CAAlC;;AAmBA;;;;;;;AAOAj+B,GAAGq+B,WAAH,CAAeY,gBAAf,GAAkC,UAAC3hC,IAAD,EAAOuhC,cAAP,EAAuBzhC,WAAvB;AAAA,SAChC,kBAAQwC,OAAR,GAAkBlE,IAAlB,CAAuB,YAAM;AAC3B,QAAI,EAAE4B,QAAQA,KAAKyL,EAAf,CAAJ,EAAwB,MAAM,IAAI9M,KAAJ,CAAU,yBAAV,CAAN;AACxB,WAAOT,QAAQ;AACblB,cAAQ,QADK;AAEbuH,oCAA4BvE,KAAKyL,EAAjC,gBAFa;AAGbvO,aAAO;AACLskC,oBAAYpiC,YAAYmiC,cAAZ,EAA4BvjC,IAA5B,CAAiC,GAAjC;AADP,OAHM;AAMb8B;AANa,KAAR,EAOJ1B,IAPI,CAOC;AAAA,aAAMT,SAAN;AAAA,KAPD,CAAP;AAQD,GAVD,CADgC;AAAA,CAAlC;;AAaApB,EAAEsE,MAAF,CACEkgC,YAAYjgC,SADd;AAEE,sCAAuC;AACrCmL,cADqC,wBACxB9O,IADwB,EAClB;AAAA;;AACjBZ,MAAEkF,OAAF,CAAUtE,IAAV,EAAgB,UAACM,KAAD,EAAQC,GAAR,EAAgB;AAC9B,UAAIA,QAAQ,WAAR,IAAuBA,QAAQ,UAAnC,EAA+C;AAC/C,UAAIA,QAAQ,WAAZ,EAAyB;AACvBA,cAAM,aAAN;AACD;AACD,UAAIA,QAAQ,WAAZ,EAAyB;AACvBD,gBAAQuD,UAAUvD,KAAV,CAAR;AACD;AACD,UAAIA,SAASA,MAAMwN,MAAN,KAAiB,MAA9B,EAAsC;AACpCxN,gBAAQuD,UAAUvD,MAAMyN,GAAhB,CAAR;AACD;AACD,YAAKxN,GAAL,IAAYD,KAAZ;AACD,KAZD;AAaA,WAAO,IAAP;AACD,GAhBoC;;AAiBrC;;;;;AAKA4iB,OAtBqC,iBAsB/BvgB,WAtB+B,EAsBlB;AAAA;;AACjB,WAAO5B,QAAQ;AACblB,cAAQ,KADK;AAEbuH,2CAAmC,KAAKs8B,aAF3B;AAGb/gC;AAHa,KAAR,EAIJ1B,IAJI,CAIC;AAAA,aAAQ,OAAK6N,YAAL,CAAkB9O,IAAlB,CAAR;AAAA,KAJD,CAAP;AAKD,GA5BoC;;AA6BrC;;;;;;;AAOAc,OApCqC,mBAoCA;AAAA,oFAAjB,EAAiB;AAAA,QAA7BqG,OAA6B,SAA7BA,OAA6B;;AAAA,QAAbxE,WAAa;;AACnC,WAAO5B,QAAQ;AACblB,cAAQ,KADK;AAEbuH,2CAAmC,KAAKs8B,aAAxC,WAFa;AAGb3jC,aAAO;AACLe,eAAO,CADF;AAELu1B,eAAO,CAFF;AAGLlvB;AAHK,OAHM;AAQbxE;AARa,KAAR,EASJ1B,IATI,CASC;AAAA,UAAGH,KAAH,SAAGA,KAAH;AAAA,aAAeA,KAAf;AAAA,KATD,CAAP;AAUD,GA/CoC;AAgDrC2jC,aAhDqC,8BAyDnC9hC,WAzDmC,EA0DnCsW,MA1DmC,EA2DnC;AAAA,QATEqd,IASF,SATEA,IASF;AAAA,QARED,KAQF,SAREA,KAQF;AAAA,QAPEqO,cAOF,SAPEA,cAOF;AAAA,QANEC,eAMF,SANEA,eAMF;AAAA,QALEC,iBAKF,SALEA,iBAKF;AAAA,QAJEz9B,OAIF,SAJEA,OAIF;;AACA,WAAOpG,QAAQ;AACblB,cAAQ,KADK;AAEbuH,2CAAmC,KAAKs8B,aAAxC,eACEzqB,eAAaA,MAAb,GAAwB,EAD1B,CAFa;AAKblZ,aAAO;AACLu2B,kBADK;AAELD,oBAFK;AAGLqO,wBACEtlC,EAAEod,KAAF,CACEva,YAAYyiC,cAAZ,CADF,EAEEziC,YAAY0iC,eAAZ,CAFF,EAGE9jC,IAHF,CAGO,GAHP,KAGeL,SAPZ;AAQLqkC,qBAAaF,kBACT1iC,YAAY0iC,eAAZ,EAA6B9jC,IAA7B,CAAkC,GAAlC,CADS,GAETL,SAVC;AAWLokC,2BAAmBA,oBACf3iC,YAAY2iC,iBAAZ,EAA+B/jC,IAA/B,CAAoC,GAApC,CADe,GAEfL,SAbC;AAcL2G;AAdK,OALM;AAqBbxE;AArBa,KAAR,EAsBJ1B,IAtBI,CAsBC;AAAA,UAAY6jC,QAAZ,SAAGtgB,OAAH;AAAA,aACNsgB,SAASzkC,GAAT,CAAa,uBAAe;AAAA,2BAMtBkF,GAAGkJ,OAAH,CAAWs2B,WAAX,CANsB;AAAA,YAExBliC,IAFwB,gBAExBA,IAFwB;AAAA,YAGRvC,KAHQ,gBAGxBqjC,cAHwB;AAAA,YAIxBqB,IAJwB,gBAIxBA,IAJwB;AAAA,iDAKxBX,UALwB;AAAA,YAKxBA,UALwB,yCAKX,EALW;;AAO1B,eAAO;AACLxhC,oBADK;AAELvC,sBAFK;AAGL0kC,oBAHK;AAILC,8BAAoBZ,WAAWhkC,GAAX,CAAemjC,kBAAf;AAJf,SAAP;AAMD,OAbD,CADM;AAAA,KAtBD,CAAP;AAsCD,GAlGoC;;AAmGrC;;;;;;;;;;;;AAYA0B,YA/GqC,wBAyHnC;AAAA,qFAFI,EAEJ;AAAA,QARE5O,IAQF,UAREA,IAQF;AAAA,QAPED,KAOF,UAPEA,KAOF;AAAA,QANEqO,cAMF,UANEA,cAMF;AAAA,QALEC,eAKF,UALEA,eAKF;AAAA,QAJEC,iBAIF,UAJEA,iBAIF;AAAA,QAHEz9B,OAGF,UAHEA,OAGF;;AAAA,QADAxE,WACA;;AACA,WAAO,KAAK8hC,WAAL,CACL;AACEnO,gBADF;AAEED,kBAFF;AAGEqO,oCAHF;AAIEC,sCAJF;AAKEC,0CALF;AAMEz9B;AANF,KADK,EASLxE,WATK,CAAP;AAWD,GArIoC;;AAsIrC;;;;;;;;;;;;AAYAwiC,sBAlJqC,gCAkJhBtiC,IAlJgB,EAkJiB;AAAA,QAA3BmQ,OAA2B,uEAAjB,EAAiB;AAAA,QAAbrQ,WAAa;;AACpD;AACA,QAAIE,QAAQ,OAAOA,KAAKyL,EAAZ,KAAmB,QAA/B,EAAyC;AACvC,aAAO,KAAK62B,oBAAL,CAA0B3kC,SAA1B,EAAqCqC,IAArC,EAA2CmQ,OAA3C,CAAP;AACD;AAJmD,QAMlDqjB,KANkD,GAWhDrjB,OAXgD,CAMlDqjB,KANkD;AAAA,QAOlDqO,cAPkD,GAWhD1xB,OAXgD,CAOlD0xB,cAPkD;AAAA,QAQlDC,eARkD,GAWhD3xB,OAXgD,CAQlD2xB,eARkD;AAAA,QASlDC,iBATkD,GAWhD5xB,OAXgD,CASlD4xB,iBATkD;AAAA,QAUlDz9B,OAVkD,GAWhD6L,OAXgD,CAUlD7L,OAVkD;;AAYpD,WAAO,KAAKs9B,WAAL,CACL,EAAEpO,YAAF,EAASqO,8BAAT,EAAyBC,gCAAzB,EAA0CC,oCAA1C,EAA6Dz9B,gBAA7D,EADK,EAELxE,WAFK,EAGLE,OAAOA,KAAKyL,EAAZ,GAAiB,MAHZ,CAAP;AAKD,GAnKoC;AAoKrC82B,SApKqC,mBAoK7BplC,IApK6B,EAoKvB2C,WApKuB,EAoKV;AAAA;;AACzB,WAAO5B,QAAQ;AACblB,cAAQ,KADK;AAEbuH,2CAAmC,KAAKs8B,aAF3B;AAGb1jC,gBAHa;AAIb2C;AAJa,KAAR,EAKJ1B,IALI,CAKC;AAAA,aAAU,OAAK6N,YAAL,CAAkBmU,MAAlB,CAAV;AAAA,KALD,CAAP;AAMD,GA3KoC;;AA4KrC;;;;;;AAMAoiB,6BAlLqC,uCAkLTvB,qBAlLS,EAkLcnhC,WAlLd,EAkL2B;AAC9D,WAAO,KAAKyiC,OAAL,CAAa,EAAEtB,4CAAF,EAAb,EAAwCnhC,WAAxC,CAAP;AACD,GApLoC;;AAqLrC;;;;;;AAMA2iC,sBA3LqC,gCA2LhBzB,cA3LgB,EA2LAlhC,WA3LA,EA2La;AAChD,WAAO,KAAKyiC,OAAL,CAAa,EAAEvB,8BAAF,EAAb,EAAiClhC,WAAjC,CAAP;AACD,GA7LoC;;AA8LrC;;;;;AAKAg+B,OAnMqC,iBAmM/Bh+B,WAnM+B,EAmMlB;AAAA;;AACjB,WAAO5B,QAAQ;AACblB,cAAQ,KADK;AAEbuH,2CAAmC,KAAKs8B,aAAxC,sBAFa;AAGb/gC;AAHa,KAAR,EAIJ1B,IAJI,CAIC;AAAA,aAAQ,OAAK6N,YAAL,CAAkB9O,IAAlB,CAAR;AAAA,KAJD,CAAP;AAKD,GAzMoC;;AA0MrC;;;;;AAKAgiB,SA/MqC,mBA+M7Brf,WA/M6B,EA+MhB;AACnB,WAAO4C,GAAGxE,OAAH,CAAW;AAChBlB,cAAQ,QADQ;AAEhBuH,2CAAmC,KAAKs8B,aAFxB;AAGhB/gC;AAHgB,KAAX,EAIJ1B,IAJI,CAIC;AAAA,aAAMT,SAAN;AAAA,KAJD,CAAP;AAKD,GArNoC;;AAsNrC;;;;;;;;AAQA+kC,aA9NqC,yBA8NU;AAAA;;AAAA,qFAAjB,EAAiB;AAAA,QAAjCjP,IAAiC,UAAjCA,IAAiC;AAAA,QAA3BD,KAA2B,UAA3BA,KAA2B;;AAAA,QAAb1zB,WAAa;;AAC7C,WAAO5B,QAAQ;AACblB,cAAQ,KADK;AAEbuH,2CAAmC,KAAKs8B,aAAxC,cAFa;AAGb3jC,aAAO;AACLu2B,kBADK;AAELD;AAFK,OAHM;AAOb1zB;AAPa,KAAR,EAQJ1B,IARI,CAQC;AAAA,UAAGujB,OAAH,UAAGA,OAAH;AAAA,aACNA,QAAQnkB,GAAR,CAAY;AAAA,YAAG8G,OAAH,UAAGA,OAAH;AAAA,YAAYhG,MAAZ,UAAYA,MAAZ;AAAA,YAAoBrB,GAApB,UAAoBA,GAApB;AAAA,YAAyB0lC,WAAzB,UAAyBA,WAAzB;AAAA,YAAsCC,aAAtC,UAAsCA,aAAtC;AAAA,eAA2D;AACrE/B,yBAAe,OAAKA,aADiD;AAErEv8B,0BAFqE;AAGrEhG,wBAHqE;AAIrErB,kBAJqE;AAKrE0lC,uBAAa3hC,UAAU2hC,YAAYz3B,GAAtB,CALwD;AAMrE03B,yBAAe5hC,UAAU4hC,cAAc13B,GAAxB;AANsD,SAA3D;AAAA,OAAZ,CADM;AAAA,KARD,CAAP;AAkBD;AAjPoC,CAFzC,E;;;;;;;ACrOa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,mBAAO,CAAC,GAAyB;AACjC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,0BAA0B,mBAAO,CAAC,GAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,gCAAgC,4BAA4B,EAAE,KAAK;AACvG,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,UAAU,iGAAiG;AACvJ,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,+BAA+B;AAC/B;AACA,+EAA+E,iBAAiB;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,UAAU,iGAAiG;AACvJ,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA,iC;;;;;;AC9MA;;;;;;;;ACAA;;;;;AAKa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEbhJ,OAAO+nB,cAAP,CAAsBznB,OAAtB,EAA+B,YAA/B,EA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;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,qBAAqB;AACrB,0BAA0B;AAC1B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;;;;;;AC/IA;AACA,yBAAyB,mBAAO,CAAC,GAA8B;;AAE/D;AACA;AACA;;;;;;;ACLA,eAAe,mBAAO,CAAC,CAAc;AACrC,cAAc,mBAAO,CAAC,EAAa;AACnC,cAAc,mBAAO,CAAC,CAAQ;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACfA;AACA,cAAc,mBAAO,CAAC,CAAW;;AAEjC,uCAAuC,SAAS,mBAAO,CAAC,GAAuB,UAAU;;;;;;;ACHzF;AACA,cAAc,mBAAO,CAAC,EAAY;AAClC,WAAW,mBAAO,CAAC,GAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;;;;;;;ACRA,YAAY,mBAAO,CAAC,EAAW;;AAE/B;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA,mBAAO,CAAC,EAAsB;;;;;;;ACD9B;AACA,mBAAO,CAAC,EAAwB;;;;;;;ACDhC,kBAAkB,YAAY,mBAAO,CAAC,GAAkC,sB;;;;;;ACAxE,mBAAO,CAAC,GAAiC;AACzC,cAAc,mBAAO,CAAC,CAAqB;AAC3C;AACA;AACA;;;;;;;ACJA,cAAc,mBAAO,CAAC,CAAW;AACjC;AACA,8BAA8B,SAAS,mBAAO,CAAC,EAAkB,GAAG;;;;;;;ACFpE,kBAAkB,YAAY,mBAAO,CAAC,GAA4C,sB;;;;;;ACAlF,mBAAO,CAAC,GAA2C;AACnD,iBAAiB,mBAAO,CAAC,CAAqB;;;;;;;ACD9C;AACA,cAAc,mBAAO,CAAC,CAAW;AACjC,8BAA8B,iBAAiB,mBAAO,CAAC,GAAc,OAAO;;;;;;;ACF5E;AACA;AACA,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,CAAc;AACrC;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,cAAc,mBAAO,CAAC,EAAQ,iBAAiB,mBAAO,CAAC,EAAgB;AACvE;AACA;AACA,OAAO,YAAY,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;AACR;AACA;;;;;;;ACxBA,kBAAkB,YAAY,mBAAO,CAAC,GAA6B,sB;;;;;;ACAnE,mBAAO,CAAC,EAAiC;AACzC,mBAAO,CAAC,EAA6B;AACrC,mBAAO,CAAC,GAAyB;AACjC,mBAAO,CAAC,GAA4B;AACpC,mBAAO,CAAC,GAA8B;AACtC,iBAAiB,mBAAO,CAAC,CAAkB;;;;;;;;ACL9B;AACb,aAAa,mBAAO,CAAC,CAAW;AAChC,WAAW,mBAAO,CAAC,EAAkB;AACrC,eAAe,mBAAO,CAAC,EAAa;AACpC,WAAW,mBAAO,CAAC,EAAS;AAC5B,aAAa,mBAAO,CAAC,GAAkB;AACvC,WAAW,mBAAO,CAAC,GAAoB;AACvC,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,EAAwB;AAC/C,sBAAsB,mBAAO,CAAC,EAAwB;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC,mBAAO,CAAC,EAAe;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;;;;;;;;AC3Da;AACb;AACA,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,cAAc,mBAAO,CAAC,EAAgB;AACtC,WAAW,mBAAO,CAAC,EAAgB;AACnC,UAAU,mBAAO,CAAC,EAAe;AACjC,eAAe,mBAAO,CAAC,EAAc;AACrC,cAAc,mBAAO,CAAC,EAAY;AAClC;;AAEA;AACA,6BAA6B,mBAAO,CAAC,EAAU;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,UAAU,EAAE;AAChD,mBAAmB,sCAAsC;AACzD,CAAC,qCAAqC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;ACrCY;AACb,kBAAkB,mBAAO,CAAC,EAAiB;AAC3C,cAAc,mBAAO,CAAC,EAAS;AAC/B,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,CAAc;AACrC,iBAAiB,mBAAO,CAAC,EAAgB;AACzC,YAAY,mBAAO,CAAC,EAAW;AAC/B,wBAAwB,mBAAO,CAAC,EAAkB;AAClD,WAAW,mBAAO,CAAC,EAAQ;AAC3B,eAAe,mBAAO,CAAC,EAAwB;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB,0BAA0B;AAC1B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;ACpFA;AACA,mBAAO,CAAC,EAAsB;;;;;;;ACD9B;AACA,mBAAO,CAAC,EAAwB","file":"av-weapp.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AV\"] = factory();\n\telse\n\t\troot[\"AV\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 87);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 97dc07d4a83a6567bc7c","//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define == 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/underscore/underscore.js\n// module id = 0\n// module chunks = 0 1","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = 1\n// module chunks = 0 1","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 2\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/promise.js\n// module id = 3\n// module chunks = 0 1","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = 4\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = 5\n// module chunks = 0 1","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = 6\n// module chunks = 0 1","const _ = require('underscore');\nconst { timeout } = require('promise-timeout');\nconst debug = require('debug');\nconst debugRequest = debug('leancloud:request');\nconst debugRequestError = debug('leancloud:request:error');\nconst { getAdapter } = require('../adapter');\n\nlet requestsCount = 0;\n\nconst ajax = ({\n  method,\n  url,\n  query,\n  data,\n  headers = {},\n  timeout: time,\n  onprogress,\n}) => {\n  if (query) {\n    const queryString = Object.keys(query)\n      .map(key => {\n        const value = query[key];\n        if (value === undefined) return undefined;\n        const v = typeof value === 'object' ? JSON.stringify(value) : value;\n        return `${encodeURIComponent(key)}=${encodeURIComponent(v)}`;\n      })\n      .filter(qs => qs)\n      .join('&');\n    url = `${url}?${queryString}`;\n  }\n\n  const count = requestsCount++;\n  debugRequest(\n    'request(%d) %s %s %o %o %o',\n    count,\n    method,\n    url,\n    query,\n    data,\n    headers\n  );\n\n  const request = getAdapter('request');\n  const promise = request(url, { method, headers, data, onprogress })\n    .then(response => {\n      debugRequest(\n        'response(%d) %d %O %o',\n        count,\n        response.status,\n        response.data || response.text,\n        response.header\n      );\n      if (response.ok === false) {\n        const error = new Error();\n        error.response = response;\n        throw error;\n      }\n      return response.data;\n    })\n    .catch(error => {\n      if (error.response) {\n        if (!debug.enabled('leancloud:request')) {\n          debugRequestError(\n            'request(%d) %s %s %o %o %o',\n            count,\n            method,\n            url,\n            query,\n            data,\n            headers\n          );\n        }\n        debugRequestError(\n          'response(%d) %d %O %o',\n          count,\n          error.response.status,\n          error.response.data || error.response.text,\n          error.response.header\n        );\n        error.statusCode = error.response.status;\n        error.responseText = error.response.text;\n        error.response = error.response.data;\n      }\n      throw error;\n    });\n  return time ? timeout(promise, time) : promise;\n};\n\n// Helper function to check null or undefined.\nconst isNullOrUndefined = x => _.isNull(x) || _.isUndefined(x);\n\nconst ensureArray = target => {\n  if (_.isArray(target)) {\n    return target;\n  }\n  if (target === undefined || target === null) {\n    return [];\n  }\n  return [target];\n};\n\nconst transformFetchOptions = ({ keys, include, includeACL } = {}) => {\n  const fetchOptions = {};\n  if (keys) {\n    fetchOptions.keys = ensureArray(keys).join(',');\n  }\n  if (include) {\n    fetchOptions.include = ensureArray(include).join(',');\n  }\n  if (includeACL) {\n    fetchOptions.returnACL = includeACL;\n  }\n  return fetchOptions;\n};\n\nconst getSessionToken = authOptions => {\n  if (authOptions.sessionToken) {\n    return authOptions.sessionToken;\n  }\n  if (\n    authOptions.user &&\n    typeof authOptions.user.getSessionToken === 'function'\n  ) {\n    return authOptions.user.getSessionToken();\n  }\n};\n\nconst tap = interceptor => value => (interceptor(value), value);\n\n// Shared empty constructor function to aid in prototype-chain creation.\nconst EmptyConstructor = function() {};\n\n// Helper function to correctly set up the prototype chain, for subclasses.\n// Similar to `goog.inherits`, but uses a hash of prototype properties and\n// class properties to be extended.\nconst inherits = function inherits(parent, protoProps, staticProps) {\n  var child;\n\n  // The constructor function for the new subclass is either defined by you\n  // (the \"constructor\" property in your `extend` definition), or defaulted\n  // by us to simply call the parent's constructor.\n  if (protoProps && protoProps.hasOwnProperty('constructor')) {\n    child = protoProps.constructor;\n  } else {\n    /** @ignore */\n    child = function() {\n      parent.apply(this, arguments);\n    };\n  }\n\n  // Inherit class (static) properties from parent.\n  _.extend(child, parent);\n\n  // Set the prototype chain to inherit from `parent`, without calling\n  // `parent`'s constructor function.\n  EmptyConstructor.prototype = parent.prototype;\n  child.prototype = new EmptyConstructor();\n\n  // Add prototype properties (instance properties) to the subclass,\n  // if supplied.\n  if (protoProps) {\n    _.extend(child.prototype, protoProps);\n  }\n\n  // Add static properties to the constructor function, if supplied.\n  if (staticProps) {\n    _.extend(child, staticProps);\n  }\n\n  // Correctly set child's `prototype.constructor`.\n  child.prototype.constructor = child;\n\n  // Set a convenience property in case the parent's prototype is\n  // needed later.\n  child.__super__ = parent.prototype;\n\n  return child;\n};\n\nconst parseDate = iso8601 => new Date(iso8601);\n\nconst setValue = (target, key, value) => {\n  // '.' is not allowed in Class keys, escaping is not in concern now.\n  const segs = key.split('.');\n  const lastSeg = segs.pop();\n  let currentTarget = target;\n  segs.forEach(seg => {\n    if (currentTarget[seg] === undefined) currentTarget[seg] = {};\n    currentTarget = currentTarget[seg];\n  });\n  currentTarget[lastSeg] = value;\n  return target;\n};\n\nconst findValue = (target, key) => {\n  const segs = key.split('.');\n  const firstSeg = segs[0];\n  const lastSeg = segs.pop();\n  let currentTarget = target;\n  for (let i = 0; i < segs.length; i++) {\n    currentTarget = currentTarget[segs[i]];\n    if (currentTarget === undefined) {\n      return [undefined, undefined, lastSeg];\n    }\n  }\n  const value = currentTarget[lastSeg];\n  return [value, currentTarget, lastSeg, firstSeg];\n};\n\nconst isPlainObject = obj =>\n  _.isObject(obj) && Object.getPrototypeOf(obj) === Object.prototype;\n\nconst continueWhile = function(predicate, asyncFunction) {\n  if (predicate()) {\n    return asyncFunction().then(function() {\n      return continueWhile(predicate, asyncFunction);\n    });\n  }\n  return Promise.resolve();\n};\n\nmodule.exports = {\n  ajax,\n  isNullOrUndefined,\n  ensureArray,\n  transformFetchOptions,\n  getSessionToken,\n  tap,\n  inherits,\n  parseDate,\n  setValue,\n  findValue,\n  isPlainObject,\n  continueWhile,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","const _ = require('underscore');\nconst md5 = require('md5');\nconst { extend } = require('underscore');\nconst AV = require('./av');\nconst { getSessionToken, ajax } = require('./utils');\n\n//  X-LC-Sign \nconst sign = (key, isMasterKey) => {\n  const now = new Date().getTime();\n  const signature = md5(now + key);\n  if (isMasterKey) {\n    return `${signature},${now},master`;\n  }\n  return `${signature},${now}`;\n};\n\nconst setAppKey = (headers, signKey) => {\n  if (signKey) {\n    headers['X-LC-Sign'] = sign(AV.applicationKey);\n  } else {\n    headers['X-LC-Key'] = AV.applicationKey;\n  }\n};\n\nconst setHeaders = (authOptions = {}, signKey) => {\n  const headers = {\n    'X-LC-Id': AV.applicationId,\n    'Content-Type': 'application/json;charset=UTF-8',\n  };\n  let useMasterKey = false;\n  if (typeof authOptions.useMasterKey === 'boolean') {\n    useMasterKey = authOptions.useMasterKey;\n  } else if (typeof AV._config.useMasterKey === 'boolean') {\n    useMasterKey = AV._config.useMasterKey;\n  }\n  if (useMasterKey) {\n    if (AV.masterKey) {\n      if (signKey) {\n        headers['X-LC-Sign'] = sign(AV.masterKey, true);\n      } else {\n        headers['X-LC-Key'] = `${AV.masterKey},master`;\n      }\n    } else {\n      console.warn('masterKey is not set, fall back to use appKey');\n      setAppKey(headers, signKey);\n    }\n  } else {\n    setAppKey(headers, signKey);\n  }\n  if (AV.hookKey) {\n    headers['X-LC-Hook-Key'] = AV.hookKey;\n  }\n  if (AV._config.production !== null) {\n    headers['X-LC-Prod'] = String(AV._config.production);\n  }\n  headers[!process.env.CLIENT_PLATFORM ? 'User-Agent' : 'X-LC-UA'] =\n    AV._sharedConfig.userAgent;\n\n  return Promise.resolve().then(() => {\n    // Pass the session token\n    const sessionToken = getSessionToken(authOptions);\n    if (sessionToken) {\n      headers['X-LC-Session'] = sessionToken;\n    } else if (!AV._config.disableCurrentUser) {\n      return AV.User.currentAsync().then(currentUser => {\n        if (currentUser && currentUser._sessionToken) {\n          headers['X-LC-Session'] = currentUser._sessionToken;\n        }\n        return headers;\n      });\n    }\n    return headers;\n  });\n};\n\nconst createApiUrl = ({\n  service = 'api',\n  version = '1.1',\n  path,\n  // query, // don't care\n  // method, // don't care\n  // data, // don't care\n}) => {\n  let apiURL = AV._config.serverURLs[service];\n\n  if (!apiURL) throw new Error(`undefined server URL for ${service}`);\n\n  if (apiURL.charAt(apiURL.length - 1) !== '/') {\n    apiURL += '/';\n  }\n  apiURL += version;\n  if (path) {\n    apiURL += path;\n  }\n\n  return apiURL;\n};\n\n/**\n * Low level REST API client. Call REST endpoints with authorization headers.\n * @function AV.request\n * @since 3.0.0\n * @param {Object} options\n * @param {String} options.method HTTP method\n * @param {String} options.path endpoint path, e.g. `/classes/Test/55759577e4b029ae6015ac20`\n * @param {Object} [options.query] query string dict\n * @param {Object} [options.data] HTTP body\n * @param {AuthOptions} [options.authOptions]\n * @param {String} [options.service = 'api']\n * @param {String} [options.version = '1.1']\n */\nconst request = ({\n  service,\n  version,\n  method,\n  path,\n  query,\n  data,\n  authOptions,\n  signKey = true,\n}) => {\n  if (!(AV.applicationId && (AV.applicationKey || AV.masterKey))) {\n    throw new Error('Not initialized');\n  }\n  if (AV._appRouter) {\n    AV._appRouter.refresh();\n  }\n  const { requestTimeout: timeout } = AV._config;\n  const url = createApiUrl({ service, path, version });\n  return setHeaders(authOptions, signKey).then(headers =>\n    ajax({ method, url, query, data, headers, timeout }).catch(error => {\n      let errorJSON = {\n        code: error.code || -1,\n        error: error.message || error.responseText,\n      };\n      if (error.response && error.response.code) {\n        errorJSON = error.response;\n      } else if (error.responseText) {\n        try {\n          errorJSON = JSON.parse(error.responseText);\n        } catch (e) {\n          // If we fail to parse the error text, that's okay.\n        }\n      }\n      errorJSON.rawMessage = errorJSON.rawMessage || errorJSON.error;\n      if (!AV._sharedConfig.keepErrorRawMessage) {\n        errorJSON.error += ` [${error.statusCode || 'N/A'} ${method} ${url}]`;\n      }\n      // Transform the error into an instance of AVError by trying to parse\n      // the error string as JSON.\n      const err = new Error(errorJSON.error);\n      delete errorJSON.error;\n      throw _.extend(err, errorJSON);\n    })\n  );\n};\n\n// lagecy request\nconst _request = (\n  route,\n  className,\n  objectId,\n  method,\n  data,\n  authOptions,\n  query\n) => {\n  let path = '';\n  if (route) path += `/${route}`;\n  if (className) path += `/${className}`;\n  if (objectId) path += `/${objectId}`;\n  // for migeration\n  if (data && data._fetchWhenSave)\n    throw new Error('_fetchWhenSave should be in the query');\n  if (data && data._where) throw new Error('_where should be in the query');\n  if (method && method.toLowerCase() === 'get') {\n    query = extend({}, query, data);\n    data = null;\n  }\n  return request({\n    method,\n    path,\n    query,\n    data,\n    authOptions,\n  });\n};\n\nAV.request = request;\n\nmodule.exports = {\n  _request,\n  request,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/request.js","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 9\n// module chunks = 0 1","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = 10\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = 11\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = 12\n// module chunks = 0 1","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = 13\n// module chunks = 0 1","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = 14\n// module chunks = 0 1","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = 15\n// module chunks = 0 1","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = 16\n// module chunks = 0 1","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = 17\n// module chunks = 0 1","const _ = require('underscore');\n\n/**\n * @class AV.Error\n */\n\nfunction AVError(code, message) {\n  const error = new Error(message);\n  error.code = code;\n  return error;\n}\n\n_.extend(\n  AVError,\n  /** @lends AV.Error */ {\n    /**\n     * Error code indicating some error other than those enumerated here.\n     * @constant\n     */\n    OTHER_CAUSE: -1,\n\n    /**\n     * Error code indicating that something has gone wrong with the server.\n     * If you get this error code, it is AV's fault. Contact us at\n     * https://avoscloud.com/help\n     * @constant\n     */\n    INTERNAL_SERVER_ERROR: 1,\n\n    /**\n     * Error code indicating the connection to the AV servers failed.\n     * @constant\n     */\n    CONNECTION_FAILED: 100,\n\n    /**\n     * Error code indicating the specified object doesn't exist.\n     * @constant\n     */\n    OBJECT_NOT_FOUND: 101,\n\n    /**\n     * Error code indicating you tried to query with a datatype that doesn't\n     * support it, like exact matching an array or object.\n     * @constant\n     */\n    INVALID_QUERY: 102,\n\n    /**\n     * Error code indicating a missing or invalid classname. Classnames are\n     * case-sensitive. They must start with a letter, and a-zA-Z0-9_ are the\n     * only valid characters.\n     * @constant\n     */\n    INVALID_CLASS_NAME: 103,\n\n    /**\n     * Error code indicating an unspecified object id.\n     * @constant\n     */\n    MISSING_OBJECT_ID: 104,\n\n    /**\n     * Error code indicating an invalid key name. Keys are case-sensitive. They\n     * must start with a letter, and a-zA-Z0-9_ are the only valid characters.\n     * @constant\n     */\n    INVALID_KEY_NAME: 105,\n\n    /**\n     * Error code indicating a malformed pointer. You should not see this unless\n     * you have been mucking about changing internal AV code.\n     * @constant\n     */\n    INVALID_POINTER: 106,\n\n    /**\n     * Error code indicating that badly formed JSON was received upstream. This\n     * either indicates you have done something unusual with modifying how\n     * things encode to JSON, or the network is failing badly.\n     * @constant\n     */\n    INVALID_JSON: 107,\n\n    /**\n     * Error code indicating that the feature you tried to access is only\n     * available internally for testing purposes.\n     * @constant\n     */\n    COMMAND_UNAVAILABLE: 108,\n\n    /**\n     * You must call AV.initialize before using the AV library.\n     * @constant\n     */\n    NOT_INITIALIZED: 109,\n\n    /**\n     * Error code indicating that a field was set to an inconsistent type.\n     * @constant\n     */\n    INCORRECT_TYPE: 111,\n\n    /**\n     * Error code indicating an invalid channel name. A channel name is either\n     * an empty string (the broadcast channel) or contains only a-zA-Z0-9_\n     * characters.\n     * @constant\n     */\n    INVALID_CHANNEL_NAME: 112,\n\n    /**\n     * Error code indicating that push is misconfigured.\n     * @constant\n     */\n    PUSH_MISCONFIGURED: 115,\n\n    /**\n     * Error code indicating that the object is too large.\n     * @constant\n     */\n    OBJECT_TOO_LARGE: 116,\n\n    /**\n     * Error code indicating that the operation isn't allowed for clients.\n     * @constant\n     */\n    OPERATION_FORBIDDEN: 119,\n\n    /**\n     * Error code indicating the result was not found in the cache.\n     * @constant\n     */\n    CACHE_MISS: 120,\n\n    /**\n     * Error code indicating that an invalid key was used in a nested\n     * JSONObject.\n     * @constant\n     */\n    INVALID_NESTED_KEY: 121,\n\n    /**\n     * Error code indicating that an invalid filename was used for AVFile.\n     * A valid file name contains only a-zA-Z0-9_. characters and is between 1\n     * and 128 characters.\n     * @constant\n     */\n    INVALID_FILE_NAME: 122,\n\n    /**\n     * Error code indicating an invalid ACL was provided.\n     * @constant\n     */\n    INVALID_ACL: 123,\n\n    /**\n     * Error code indicating that the request timed out on the server. Typically\n     * this indicates that the request is too expensive to run.\n     * @constant\n     */\n    TIMEOUT: 124,\n\n    /**\n     * Error code indicating that the email address was invalid.\n     * @constant\n     */\n    INVALID_EMAIL_ADDRESS: 125,\n\n    /**\n     * Error code indicating a missing content type.\n     * @constant\n     */\n    MISSING_CONTENT_TYPE: 126,\n\n    /**\n     * Error code indicating a missing content length.\n     * @constant\n     */\n    MISSING_CONTENT_LENGTH: 127,\n\n    /**\n     * Error code indicating an invalid content length.\n     * @constant\n     */\n    INVALID_CONTENT_LENGTH: 128,\n\n    /**\n     * Error code indicating a file that was too large.\n     * @constant\n     */\n    FILE_TOO_LARGE: 129,\n\n    /**\n     * Error code indicating an error saving a file.\n     * @constant\n     */\n    FILE_SAVE_ERROR: 130,\n\n    /**\n     * Error code indicating an error deleting a file.\n     * @constant\n     */\n    FILE_DELETE_ERROR: 153,\n\n    /**\n     * Error code indicating that a unique field was given a value that is\n     * already taken.\n     * @constant\n     */\n    DUPLICATE_VALUE: 137,\n\n    /**\n     * Error code indicating that a role's name is invalid.\n     * @constant\n     */\n    INVALID_ROLE_NAME: 139,\n\n    /**\n     * Error code indicating that an application quota was exceeded.  Upgrade to\n     * resolve.\n     * @constant\n     */\n    EXCEEDED_QUOTA: 140,\n\n    /**\n     * Error code indicating that a Cloud Code script failed.\n     * @constant\n     */\n    SCRIPT_FAILED: 141,\n\n    /**\n     * Error code indicating that a Cloud Code validation failed.\n     * @constant\n     */\n    VALIDATION_ERROR: 142,\n\n    /**\n     * Error code indicating that invalid image data was provided.\n     * @constant\n     */\n    INVALID_IMAGE_DATA: 150,\n\n    /**\n     * Error code indicating an unsaved file.\n     * @constant\n     */\n    UNSAVED_FILE_ERROR: 151,\n\n    /**\n     * Error code indicating an invalid push time.\n     */\n    INVALID_PUSH_TIME_ERROR: 152,\n\n    /**\n     * Error code indicating that the username is missing or empty.\n     * @constant\n     */\n    USERNAME_MISSING: 200,\n\n    /**\n     * Error code indicating that the password is missing or empty.\n     * @constant\n     */\n    PASSWORD_MISSING: 201,\n\n    /**\n     * Error code indicating that the username has already been taken.\n     * @constant\n     */\n    USERNAME_TAKEN: 202,\n\n    /**\n     * Error code indicating that the email has already been taken.\n     * @constant\n     */\n    EMAIL_TAKEN: 203,\n\n    /**\n     * Error code indicating that the email is missing, but must be specified.\n     * @constant\n     */\n    EMAIL_MISSING: 204,\n\n    /**\n     * Error code indicating that a user with the specified email was not found.\n     * @constant\n     */\n    EMAIL_NOT_FOUND: 205,\n\n    /**\n     * Error code indicating that a user object without a valid session could\n     * not be altered.\n     * @constant\n     */\n    SESSION_MISSING: 206,\n\n    /**\n     * Error code indicating that a user can only be created through signup.\n     * @constant\n     */\n    MUST_CREATE_USER_THROUGH_SIGNUP: 207,\n\n    /**\n     * Error code indicating that an an account being linked is already linked\n     * to another user.\n     * @constant\n     */\n    ACCOUNT_ALREADY_LINKED: 208,\n\n    /**\n     * Error code indicating that a user cannot be linked to an account because\n     * that account's id could not be found.\n     * @constant\n     */\n    LINKED_ID_MISSING: 250,\n\n    /**\n     * Error code indicating that a user with a linked (e.g. Facebook) account\n     * has an invalid session.\n     * @constant\n     */\n    INVALID_LINKED_SESSION: 251,\n\n    /**\n     * Error code indicating that a service being linked (e.g. Facebook or\n     * Twitter) is unsupported.\n     * @constant\n     */\n    UNSUPPORTED_SERVICE: 252,\n    /**\n     * Error code indicating a real error code is unavailable because\n     * we had to use an XDomainRequest object to allow CORS requests in\n     * Internet Explorer, which strips the body from HTTP responses that have\n     * a non-2XX status code.\n     * @constant\n     */\n    X_DOMAIN_REQUEST: 602,\n  }\n);\n\nmodule.exports = AVError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/error.js","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = 19\n// module chunks = 0 1","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = 20\n// module chunks = 0 1","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/web.dom.iterable.js\n// module id = 21\n// module chunks = 0 1","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_for-of.js\n// module id = 22\n// module chunks = 0 1","const _ = require('underscore');\nconst uuid = require('uuid/v4');\nconst debug = require('debug');\nconst getUA = require('./ua');\nconst { inherits, parseDate } = require('./utils');\nconst { setAdapters } = require('./adapter');\n\nconst AV = global.AV || {};\n\n// All internal configuration items\nAV._config = {\n  serverURLs: {},\n  useMasterKey: false,\n  production: null,\n  realtime: null,\n  requestTimeout: null,\n};\n\n// configs shared by all AV instances\nAV._sharedConfig = {\n  userAgent: getUA(),\n  liveQueryRealtime: null,\n};\n\n/**\n * Contains all AV API classes and functions.\n * @namespace AV\n */\n\n/**\n * Returns prefix for localStorage keys used by this instance of AV.\n * @param {String} path The relative suffix to append to it.\n *     null or undefined is treated as the empty string.\n * @return {String} The full key name.\n * @private\n */\nAV._getAVPath = function(path) {\n  if (!AV.applicationId) {\n    throw new Error('You need to call AV.initialize before using AV.');\n  }\n  if (!path) {\n    path = '';\n  }\n  if (!_.isString(path)) {\n    throw new Error(\"Tried to get a localStorage path that wasn't a String.\");\n  }\n  if (path[0] === '/') {\n    path = path.substring(1);\n  }\n  return 'AV/' + AV.applicationId + '/' + path;\n};\n\n/**\n * Returns the unique string for this app on this machine.\n * Gets reset when localStorage is cleared.\n * @private\n */\nAV._installationId = null;\nAV._getInstallationId = () => {\n  // See if it's cached in RAM.\n  if (AV._installationId) {\n    return Promise.resolve(AV._installationId);\n  }\n\n  // Try to get it from localStorage.\n  const path = AV._getAVPath('installationId');\n  return AV.localStorage.getItemAsync(path).then(_installationId => {\n    AV._installationId = _installationId;\n    if (!AV._installationId) {\n      // It wasn't in localStorage, so create a new one.\n      AV._installationId = _installationId = uuid();\n      return AV.localStorage\n        .setItemAsync(path, _installationId)\n        .then(() => _installationId);\n    }\n    return _installationId;\n  });\n};\n\nAV._subscriptionId = null;\nAV._refreshSubscriptionId = (path = AV._getAVPath('subscriptionId')) => {\n  const subscriptionId = (AV._subscriptionId = uuid());\n  return AV.localStorage\n    .setItemAsync(path, subscriptionId)\n    .then(() => subscriptionId);\n};\nAV._getSubscriptionId = () => {\n  // See if it's cached in RAM.\n  if (AV._subscriptionId) {\n    return Promise.resolve(AV._subscriptionId);\n  }\n\n  // Try to get it from localStorage.\n  const path = AV._getAVPath('subscriptionId');\n  return AV.localStorage.getItemAsync(path).then(_subscriptionId => {\n    AV._subscriptionId = _subscriptionId;\n    if (!AV._subscriptionId) {\n      // It wasn't in localStorage, so create a new one.\n      _subscriptionId = AV._refreshSubscriptionId(path);\n    }\n    return _subscriptionId;\n  });\n};\n\nAV._parseDate = parseDate;\n\n// A self-propagating extend function.\nAV._extend = function(protoProps, classProps) {\n  var child = inherits(this, protoProps, classProps);\n  child.extend = this.extend;\n  return child;\n};\n\n/**\n * Converts a value in a AV Object into the appropriate representation.\n * This is the JS equivalent of Java's AV.maybeReferenceAndEncode(Object)\n * if seenObjects is falsey. Otherwise any AV.Objects not in\n * seenObjects will be fully embedded rather than encoded\n * as a pointer.  This array will be used to prevent going into an infinite\n * loop because we have circular references.  If <seenObjects>\n * is set, then none of the AV Objects that are serialized can be dirty.\n * @private\n */\nAV._encode = function(value, seenObjects, disallowObjects, full = true) {\n  if (value instanceof AV.Object) {\n    if (disallowObjects) {\n      throw new Error('AV.Objects not allowed here');\n    }\n    if (!seenObjects || _.include(seenObjects, value) || !value._hasData) {\n      return value._toPointer();\n    }\n    return value._toFullJSON(seenObjects.concat(value), full);\n  }\n  if (value instanceof AV.ACL) {\n    return value.toJSON();\n  }\n  if (_.isDate(value)) {\n    return full ? { __type: 'Date', iso: value.toJSON() } : value.toJSON();\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value.toJSON();\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function(x) {\n      return AV._encode(x, seenObjects, disallowObjects, full);\n    });\n  }\n  if (_.isRegExp(value)) {\n    return value.source;\n  }\n  if (value instanceof AV.Relation) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.Op) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.File) {\n    if (!value.url() && !value.id) {\n      throw new Error('Tried to save an object containing an unsaved file.');\n    }\n    return value._toFullJSON(seenObjects, full);\n  }\n  if (_.isObject(value)) {\n    return _.mapObject(value, (v, k) =>\n      AV._encode(v, seenObjects, disallowObjects, full)\n    );\n  }\n  return value;\n};\n\n/**\n * The inverse function of AV._encode.\n * @private\n */\nAV._decode = function(value, key) {\n  if (!_.isObject(value) || _.isDate(value)) {\n    return value;\n  }\n  if (_.isArray(value)) {\n    return _.map(value, v => AV._decode(v));\n  }\n  if (value instanceof AV.Object) {\n    return value;\n  }\n  if (value instanceof AV.File) {\n    return value;\n  }\n  if (value instanceof AV.Op) {\n    return value;\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value;\n  }\n  if (value instanceof AV.ACL) {\n    return value;\n  }\n  if (key === 'ACL') {\n    return new AV.ACL(value);\n  }\n  if (value.__op) {\n    return AV.Op._decode(value);\n  }\n  var className;\n  if (value.__type === 'Pointer') {\n    className = value.className;\n    var pointer = AV.Object._create(className);\n    if (Object.keys(value).length > 3) {\n      const v = _.clone(value);\n      delete v.__type;\n      delete v.className;\n      pointer._finishFetch(v, true);\n    } else {\n      pointer._finishFetch({ objectId: value.objectId }, false);\n    }\n    return pointer;\n  }\n  if (value.__type === 'Object') {\n    // It's an Object included in a query result.\n    className = value.className;\n    const v = _.clone(value);\n    delete v.__type;\n    delete v.className;\n    var object = AV.Object._create(className);\n    object._finishFetch(v, true);\n    return object;\n  }\n  if (value.__type === 'Date') {\n    return AV._parseDate(value.iso);\n  }\n  if (value.__type === 'GeoPoint') {\n    return new AV.GeoPoint({\n      latitude: value.latitude,\n      longitude: value.longitude,\n    });\n  }\n  if (value.__type === 'Relation') {\n    if (!key) throw new Error('key missing decoding a Relation');\n    var relation = new AV.Relation(null, key);\n    relation.targetClassName = value.className;\n    return relation;\n  }\n  if (value.__type === 'File') {\n    var file = new AV.File(value.name);\n    const v = _.clone(value);\n    delete v.__type;\n    file._finishFetch(v);\n    return file;\n  }\n  return _.mapObject(value, AV._decode);\n};\n\n/**\n * The inverse function of {@link AV.Object#toFullJSON}.\n * @since 3.0.0\n * @method\n * @param {Object}\n * return {AV.Object|AV.File|any}\n */\nAV.parseJSON = AV._decode;\n\n/**\n * Similar to JSON.parse, except that AV internal types will be used if possible.\n * Inverse to {@link AV.stringify}\n * @since 3.14.0\n * @param {string} text the string to parse.\n * @return {AV.Object|AV.File|any}\n */\nAV.parse = text => AV.parseJSON(JSON.parse(text));\n/**\n * Serialize a target containing AV.Object, similar to JSON.stringify.\n * Inverse to {@link AV.parse}\n * @since 3.14.0\n * @return {string}\n */\nAV.stringify = target => JSON.stringify(AV._encode(target, [], false, true));\n\nAV._encodeObjectOrArray = function(value) {\n  var encodeAVObject = function(object) {\n    if (object && object._toFullJSON) {\n      object = object._toFullJSON([]);\n    }\n\n    return _.mapObject(object, function(value) {\n      return AV._encode(value, []);\n    });\n  };\n\n  if (_.isArray(value)) {\n    return value.map(function(object) {\n      return encodeAVObject(object);\n    });\n  } else {\n    return encodeAVObject(value);\n  }\n};\n\nAV._arrayEach = _.each;\n\n/**\n * Does a deep traversal of every item in object, calling func on every one.\n * @param {Object} object The object or array to traverse deeply.\n * @param {Function} func The function to call for every item. It will\n *     be passed the item as an argument. If it returns a truthy value, that\n *     value will replace the item in its parent container.\n * @returns {} the result of calling func on the top-level object itself.\n * @private\n */\nAV._traverse = function(object, func, seen) {\n  if (object instanceof AV.Object) {\n    seen = seen || [];\n    if (_.indexOf(seen, object) >= 0) {\n      // We've already visited this object in this call.\n      return;\n    }\n    seen.push(object);\n    AV._traverse(object.attributes, func, seen);\n    return func(object);\n  }\n  if (object instanceof AV.Relation || object instanceof AV.File) {\n    // Nothing needs to be done, but we don't want to recurse into the\n    // object's parent infinitely, so we catch this case.\n    return func(object);\n  }\n  if (_.isArray(object)) {\n    _.each(object, function(child, index) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[index] = newChild;\n      }\n    });\n    return func(object);\n  }\n  if (_.isObject(object)) {\n    AV._each(object, function(child, key) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[key] = newChild;\n      }\n    });\n    return func(object);\n  }\n  return func(object);\n};\n\n/**\n * This is like _.each, except:\n * * it doesn't work for so-called array-like objects,\n * * it does work for dictionaries with a \"length\" attribute.\n * @private\n */\nAV._objectEach = AV._each = function(obj, callback) {\n  if (_.isObject(obj)) {\n    _.each(_.keys(obj), function(key) {\n      callback(obj[key], key);\n    });\n  } else {\n    _.each(obj, callback);\n  }\n};\n\n/**\n * @namespace\n * @since 3.14.0\n */\nAV.debug = {\n  /**\n   * Enable debug\n   */\n  enable: (namespaces = 'leancloud*') => debug.enable(namespaces),\n  /**\n   * Disable debug\n   */\n  disable: debug.disable,\n};\n\n/**\n * Specify Adapters\n * @since 4.4.0\n * @function\n * @param {Adapters} newAdapters See {@link https://url.leanapp.cn/adapter-type-definitions @leancloud/adapter-types} for detailed definitions.\n */\nAV.setAdapters = setAdapters;\n\nmodule.exports = AV;\n\n\n\n// WEBPACK FOOTER //\n// ./src/av.js","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/debug/src/browser.js\n// module id = 24\n// module chunks = 0 1","const _ = require('underscore');\nconst adapters = {};\n\nconst getAdapter = name => {\n  const adapter = adapters[name];\n  if (adapter === undefined) {\n    throw new Error(`${name} adapter is not configured`);\n  }\n  return adapter;\n};\nconst setAdapters = newAdapters => {\n  _.extend(adapters, newAdapters);\n};\n\nmodule.exports = {\n  getAdapter,\n  setAdapters,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapter.js","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = 26\n// module chunks = 0 1","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = 27\n// module chunks = 0 1","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = 28\n// module chunks = 0 1","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = 29\n// module chunks = 0 1","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = 30\n// module chunks = 0 1","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = 31\n// module chunks = 0 1","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_meta.js\n// module id = 32\n// module chunks = 0 1","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_validate-collection.js\n// module id = 33\n// module chunks = 0 1","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = 35\n// module chunks = 0 1","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = 36\n// module chunks = 0 1","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 37\n// module chunks = 0 1","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = 38\n// module chunks = 0 1","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-instance.js\n// module id = 39\n// module chunks = 0 1","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine-all.js\n// module id = 40\n// module chunks = 0 1","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = 41\n// module chunks = 0 1","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = 42\n// module chunks = 0 1","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 43\n// module chunks = 0 1","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = 44\n// module chunks = 0 1","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = 45\n// module chunks = 0 1","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = 46\n// module chunks = 0 1","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 47\n// module chunks = 0 1","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = 48\n// module chunks = 0 1","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = 49\n// module chunks = 0 1","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = 50\n// module chunks = 0 1","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = 51\n// module chunks = 0 1","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = 52\n// module chunks = 0 1","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_new-promise-capability.js\n// module id = 53\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = 54\n// module chunks = 0 1","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = 55\n// module chunks = 0 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/typeof.js\n// module id = 56\n// module chunks = 0 1","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-ext.js\n// module id = 57\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-define.js\n// module id = 58\n// module chunks = 0 1","exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 59\n// module chunks = 0 1","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopd.js\n// module id = 60\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = 61\n// module chunks = 0 1","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-methods.js\n// module id = 62\n// module chunks = 0 1","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = 63\n// module chunks = 0 1","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = 64\n// module chunks = 0 1","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = 65\n// module chunks = 0 1","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = 66\n// module chunks = 0 1","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-step.js\n// module id = 67\n// module chunks = 0 1","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 68\n// module chunks = 0 1","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_species-constructor.js\n// module id = 69\n// module chunks = 0 1","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_task.js\n// module id = 70\n// module chunks = 0 1","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_perform.js\n// module id = 71\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_promise-resolve.js\n// module id = 72\n// module chunks = 0 1","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-species.js\n// module id = 73\n// module chunks = 0 1","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 74\n// module chunks = 0 1","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v4.js\n// module id = 75\n// module chunks = 0 1","module.exports = '4.5.3';\n\n\n\n// WEBPACK FOOTER //\n// ./src/version.js","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-prototype-of.js\n// module id = 77\n// module chunks = 0 1","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array.js\n// module id = 78\n// module chunks = 0 1","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn.js\n// module id = 79\n// module chunks = 0 1","var { getAdapter } = require('./adapter');\n\nvar syncApiNames = ['getItem', 'setItem', 'removeItem', 'clear'];\n\nconst localStorage = {\n  get async() {\n    return getAdapter('storage').async;\n  },\n};\n\n// wrap sync apis with async ones.\nsyncApiNames.forEach(function(apiName) {\n  localStorage[apiName + 'Async'] = function() {\n    const storage = getAdapter('storage');\n    return Promise.resolve(storage[apiName].apply(storage, arguments));\n  };\n\n  localStorage[apiName] = function() {\n    const storage = getAdapter('storage');\n    if (!storage.async) {\n      return storage[apiName].apply(storage, arguments);\n    }\n    const error = new Error(\n      'Synchronous API [' + apiName + '] is not available in this runtime.'\n    );\n    error.code = 'SYNC_API_NOT_AVAILABLE';\n    throw error;\n  };\n});\n\nmodule.exports = localStorage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/localstorage.js","const storage = require('./localstorage');\nconst AV = require('./av');\n\nconst removeAsync = (exports.removeAsync = storage.removeItemAsync.bind(\n  storage\n));\n\nconst getCacheData = (cacheData, key) => {\n  try {\n    cacheData = JSON.parse(cacheData);\n  } catch (e) {\n    return null;\n  }\n  if (cacheData) {\n    const expired = cacheData.expiredAt && cacheData.expiredAt < Date.now();\n    if (!expired) {\n      return cacheData.value;\n    }\n    return removeAsync(key).then(() => null);\n  }\n  return null;\n};\n\nexports.getAsync = key => {\n  key = `AV/${AV.applicationId}/${key}`;\n  return storage.getItemAsync(key).then(cache => getCacheData(cache, key));\n};\n\nexports.setAsync = (key, value, ttl) => {\n  const cache = { value };\n  if (typeof ttl === 'number') {\n    cache.expiredAt = Date.now() + ttl;\n  }\n  return storage.setItemAsync(\n    `AV/${AV.applicationId}/${key}`,\n    JSON.stringify(cache)\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cache.js","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/charenc/charenc.js\n// module id = 82\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js\n// module id = 83\n// module chunks = 0 1","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_collection.js\n// module id = 84\n// module chunks = 0 1","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-collection-of.js\n// module id = 85\n// module chunks = 0 1","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-collection-from.js\n// module id = 86\n// module chunks = 0 1","const AV = require('./core');\nconst adapters = require('@leancloud/platform-adapters-weapp');\n\nAV.setAdapters(adapters);\n\nmodule.exports = AV;\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/index-weapp.js","module.exports = require('../index');\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/core.js","/*!\n * LeanCloud JavaScript SDK\n * https://leancloud.cn\n *\n * Copyright 2016 LeanCloud.cn, Inc.\n * The LeanCloud JavaScript SDK is freely distributable under the MIT license.\n */\nconst _ = require('underscore');\n\nconst AV = require('./av');\n\nAV._ = _;\nAV.version = require('./version');\nAV.Promise = Promise;\nAV.localStorage = require('./localstorage');\nAV.Cache = require('./cache');\nAV.Error = require('./error');\n\nrequire('./init');\nrequire('./event')(AV);\nrequire('./geopoint')(AV);\nrequire('./acl')(AV);\nrequire('./op')(AV);\nrequire('./relation')(AV);\nrequire('./file')(AV);\nrequire('./object')(AV);\nrequire('./role')(AV);\nrequire('./user')(AV);\nrequire('./query')(AV);\nrequire('./live-query')(AV);\nrequire('./captcha')(AV);\nrequire('./cloudfunction')(AV);\nrequire('./push')(AV);\nrequire('./status')(AV);\nrequire('./search')(AV);\nrequire('./insight')(AV);\n\nAV.Conversation = require('./conversation');\nrequire('./leaderboard');\nmodule.exports = AV;\n\n/**\n * Options to controll the authentication for an operation\n * @typedef {Object} AuthOptions\n * @property {String} [sessionToken] Specify a user to excute the operation as.\n * @property {AV.User} [user] Specify a user to excute the operation as. The user must have _sessionToken. This option will be ignored if sessionToken option provided.\n * @property {Boolean} [useMasterKey] Indicates whether masterKey is used for this operation. Only valid when masterKey is set.\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/promise.js\n// module id = 90\n// module chunks = 0 1","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = 91\n// module chunks = 0 1","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 92\n// module chunks = 0 1","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = 93\n// module chunks = 0 1","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = 94\n// module chunks = 0 1","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = 95\n// module chunks = 0 1","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.iterator.js\n// module id = 96\n// module chunks = 0 1","module.exports = function () { /* empty */ };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js\n// module id = 97\n// module chunks = 0 1","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.promise.js\n// module id = 98\n// module chunks = 0 1","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-call.js\n// module id = 99\n// module chunks = 0 1","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array-iter.js\n// module id = 100\n// module chunks = 0 1","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_invoke.js\n// module id = 101\n// module chunks = 0 1","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_microtask.js\n// module id = 102\n// module chunks = 0 1","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_user-agent.js\n// module id = 103\n// module chunks = 0 1","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-detect.js\n// module id = 104\n// module chunks = 0 1","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.finally.js\n// module id = 105\n// module chunks = 0 1","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.try.js\n// module id = 106\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 107\n// module chunks = 0 1","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = 108\n// module chunks = 0 1","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = 109\n// module chunks = 0 1","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = 110\n// module chunks = 0 1","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/rng-browser.js\n// module id = 111\n// module chunks = 0 1","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/bytesToUuid.js\n// module id = 112\n// module chunks = 0 1","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/debug/src/common.js\n// module id = 113\n// module chunks = 0 1","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ms/index.js\n// module id = 114\n// module chunks = 0 1","const version = require('../version');\nconst getUA = (comments = []) => {\n  let ua = `LeanCloud-JS-SDK/${version}`;\n  if (comments.length) {\n    ua += ` (${comments.join('; ')})`;\n  }\n  return ua;\n};\nmodule.exports = getUA;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ua/index.js","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-prototype-of.js\n// module id = 116\n// module chunks = 0 1","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-prototype-of.js\n// module id = 117\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol/iterator.js\n// module id = 118\n// module chunks = 0 1","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/iterator.js\n// module id = 119\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol.js\n// module id = 120\n// module chunks = 0 1","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/index.js\n// module id = 121\n// module chunks = 0 1","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.symbol.js\n// module id = 122\n// module chunks = 0 1","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-keys.js\n// module id = 123\n// module chunks = 0 1","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn-ext.js\n// module id = 124\n// module chunks = 0 1","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 125\n// module chunks = 0 1","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.observable.js\n// module id = 126\n// module chunks = 0 1","// Copyright (c) 2015-2017 David M. Lee, II\n'use strict';\n\n/**\n * Local reference to TimeoutError\n * @private\n */\nvar TimeoutError;\n\n/**\n * Rejects a promise with a {@link TimeoutError} if it does not settle within\n * the specified timeout.\n *\n * @param {Promise} promise The promise.\n * @param {number} timeoutMillis Number of milliseconds to wait on settling.\n * @returns {Promise} Either resolves/rejects with `promise`, or rejects with\n *                   `TimeoutError`, whichever settles first.\n */\nvar timeout = module.exports.timeout = function(promise, timeoutMillis) {\n  var error = new TimeoutError(),\n      timeout;\n\n  return Promise.race([\n    promise,\n    new Promise(function(resolve, reject) {\n      timeout = setTimeout(function() {\n        reject(error);\n      }, timeoutMillis);\n    }),\n  ]).then(function(v) {\n    clearTimeout(timeout);\n    return v;\n  }, function(err) {\n    clearTimeout(timeout);\n    throw err;\n  });\n};\n\n/**\n * Exception indicating that the timeout expired.\n */\nTimeoutError = module.exports.TimeoutError = function() {\n  Error.call(this)\n  this.stack = Error().stack\n  this.message = 'Timeout';\n};\n\nTimeoutError.prototype = Object.create(Error.prototype);\nTimeoutError.prototype.name = \"TimeoutError\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/promise-timeout/index.js\n// module id = 127\n// module chunks = 0 1","const AV = require('./av');\nconst AppRouter = require('./app-router');\nconst { isNullOrUndefined } = require('./utils');\nconst { extend, isObject, isEmpty } = require('underscore');\n\nconst isCNApp = appId => appId.slice(-9) !== '-MdYXbMMI';\n\nconst fillServerURLs = url => ({\n  push: url,\n  stats: url,\n  engine: url,\n  api: url,\n  rtm: url,\n});\n\nfunction getDefaultServerURLs(appId) {\n  if (isCNApp(appId)) {\n    return {};\n  }\n  const id = appId.slice(0, 8).toLowerCase();\n  const domain = 'lncldglobal.com';\n  return {\n    push: `https://${id}.push.${domain}`,\n    stats: `https://${id}.stats.${domain}`,\n    engine: `https://${id}.engine.${domain}`,\n    api: `https://${id}.api.${domain}`,\n    rtm: `https://${id}.rtm.${domain}`,\n  };\n}\n\nlet _disableAppRouter = false;\nlet _initialized = false;\n\n/**\n * URLs for services\n * @typedef {Object} ServerURLs\n * @property {String} [api] serverURL for API service\n * @property {String} [engine] serverURL for engine service\n * @property {String} [stats] serverURL for stats service\n * @property {String} [push] serverURL for push service\n * @property {String} [rtm] serverURL for LiveQuery service\n */\n\n/**\n * Call this method first to set up your authentication tokens for AV.\n * You can get your app keys from the LeanCloud dashboard on http://leancloud.cn .\n * @function AV.init\n * @param {Object} options\n * @param {String} options.appId application id\n * @param {String} options.appKey application key\n * @param {String} [options.masterKey] application master key\n * @param {Boolean} [options.production]\n * @param {String|ServerURLs} [options.serverURL] URLs for services. if a string was given, it will be applied for all services.\n * @param {Boolean} [options.disableCurrentUser]\n */\nAV.init = function init(options, ...params) {\n  if (!isObject(options)) {\n    return AV.init({\n      appId: options,\n      appKey: params[0],\n      masterKey: params[1],\n    });\n  }\n  const {\n    appId,\n    appKey,\n    masterKey,\n    hookKey,\n    serverURL,\n    serverURLs = serverURL,\n    disableCurrentUser,\n    production,\n    realtime,\n  } = options;\n  if (_initialized)\n    console.warn(\n      'Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations.'\n    );\n  if (!appId) throw new TypeError('appId must be a string');\n  if (!appKey) throw new TypeError('appKey must be a string');\n  if (process.env.CLIENT_PLATFORM && masterKey)\n    console.warn('MasterKey is not supposed to be used at client side.');\n  if (isCNApp(appId)) {\n    if (!serverURLs && isEmpty(AV._config.serverURLs)) {\n      throw new TypeError(\n        `serverURL option is required for apps from CN region`\n      );\n    }\n  }\n  if (appId !== AV._config.applicationId) {\n    // overwrite all keys when reinitializing as a new app\n    AV._config.masterKey = masterKey;\n    AV._config.hookKey = hookKey;\n  } else {\n    if (masterKey) AV._config.masterKey = masterKey;\n    if (hookKey) AV._config.hookKey = hookKey;\n  }\n  AV._config.applicationId = appId;\n  AV._config.applicationKey = appKey;\n  AV.setProduction(production);\n  if (typeof disableCurrentUser !== 'undefined')\n    AV._config.disableCurrentUser = disableCurrentUser;\n  const disableAppRouter =\n    _disableAppRouter || typeof serverURLs !== 'undefined';\n  if (!disableAppRouter) {\n    AV._appRouter = new AppRouter(AV);\n  }\n  AV._setServerURLs(\n    extend(\n      {},\n      getDefaultServerURLs(appId),\n      AV._config.serverURLs,\n      typeof serverURLs === 'string' ? fillServerURLs(serverURLs) : serverURLs\n    ),\n    disableAppRouter\n  );\n  if (realtime) {\n    AV._config.realtime = realtime;\n  } else if (AV._sharedConfig.liveQueryRealtime) {\n    const { api, rtm } = AV._config.serverURLs;\n    AV._config.realtime = new AV._sharedConfig.liveQueryRealtime({\n      appId,\n      appKey,\n      server: {\n        api,\n        RTMRouter: rtm,\n      },\n    });\n  }\n  _initialized = true;\n};\n\n// If we're running in node.js, allow using the master key.\nif (!process.env.CLIENT_PLATFORM) {\n  AV.Cloud = AV.Cloud || {};\n  /**\n   * Switches the LeanCloud SDK to using the Master key.  The Master key grants\n   * priveleged access to the data in LeanCloud and can be used to bypass ACLs and\n   * other restrictions that are applied to the client SDKs.\n   * <p><strong><em>Available in Cloud Code and Node.js only.</em></strong>\n   * </p>\n   */\n  AV.Cloud.useMasterKey = () => {\n    AV._config.useMasterKey = true;\n  };\n}\n\n/**\n * Call this method to set production environment variable.\n * @function AV.setProduction\n * @param {Boolean} production True is production environment,and\n *  it's true by default.\n */\nAV.setProduction = production => {\n  if (!isNullOrUndefined(production)) {\n    AV._config.production = production ? 1 : 0;\n  } else {\n    // change to default value\n    AV._config.production = null;\n  }\n};\n\nAV._setServerURLs = (urls, disableAppRouter = true) => {\n  if (typeof urls !== 'string') {\n    extend(AV._config.serverURLs, urls);\n  } else {\n    AV._config.serverURLs = fillServerURLs(urls);\n  }\n  if (disableAppRouter) {\n    if (AV._appRouter) {\n      AV._appRouter.disable();\n    } else {\n      _disableAppRouter = true;\n    }\n  }\n};\n/**\n * Set server URLs for services.\n * @function AV.setServerURL\n * @since 4.3.0\n * @param {String|ServerURLs} urls URLs for services. if a string was given, it will be applied for all services.\n * You can also set them when initializing SDK with `options.serverURL`\n */\nAV.setServerURL = urls => AV._setServerURLs(urls);\nAV.setServerURLs = AV.setServerURL;\n\nAV.keepErrorRawMessage = value => {\n  AV._sharedConfig.keepErrorRawMessage = value;\n};\n\n/**\n * Set a deadline for requests to complete.\n * Note that file upload requests are not affected.\n * @function AV.setRequestTimeout\n * @since 3.6.0\n * @param {number} ms\n */\nAV.setRequestTimeout = ms => {\n  AV._config.requestTimeout = ms;\n};\n\n// backword compatible\nAV.initialize = AV.init;\n\nconst defineConfig = property =>\n  Object.defineProperty(AV, property, {\n    get() {\n      return AV._config[property];\n    },\n    set(value) {\n      AV._config[property] = value;\n    },\n  });\n\n['applicationId', 'applicationKey', 'masterKey', 'hookKey'].forEach(\n  defineConfig\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/init.js","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 129\n// module chunks = 0 1","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = 130\n// module chunks = 0 1","const { ajax } = require('./utils');\nconst Cache = require('./cache');\n\nfunction AppRouter(AV) {\n  this.AV = AV;\n  this.lockedUntil = 0;\n  Cache.getAsync('serverURLs')\n    .then(data => {\n      if (this.disabled) return;\n      if (!data) return this.lock(0);\n      const { serverURLs, lockedUntil } = data;\n      this.AV._setServerURLs(serverURLs, false);\n      this.lockedUntil = lockedUntil;\n    })\n    .catch(() => this.lock(0));\n}\n\nAppRouter.prototype.disable = function disable() {\n  this.disabled = true;\n};\nAppRouter.prototype.lock = function lock(ttl) {\n  this.lockedUntil = Date.now() + ttl;\n};\nAppRouter.prototype.refresh = function refresh() {\n  if (this.disabled) return;\n  if (Date.now() < this.lockedUntil) return;\n  this.lock(10);\n  const url = 'https://app-router.com/2/route';\n  return ajax({\n    method: 'get',\n    url,\n    query: {\n      appId: this.AV.applicationId,\n    },\n  })\n    .then(servers => {\n      if (this.disabled) return;\n      let ttl = servers.ttl;\n      if (!ttl) throw new Error('missing ttl');\n      ttl = ttl * 1000;\n      const protocal = 'https://';\n      const serverURLs = {\n        push: protocal + servers.push_server,\n        stats: protocal + servers.stats_server,\n        engine: protocal + servers.engine_server,\n        api: protocal + servers.api_server,\n      };\n      this.AV._setServerURLs(serverURLs, false);\n      this.lock(ttl);\n      return Cache.setAsync(\n        'serverURLs',\n        {\n          serverURLs,\n          lockedUntil: this.lockedUntil,\n        },\n        ttl\n      );\n    })\n    .catch(error => {\n      // bypass all errors\n      console.warn(`refresh server URLs failed: ${error.message}`);\n      this.lock(600);\n    });\n};\n\nmodule.exports = AppRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app-router.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  var eventSplitter = /\\s+/;\n  var slice = Array.prototype.slice;\n\n  /**\n   * @class\n   *\n   * <p>AV.Events is a fork of Backbone's Events module, provided for your\n   * convenience.</p>\n   *\n   * <p>A module that can be mixed in to any object in order to provide\n   * it with custom events. You may bind callback functions to an event\n   * with `on`, or remove these functions with `off`.\n   * Triggering an event fires all callbacks in the order that `on` was\n   * called.\n   *\n   * @private\n   * @example\n   * var object = {};\n   * _.extend(object, AV.Events);\n   * object.on('expand', function(){ alert('expanded'); });\n   * object.trigger('expand');</pre></p>\n   *\n   */\n  AV.Events = {\n    /**\n     * Bind one or more space separated events, `events`, to a `callback`\n     * function. Passing `\"all\"` will bind the callback to all events fired.\n     */\n    on: function(events, callback, context) {\n      var calls, event, node, tail, list;\n      if (!callback) {\n        return this;\n      }\n      events = events.split(eventSplitter);\n      calls = this._callbacks || (this._callbacks = {});\n\n      // Create an immutable callback list, allowing traversal during\n      // modification.  The tail is an empty object that will always be used\n      // as the next node.\n      event = events.shift();\n      while (event) {\n        list = calls[event];\n        node = list ? list.tail : {};\n        node.next = tail = {};\n        node.context = context;\n        node.callback = callback;\n        calls[event] = { tail: tail, next: list ? list.next : node };\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Remove one or many callbacks. If `context` is null, removes all callbacks\n     * with that function. If `callback` is null, removes all callbacks for the\n     * event. If `events` is null, removes all bound callbacks for all events.\n     */\n    off: function(events, callback, context) {\n      var event, calls, node, tail, cb, ctx;\n\n      // No events, or removing *all* events.\n      if (!(calls = this._callbacks)) {\n        return;\n      }\n      if (!(events || callback || context)) {\n        delete this._callbacks;\n        return this;\n      }\n\n      // Loop through the listed events and contexts, splicing them out of the\n      // linked list of callbacks if appropriate.\n      events = events ? events.split(eventSplitter) : _.keys(calls);\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        delete calls[event];\n        if (!node || !(callback || context)) {\n          continue;\n        }\n        // Create a new list, omitting the indicated callbacks.\n        tail = node.tail;\n        node = node.next;\n        while (node !== tail) {\n          cb = node.callback;\n          ctx = node.context;\n          if ((callback && cb !== callback) || (context && ctx !== context)) {\n            this.on(event, cb, ctx);\n          }\n          node = node.next;\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Trigger one or many events, firing all bound callbacks. Callbacks are\n     * passed the same arguments as `trigger` is, apart from the event name\n     * (unless you're listening on `\"all\"`, which will cause your callback to\n     * receive the true name of the event as the first argument).\n     */\n    trigger: function(events) {\n      var event, node, calls, tail, args, all, rest;\n      if (!(calls = this._callbacks)) {\n        return this;\n      }\n      all = calls.all;\n      events = events.split(eventSplitter);\n      rest = slice.call(arguments, 1);\n\n      // For each event, walk through the linked list of callbacks twice,\n      // first to trigger the event, then to trigger any `\"all\"` callbacks.\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        if (node) {\n          tail = node.tail;\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, rest);\n          }\n        }\n        node = all;\n        if (node) {\n          tail = node.tail;\n          args = [event].concat(rest);\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, args);\n          }\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n  };\n\n  /**\n   * @function\n   */\n  AV.Events.bind = AV.Events.on;\n\n  /**\n   * @function\n   */\n  AV.Events.unbind = AV.Events.off;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/event.js","var _ = require('underscore');\n\n/*global navigator: false */\nmodule.exports = function(AV) {\n  /**\n   * Creates a new GeoPoint with any of the following forms:<br>\n   * @example\n   * new GeoPoint(otherGeoPoint)\n   * new GeoPoint(30, 30)\n   * new GeoPoint([30, 30])\n   * new GeoPoint({latitude: 30, longitude: 30})\n   * new GeoPoint()  // defaults to (0, 0)\n   * @class\n   *\n   * <p>Represents a latitude / longitude point that may be associated\n   * with a key in a AVObject or used as a reference point for geo queries.\n   * This allows proximity-based queries on the key.</p>\n   *\n   * <p>Only one key in a class may contain a GeoPoint.</p>\n   *\n   * <p>Example:<pre>\n   *   var point = new AV.GeoPoint(30.0, -20.0);\n   *   var object = new AV.Object(\"PlaceObject\");\n   *   object.set(\"location\", point);\n   *   object.save();</pre></p>\n   */\n  AV.GeoPoint = function(arg1, arg2) {\n    if (_.isArray(arg1)) {\n      AV.GeoPoint._validate(arg1[0], arg1[1]);\n      this.latitude = arg1[0];\n      this.longitude = arg1[1];\n    } else if (_.isObject(arg1)) {\n      AV.GeoPoint._validate(arg1.latitude, arg1.longitude);\n      this.latitude = arg1.latitude;\n      this.longitude = arg1.longitude;\n    } else if (_.isNumber(arg1) && _.isNumber(arg2)) {\n      AV.GeoPoint._validate(arg1, arg2);\n      this.latitude = arg1;\n      this.longitude = arg2;\n    } else {\n      this.latitude = 0;\n      this.longitude = 0;\n    }\n\n    // Add properties so that anyone using Webkit or Mozilla will get an error\n    // if they try to set values that are out of bounds.\n    var self = this;\n    if (this.__defineGetter__ && this.__defineSetter__) {\n      // Use _latitude and _longitude to actually store the values, and add\n      // getters and setters for latitude and longitude.\n      this._latitude = this.latitude;\n      this._longitude = this.longitude;\n      this.__defineGetter__('latitude', function() {\n        return self._latitude;\n      });\n      this.__defineGetter__('longitude', function() {\n        return self._longitude;\n      });\n      this.__defineSetter__('latitude', function(val) {\n        AV.GeoPoint._validate(val, self.longitude);\n        self._latitude = val;\n      });\n      this.__defineSetter__('longitude', function(val) {\n        AV.GeoPoint._validate(self.latitude, val);\n        self._longitude = val;\n      });\n    }\n  };\n\n  /**\n   * @lends AV.GeoPoint.prototype\n   * @property {float} latitude North-south portion of the coordinate, in range\n   *   [-90, 90].  Throws an exception if set out of range in a modern browser.\n   * @property {float} longitude East-west portion of the coordinate, in range\n   *   [-180, 180].  Throws if set out of range in a modern browser.\n   */\n\n  /**\n   * Throws an exception if the given lat-long is out of bounds.\n   * @private\n   */\n  AV.GeoPoint._validate = function(latitude, longitude) {\n    if (latitude < -90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' < -90.0.');\n    }\n    if (latitude > 90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' > 90.0.');\n    }\n    if (longitude < -180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' < -180.0.');\n    }\n    if (longitude > 180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' > 180.0.');\n    }\n  };\n\n  /**\n   * Creates a GeoPoint with the user's current location, if available.\n   * @return {Promise.<AV.GeoPoint>}\n   */\n  AV.GeoPoint.current = () =>\n    new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(function(location) {\n        resolve(\n          new AV.GeoPoint({\n            latitude: location.coords.latitude,\n            longitude: location.coords.longitude,\n          })\n        );\n      }, reject);\n    });\n\n  _.extend(\n    AV.GeoPoint.prototype,\n    /** @lends AV.GeoPoint.prototype */ {\n      /**\n       * Returns a JSON representation of the GeoPoint, suitable for AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        AV.GeoPoint._validate(this.latitude, this.longitude);\n        return {\n          __type: 'GeoPoint',\n          latitude: this.latitude,\n          longitude: this.longitude,\n        };\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in radians.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      radiansTo: function(point) {\n        var d2r = Math.PI / 180.0;\n        var lat1rad = this.latitude * d2r;\n        var long1rad = this.longitude * d2r;\n        var lat2rad = point.latitude * d2r;\n        var long2rad = point.longitude * d2r;\n        var deltaLat = lat1rad - lat2rad;\n        var deltaLong = long1rad - long2rad;\n        var sinDeltaLatDiv2 = Math.sin(deltaLat / 2);\n        var sinDeltaLongDiv2 = Math.sin(deltaLong / 2);\n        // Square of half the straight line chord distance between both points.\n        var a =\n          sinDeltaLatDiv2 * sinDeltaLatDiv2 +\n          Math.cos(lat1rad) *\n            Math.cos(lat2rad) *\n            sinDeltaLongDiv2 *\n            sinDeltaLongDiv2;\n        a = Math.min(1.0, a);\n        return 2 * Math.asin(Math.sqrt(a));\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in kilometers.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      kilometersTo: function(point) {\n        return this.radiansTo(point) * 6371.0;\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in miles.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      milesTo: function(point) {\n        return this.radiansTo(point) * 3958.8;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/geopoint.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  var PUBLIC_KEY = '*';\n\n  /**\n   * Creates a new ACL.\n   * If no argument is given, the ACL has no permissions for anyone.\n   * If the argument is a AV.User, the ACL will have read and write\n   *   permission for only that user.\n   * If the argument is any other JSON object, that object will be interpretted\n   *   as a serialized ACL created with toJSON().\n   * @see AV.Object#setACL\n   * @class\n   *\n   * <p>An ACL, or Access Control List can be added to any\n   * <code>AV.Object</code> to restrict access to only a subset of users\n   * of your application.</p>\n   */\n  AV.ACL = function(arg1) {\n    var self = this;\n    self.permissionsById = {};\n    if (_.isObject(arg1)) {\n      if (arg1 instanceof AV.User) {\n        self.setReadAccess(arg1, true);\n        self.setWriteAccess(arg1, true);\n      } else {\n        if (_.isFunction(arg1)) {\n          throw new Error(\n            'AV.ACL() called with a function.  Did you forget ()?'\n          );\n        }\n        AV._objectEach(arg1, function(accessList, userId) {\n          if (!_.isString(userId)) {\n            throw new Error('Tried to create an ACL with an invalid userId.');\n          }\n          self.permissionsById[userId] = {};\n          AV._objectEach(accessList, function(allowed, permission) {\n            if (permission !== 'read' && permission !== 'write') {\n              throw new Error(\n                'Tried to create an ACL with an invalid permission type.'\n              );\n            }\n            if (!_.isBoolean(allowed)) {\n              throw new Error(\n                'Tried to create an ACL with an invalid permission value.'\n              );\n            }\n            self.permissionsById[userId][permission] = allowed;\n          });\n        });\n      }\n    }\n  };\n\n  /**\n   * Returns a JSON-encoded version of the ACL.\n   * @return {Object}\n   */\n  AV.ACL.prototype.toJSON = function() {\n    return _.clone(this.permissionsById);\n  };\n\n  AV.ACL.prototype._setAccess = function(accessType, userId, allowed) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    if (!_.isString(userId)) {\n      throw new Error('userId must be a string.');\n    }\n    if (!_.isBoolean(allowed)) {\n      throw new Error('allowed must be either true or false.');\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      if (!allowed) {\n        // The user already doesn't have this permission, so no action needed.\n        return;\n      } else {\n        permissions = {};\n        this.permissionsById[userId] = permissions;\n      }\n    }\n\n    if (allowed) {\n      this.permissionsById[userId][accessType] = true;\n    } else {\n      delete permissions[accessType];\n      if (_.isEmpty(permissions)) {\n        delete this.permissionsById[userId];\n      }\n    }\n  };\n\n  AV.ACL.prototype._getAccess = function(accessType, userId) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      return false;\n    }\n    return permissions[accessType] ? true : false;\n  };\n\n  /**\n   * Set whether the given user is allowed to read this object.\n   * @param userId An instance of AV.User or its objectId.\n   * @param {Boolean} allowed Whether that user should have read access.\n   */\n  AV.ACL.prototype.setReadAccess = function(userId, allowed) {\n    this._setAccess('read', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to read this object.\n   * Even if this returns false, the user may still be able to access it if\n   * getPublicReadAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getReadAccess = function(userId) {\n    return this._getAccess('read', userId);\n  };\n\n  /**\n   * Set whether the given user id is allowed to write this object.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role..\n   * @param {Boolean} allowed Whether that user should have write access.\n   */\n  AV.ACL.prototype.setWriteAccess = function(userId, allowed) {\n    this._setAccess('write', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to write this object.\n   * Even if this returns false, the user may still be able to write it if\n   * getPublicWriteAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getWriteAccess = function(userId) {\n    return this._getAccess('write', userId);\n  };\n\n  /**\n   * Set whether the public is allowed to read this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicReadAccess = function(allowed) {\n    this.setReadAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to read this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicReadAccess = function() {\n    return this.getReadAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Set whether the public is allowed to write this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicWriteAccess = function(allowed) {\n    this.setWriteAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to write this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicWriteAccess = function() {\n    return this.getWriteAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to read this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has read access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has read access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleReadAccess = function(role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getReadAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to write this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has write access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has write access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleWriteAccess = function(role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getWriteAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to read this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can read this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleReadAccess = function(role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setReadAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to write this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can write this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleWriteAccess = function(role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setWriteAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/acl.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  /**\n   * @private\n   * @class\n   * A AV.Op is an atomic operation that can be applied to a field in a\n   * AV.Object. For example, calling <code>object.set(\"foo\", \"bar\")</code>\n   * is an example of a AV.Op.Set. Calling <code>object.unset(\"foo\")</code>\n   * is a AV.Op.Unset. These operations are stored in a AV.Object and\n   * sent to the server as part of <code>object.save()</code> operations.\n   * Instances of AV.Op should be immutable.\n   *\n   * You should not create subclasses of AV.Op or instantiate AV.Op\n   * directly.\n   */\n  AV.Op = function() {\n    this._initialize.apply(this, arguments);\n  };\n\n  _.extend(\n    AV.Op.prototype,\n    /** @lends AV.Op.prototype */ {\n      _initialize: function() {},\n    }\n  );\n\n  _.extend(AV.Op, {\n    /**\n     * To create a new Op, call AV.Op._extend();\n     * @private\n     */\n    _extend: AV._extend,\n\n    // A map of __op string to decoder function.\n    _opDecoderMap: {},\n\n    /**\n     * Registers a function to convert a json object with an __op field into an\n     * instance of a subclass of AV.Op.\n     * @private\n     */\n    _registerDecoder: function(opName, decoder) {\n      AV.Op._opDecoderMap[opName] = decoder;\n    },\n\n    /**\n     * Converts a json object into an instance of a subclass of AV.Op.\n     * @private\n     */\n    _decode: function(json) {\n      var decoder = AV.Op._opDecoderMap[json.__op];\n      if (decoder) {\n        return decoder(json);\n      } else {\n        return undefined;\n      }\n    },\n  });\n\n  /*\n   * Add a handler for Batch ops.\n   */\n  AV.Op._registerDecoder('Batch', function(json) {\n    var op = null;\n    AV._arrayEach(json.ops, function(nextOp) {\n      nextOp = AV.Op._decode(nextOp);\n      op = nextOp._mergeWithPrevious(op);\n    });\n    return op;\n  });\n\n  /**\n   * @private\n   * @class\n   * A Set operation indicates that either the field was changed using\n   * AV.Object.set, or it is a mutable container that was detected as being\n   * changed.\n   */\n  AV.Op.Set = AV.Op._extend(\n    /** @lends AV.Op.Set.prototype */ {\n      _initialize: function(value) {\n        this._value = value;\n      },\n\n      /**\n       * Returns the new value of this field after the set.\n       */\n      value: function() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return AV._encode(this.value());\n      },\n\n      _mergeWithPrevious: function(previous) {\n        return this;\n      },\n\n      _estimate: function(oldValue) {\n        return this.value();\n      },\n    }\n  );\n\n  /**\n   * A sentinel value that is returned by AV.Op.Unset._estimate to\n   * indicate the field should be deleted. Basically, if you find _UNSET as a\n   * value in your object, you should remove that key.\n   */\n  AV.Op._UNSET = {};\n\n  /**\n   * @private\n   * @class\n   * An Unset operation indicates that this field has been deleted from the\n   * object.\n   */\n  AV.Op.Unset = AV.Op._extend(\n    /** @lends AV.Op.Unset.prototype */ {\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Delete' };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        return this;\n      },\n\n      _estimate: function(oldValue) {\n        return AV.Op._UNSET;\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Delete', function(json) {\n    return new AV.Op.Unset();\n  });\n\n  /**\n   * @private\n   * @class\n   * An Increment is an atomic operation where the numeric value for the field\n   * will be increased by a given amount.\n   */\n  AV.Op.Increment = AV.Op._extend(\n    /** @lends AV.Op.Increment.prototype */ {\n      _initialize: function(amount) {\n        this._amount = amount;\n      },\n\n      /**\n       * Returns the amount to increment by.\n       * @return {Number} the amount to increment by.\n       */\n      amount: function() {\n        return this._amount;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Increment', amount: this._amount };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.amount());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() + this.amount());\n        } else if (previous instanceof AV.Op.Increment) {\n          return new AV.Op.Increment(this.amount() + previous.amount());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return this.amount();\n        }\n        return oldValue + this.amount();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Increment', function(json) {\n    return new AV.Op.Increment(json.amount);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitAnd is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitAnd = AV.Op._extend(\n    /** @lends AV.Op.BitAnd.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitAnd', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(0);\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() & this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue & this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitAnd', function(json) {\n    return new AV.Op.BitAnd(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitOr is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitOr = AV.Op._extend(\n    /** @lends AV.Op.BitOr.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitOr', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.value());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() | this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue | this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitOr', function(json) {\n    return new AV.Op.BitOr(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitXor is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitXor = AV.Op._extend(\n    /** @lends AV.Op.BitXor.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitXor', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.value());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() ^ this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue ^ this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitXor', function(json) {\n    return new AV.Op.BitXor(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * Add is an atomic operation where the given objects will be appended to the\n   * array that is stored in this field.\n   */\n  AV.Op.Add = AV.Op._extend(\n    /** @lends AV.Op.Add.prototype */ {\n      _initialize: function(objects) {\n        this._objects = objects;\n      },\n\n      /**\n       * Returns the objects to be added to the array.\n       * @return {Array} The objects to be added to the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Add', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.objects());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.Add) {\n          return new AV.Op.Add(previous.objects().concat(this.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return _.clone(this.objects());\n        } else {\n          return oldValue.concat(this.objects());\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Add', function(json) {\n    return new AV.Op.Add(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * AddUnique is an atomic operation where the given items will be appended to\n   * the array that is stored in this field only if they were not already\n   * present in the array.\n   */\n  AV.Op.AddUnique = AV.Op._extend(\n    /** @lends AV.Op.AddUnique.prototype */ {\n      _initialize: function(objects) {\n        this._objects = _.uniq(objects);\n      },\n\n      /**\n       * Returns the objects to be added to the array.\n       * @return {Array} The objects to be added to the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'AddUnique', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.objects());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.AddUnique) {\n          return new AV.Op.AddUnique(this._estimate(previous.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return _.clone(this.objects());\n        } else {\n          // We can't just take the _.uniq(_.union(...)) of oldValue and\n          // this.objects, because the uniqueness may not apply to oldValue\n          // (especially if the oldValue was set via .set())\n          var newValue = _.clone(oldValue);\n          AV._arrayEach(this.objects(), function(obj) {\n            if (obj instanceof AV.Object && obj.id) {\n              var matchingObj = _.find(newValue, function(anObj) {\n                return anObj instanceof AV.Object && anObj.id === obj.id;\n              });\n              if (!matchingObj) {\n                newValue.push(obj);\n              } else {\n                var index = _.indexOf(newValue, matchingObj);\n                newValue[index] = obj;\n              }\n            } else if (!_.contains(newValue, obj)) {\n              newValue.push(obj);\n            }\n          });\n          return newValue;\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('AddUnique', function(json) {\n    return new AV.Op.AddUnique(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * Remove is an atomic operation where the given objects will be removed from\n   * the array that is stored in this field.\n   */\n  AV.Op.Remove = AV.Op._extend(\n    /** @lends AV.Op.Remove.prototype */ {\n      _initialize: function(objects) {\n        this._objects = _.uniq(objects);\n      },\n\n      /**\n       * Returns the objects to be removed from the array.\n       * @return {Array} The objects to be removed from the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Remove', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return previous;\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.Remove) {\n          return new AV.Op.Remove(_.union(previous.objects(), this.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return [];\n        } else {\n          var newValue = _.difference(oldValue, this.objects());\n          // If there are saved AV Objects being removed, also remove them.\n          AV._arrayEach(this.objects(), function(obj) {\n            if (obj instanceof AV.Object && obj.id) {\n              newValue = _.reject(newValue, function(other) {\n                return other instanceof AV.Object && other.id === obj.id;\n              });\n            }\n          });\n          return newValue;\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Remove', function(json) {\n    return new AV.Op.Remove(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * A Relation operation indicates that the field is an instance of\n   * AV.Relation, and objects are being added to, or removed from, that\n   * relation.\n   */\n  AV.Op.Relation = AV.Op._extend(\n    /** @lends AV.Op.Relation.prototype */ {\n      _initialize: function(adds, removes) {\n        this._targetClassName = null;\n\n        var self = this;\n\n        var pointerToId = function(object) {\n          if (object instanceof AV.Object) {\n            if (!object.id) {\n              throw new Error(\n                \"You can't add an unsaved AV.Object to a relation.\"\n              );\n            }\n            if (!self._targetClassName) {\n              self._targetClassName = object.className;\n            }\n            if (self._targetClassName !== object.className) {\n              throw new Error(\n                'Tried to create a AV.Relation with 2 different types: ' +\n                  self._targetClassName +\n                  ' and ' +\n                  object.className +\n                  '.'\n              );\n            }\n            return object.id;\n          }\n          return object;\n        };\n\n        this.relationsToAdd = _.uniq(_.map(adds, pointerToId));\n        this.relationsToRemove = _.uniq(_.map(removes, pointerToId));\n      },\n\n      /**\n       * Returns an array of unfetched AV.Object that are being added to the\n       * relation.\n       * @return {Array}\n       */\n      added: function() {\n        var self = this;\n        return _.map(this.relationsToAdd, function(objectId) {\n          var object = AV.Object._create(self._targetClassName);\n          object.id = objectId;\n          return object;\n        });\n      },\n\n      /**\n       * Returns an array of unfetched AV.Object that are being removed from\n       * the relation.\n       * @return {Array}\n       */\n      removed: function() {\n        var self = this;\n        return _.map(this.relationsToRemove, function(objectId) {\n          var object = AV.Object._create(self._targetClassName);\n          object.id = objectId;\n          return object;\n        });\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        var adds = null;\n        var removes = null;\n        var self = this;\n        var idToPointer = function(id) {\n          return {\n            __type: 'Pointer',\n            className: self._targetClassName,\n            objectId: id,\n          };\n        };\n        var pointers = null;\n        if (this.relationsToAdd.length > 0) {\n          pointers = _.map(this.relationsToAdd, idToPointer);\n          adds = { __op: 'AddRelation', objects: pointers };\n        }\n\n        if (this.relationsToRemove.length > 0) {\n          pointers = _.map(this.relationsToRemove, idToPointer);\n          removes = { __op: 'RemoveRelation', objects: pointers };\n        }\n\n        if (adds && removes) {\n          return { __op: 'Batch', ops: [adds, removes] };\n        }\n\n        return adds || removes || {};\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          throw new Error(\"You can't modify a relation after deleting it.\");\n        } else if (previous instanceof AV.Op.Relation) {\n          if (\n            previous._targetClassName &&\n            previous._targetClassName !== this._targetClassName\n          ) {\n            throw new Error(\n              'Related object must be of class ' +\n                previous._targetClassName +\n                ', but ' +\n                this._targetClassName +\n                ' was passed in.'\n            );\n          }\n          var newAdd = _.union(\n            _.difference(previous.relationsToAdd, this.relationsToRemove),\n            this.relationsToAdd\n          );\n          var newRemove = _.union(\n            _.difference(previous.relationsToRemove, this.relationsToAdd),\n            this.relationsToRemove\n          );\n\n          var newRelation = new AV.Op.Relation(newAdd, newRemove);\n          newRelation._targetClassName = this._targetClassName;\n          return newRelation;\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue, object, key) {\n        if (!oldValue) {\n          var relation = new AV.Relation(object, key);\n          relation.targetClassName = this._targetClassName;\n        } else if (oldValue instanceof AV.Relation) {\n          if (this._targetClassName) {\n            if (oldValue.targetClassName) {\n              if (oldValue.targetClassName !== this._targetClassName) {\n                throw new Error(\n                  'Related object must be a ' +\n                    oldValue.targetClassName +\n                    ', but a ' +\n                    this._targetClassName +\n                    ' was passed in.'\n                );\n              }\n            } else {\n              oldValue.targetClassName = this._targetClassName;\n            }\n          }\n          return oldValue;\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('AddRelation', function(json) {\n    return new AV.Op.Relation(AV._decode(json.objects), []);\n  });\n  AV.Op._registerDecoder('RemoveRelation', function(json) {\n    return new AV.Op.Relation([], AV._decode(json.objects));\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/op.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  /**\n   * Creates a new Relation for the given parent object and key. This\n   * constructor should rarely be used directly, but rather created by\n   * {@link AV.Object#relation}.\n   * @param {AV.Object} parent The parent of this relation.\n   * @param {String} key The key for this relation on the parent.\n   * @see AV.Object#relation\n   * @class\n   *\n   * <p>\n   * A class that is used to access all of the children of a many-to-many\n   * relationship.  Each instance of AV.Relation is associated with a\n   * particular parent object and key.\n   * </p>\n   */\n  AV.Relation = function(parent, key) {\n    if (!_.isString(key)) {\n      throw new TypeError('key must be a string');\n    }\n    this.parent = parent;\n    this.key = key;\n    this.targetClassName = null;\n  };\n\n  /**\n   * Creates a query that can be used to query the parent objects in this relation.\n   * @param {String} parentClass The parent class or name.\n   * @param {String} relationKey The relation field key in parent.\n   * @param {AV.Object} child The child object.\n   * @return {AV.Query}\n   */\n  AV.Relation.reverseQuery = function(parentClass, relationKey, child) {\n    var query = new AV.Query(parentClass);\n    query.equalTo(relationKey, child._toPointer());\n    return query;\n  };\n\n  _.extend(\n    AV.Relation.prototype,\n    /** @lends AV.Relation.prototype */ {\n      /**\n       * Makes sure that this relation has the right parent and key.\n       * @private\n       */\n      _ensureParentAndKey: function(parent, key) {\n        this.parent = this.parent || parent;\n        this.key = this.key || key;\n        if (this.parent !== parent) {\n          throw new Error(\n            'Internal Error. Relation retrieved from two different Objects.'\n          );\n        }\n        if (this.key !== key) {\n          throw new Error(\n            'Internal Error. Relation retrieved from two different keys.'\n          );\n        }\n      },\n\n      /**\n       * Adds a AV.Object or an array of AV.Objects to the relation.\n       * @param {AV.Object|AV.Object[]} objects The item or items to add.\n       */\n      add: function(objects) {\n        if (!_.isArray(objects)) {\n          objects = [objects];\n        }\n\n        var change = new AV.Op.Relation(objects, []);\n        this.parent.set(this.key, change);\n        this.targetClassName = change._targetClassName;\n      },\n\n      /**\n       * Removes a AV.Object or an array of AV.Objects from this relation.\n       * @param {AV.Object|AV.Object[]} objects The item or items to remove.\n       */\n      remove: function(objects) {\n        if (!_.isArray(objects)) {\n          objects = [objects];\n        }\n\n        var change = new AV.Op.Relation([], objects);\n        this.parent.set(this.key, change);\n        this.targetClassName = change._targetClassName;\n      },\n\n      /**\n       * Returns a JSON version of the object suitable for saving to disk.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __type: 'Relation', className: this.targetClassName };\n      },\n\n      /**\n       * Returns a AV.Query that is limited to objects in this\n       * relation.\n       * @return {AV.Query}\n       */\n      query: function() {\n        var targetClass;\n        var query;\n        if (!this.targetClassName) {\n          targetClass = AV.Object._getSubclass(this.parent.className);\n          query = new AV.Query(targetClass);\n          query._defaultParams.redirectClassNameForKey = this.key;\n        } else {\n          targetClass = AV.Object._getSubclass(this.targetClassName);\n          query = new AV.Query(targetClass);\n        }\n        query._addCondition('$relatedTo', 'object', this.parent._toPointer());\n        query._addCondition('$relatedTo', 'key', this.key);\n\n        return query;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/relation.js","const _ = require('underscore');\nconst cos = require('./uploader/cos');\nconst qiniu = require('./uploader/qiniu');\nconst s3 = require('./uploader/s3');\nconst AVError = require('./error');\nconst AVRequest = require('./request')._request;\nconst { tap, transformFetchOptions } = require('./utils');\nconst debug = require('debug')('leancloud:file');\nconst parseBase64 = require('./utils/parse-base64');\n\nmodule.exports = function(AV) {\n  const hexOctet = () =>\n    Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n\n  // port from browserify path module\n  // since react-native packager won't shim node modules.\n  const extname = path => {\n    if (!_.isString(path)) return '';\n    return path.match(\n      /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/\n    )[4];\n  };\n\n  const b64Digit = number => {\n    if (number < 26) {\n      return String.fromCharCode(65 + number);\n    }\n    if (number < 52) {\n      return String.fromCharCode(97 + (number - 26));\n    }\n    if (number < 62) {\n      return String.fromCharCode(48 + (number - 52));\n    }\n    if (number === 62) {\n      return '+';\n    }\n    if (number === 63) {\n      return '/';\n    }\n    throw new Error('Tried to encode large digit ' + number + ' in base64.');\n  };\n\n  var encodeBase64 = function(array) {\n    var chunks = [];\n    chunks.length = Math.ceil(array.length / 3);\n    _.times(chunks.length, function(i) {\n      var b1 = array[i * 3];\n      var b2 = array[i * 3 + 1] || 0;\n      var b3 = array[i * 3 + 2] || 0;\n\n      var has2 = i * 3 + 1 < array.length;\n      var has3 = i * 3 + 2 < array.length;\n\n      chunks[i] = [\n        b64Digit((b1 >> 2) & 0x3f),\n        b64Digit(((b1 << 4) & 0x30) | ((b2 >> 4) & 0x0f)),\n        has2 ? b64Digit(((b2 << 2) & 0x3c) | ((b3 >> 6) & 0x03)) : '=',\n        has3 ? b64Digit(b3 & 0x3f) : '=',\n      ].join('');\n    });\n    return chunks.join('');\n  };\n\n  /**\n   * An AV.File is a local representation of a file that is saved to the AV\n   * cloud.\n   * @param name {String} The file's name. This will change to a unique value\n   *     once the file has finished saving.\n   * @param data {Array} The data for the file, as either:\n   *     1. an Array of byte value Numbers, or\n   *     2. an Object like { base64: \"...\" } with a base64-encoded String.\n   *     3. a Blob(File) selected with a file upload control.\n   *     4. a Buffer in Node.js runtime.\n   *     5. a Stream in Node.js runtime.\n   *\n   *        For example:<pre>\n   * var fileUploadControl = $(\"#profilePhotoFileUpload\")[0];\n   * if (fileUploadControl.files.length > 0) {\n   *   var file = fileUploadControl.files[0];\n   *   var name = \"photo.jpg\";\n   *   var file = new AV.File(name, file);\n   *   file.save().then(function() {\n   *     // The file has been saved to AV.\n   *   }, function(error) {\n   *     // The file either could not be read, or could not be saved to AV.\n   *   });\n   * }</pre>\n   *\n   * @class\n   * @param [mimeType] {String} Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   */\n  AV.File = function(name, data, mimeType) {\n    this.attributes = {\n      name,\n      url: '',\n      metaData: {},\n      //  base64 String\n      base64: '',\n    };\n\n    if (_.isString(data)) {\n      throw new TypeError(\n        'Creating an AV.File from a String is not yet supported.'\n      );\n    }\n    if (_.isArray(data)) {\n      this.attributes.metaData.size = data.length;\n      data = { base64: encodeBase64(data) };\n    }\n\n    this._extName = '';\n    this._data = data;\n    this._uploadHeaders = {};\n\n    if (data && data.blob && typeof data.blob.uri === 'string') {\n      this._extName = extname(data.blob.uri);\n    }\n\n    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n      if (data.size) {\n        this.attributes.metaData.size = data.size;\n      }\n      if (data.name) {\n        this._extName = extname(data.name);\n      }\n    }\n\n\n    let owner;\n    if (data && data.owner) {\n      owner = data.owner;\n    } else if (!AV._config.disableCurrentUser) {\n      try {\n        owner = AV.User.current();\n      } catch (error) {\n        if ('SYNC_API_NOT_AVAILABLE' !== error.code) {\n          throw error;\n        }\n      }\n    }\n\n    this.attributes.metaData.owner = owner ? owner.id : 'unknown';\n\n    this.set('mime_type', mimeType);\n  };\n\n  /**\n   * Creates a fresh AV.File object with exists url for saving to AVOS Cloud.\n   * @param {String} name the file name\n   * @param {String} url the file url.\n   * @param {Object} [metaData] the file metadata object.\n   * @param {String} [type] Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   * @return {AV.File} the file object\n   */\n  AV.File.withURL = function(name, url, metaData, type) {\n    if (!name || !url) {\n      throw new Error('Please provide file name and url');\n    }\n    var file = new AV.File(name, null, type);\n    //copy metaData properties to file.\n    if (metaData) {\n      for (var prop in metaData) {\n        if (!file.attributes.metaData[prop])\n          file.attributes.metaData[prop] = metaData[prop];\n      }\n    }\n    file.attributes.url = url;\n    //Mark the file is from external source.\n    file.attributes.metaData.__source = 'external';\n    return file;\n  };\n\n  /**\n   * Creates a file object with exists objectId.\n   * @param {String} objectId The objectId string\n   * @return {AV.File} the file object\n   */\n  AV.File.createWithoutData = function(objectId) {\n    var file = new AV.File();\n    file.id = objectId;\n    return file;\n  };\n\n  _.extend(\n    AV.File.prototype,\n    /** @lends AV.File.prototype */ {\n      className: '_File',\n\n      _toFullJSON(seenObjects, full = true) {\n        var json = _.clone(this.attributes);\n        AV._objectEach(json, function(val, key) {\n          json[key] = AV._encode(val, seenObjects, undefined, full);\n        });\n        AV._objectEach(this._operations, function(val, key) {\n          json[key] = val;\n        });\n\n        if (_.has(this, 'id')) {\n          json.objectId = this.id;\n        }\n        _(['createdAt', 'updatedAt']).each(key => {\n          if (_.has(this, key)) {\n            const val = this[key];\n            json[key] = _.isDate(val) ? val.toJSON() : val;\n          }\n        });\n        if (full) {\n          json.__type = 'File';\n        }\n        return json;\n      },\n\n      /**\n       * Returns a JSON version of the file with meta data.\n       * Inverse to {@link AV.parseJSON}\n       * @since 3.0.0\n       * @return {Object}\n       */\n      toFullJSON(seenObjects = []) {\n        return this._toFullJSON(seenObjects);\n      },\n\n      /**\n       * Returns a JSON version of the object.\n       * @return {Object}\n       */\n      toJSON(key, holder, seenObjects = [this]) {\n        return this._toFullJSON(seenObjects, false);\n      },\n\n      /**\n       * Gets a Pointer referencing this file.\n       * @private\n       */\n      _toPointer() {\n        return {\n          __type: 'Pointer',\n          className: this.className,\n          objectId: this.id,\n        };\n      },\n\n      /**\n       * Returns the ACL for this file.\n       * @returns {AV.ACL} An instance of AV.ACL.\n       */\n      getACL() {\n        return this._acl;\n      },\n\n      /**\n       * Sets the ACL to be used for this file.\n       * @param {AV.ACL} acl An instance of AV.ACL.\n       */\n      setACL(acl) {\n        if (!(acl instanceof AV.ACL)) {\n          return new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n        }\n        this._acl = acl;\n        return this;\n      },\n\n      /**\n       * Gets the name of the file. Before save is called, this is the filename\n       * given by the user. After save is called, that name gets prefixed with a\n       * unique identifier.\n       */\n      name() {\n        return this.get('name');\n      },\n\n      /**\n       * Gets the url of the file. It is only available after you save the file or\n       * after you get the file from a AV.Object.\n       * @return {String}\n       */\n      url() {\n        return this.get('url');\n      },\n\n      /**\n       * Gets the attributs of the file object.\n       * @param {String} The attribute name which want to get.\n       * @returns {Any}\n       */\n      get(attrName) {\n        switch (attrName) {\n          case 'objectId':\n            return this.id;\n          case 'url':\n          case 'name':\n          case 'mime_type':\n          case 'metaData':\n          case 'createdAt':\n          case 'updatedAt':\n            return this.attributes[attrName];\n          default:\n            return this.attributes.metaData[attrName];\n        }\n      },\n\n      /**\n       * Set the metaData of the file object.\n       * @param {Object} Object is an key value Object for setting metaData.\n       * @param {String} attr is an optional metadata key.\n       * @param {Object} value is an optional metadata value.\n       * @returns {String|Number|Array|Object}\n       */\n      set(...args) {\n        const set = (attrName, value) => {\n          switch (attrName) {\n            case 'name':\n            case 'url':\n            case 'mime_type':\n            case 'base64':\n            case 'metaData':\n              this.attributes[attrName] = value;\n              break;\n            default:\n              // File  AVObject metaData \n              this.attributes.metaData[attrName] = value;\n              break;\n          }\n        };\n\n        switch (args.length) {\n          case 1:\n            //  Object\n            for (var k in args[0]) {\n              set(k, args[0][k]);\n            }\n            break;\n          case 2:\n            set(args[0], args[1]);\n            break;\n        }\n        return this;\n      },\n\n      /**\n       * Set a header for the upload request.\n       * For more infomation, go to https://url.leanapp.cn/avfile-upload-headers\n       *\n       * @param {String} key header key\n       * @param {String} value header value\n       * @return {AV.File} this\n       */\n      setUploadHeader(key, value) {\n        this._uploadHeaders[key] = value;\n        return this;\n      },\n\n      /**\n       * <p>Returns the file's metadata JSON object if no arguments is given.Returns the\n       * metadata value if a key is given.Set metadata value if key and value are both given.</p>\n       * <p><pre>\n       *  var metadata = file.metaData(); //Get metadata JSON object.\n       *  var size = file.metaData('size');  // Get the size metadata value.\n       *  file.metaData('format', 'jpeg'); //set metadata attribute and value.\n       *</pre></p>\n       * @return {Object} The file's metadata JSON object.\n       * @param {String} attr an optional metadata key.\n       * @param {Object} value an optional metadata value.\n       **/\n      metaData(attr, value) {\n        if (attr && value) {\n          this.attributes.metaData[attr] = value;\n          return this;\n        } else if (attr && !value) {\n          return this.attributes.metaData[attr];\n        } else {\n          return this.attributes.metaData;\n        }\n      },\n\n      /**\n       * URL\n       * @return {String} URL\n       * @param {Number} width \n       * @param {Number} heigth \n       * @param {Number} quality 1-100100\n       * @param {Number} scaleToFit true\n       * @param {String} fmt pngjpeg,gif\n       */\n\n      thumbnailURL(\n        width,\n        height,\n        quality = 100,\n        scaleToFit = true,\n        fmt = 'png'\n      ) {\n        const url = this.attributes.url;\n        if (!url) {\n          throw new Error('Invalid url.');\n        }\n        if (!width || !height || width <= 0 || height <= 0) {\n          throw new Error('Invalid width or height value.');\n        }\n        if (quality <= 0 || quality > 100) {\n          throw new Error('Invalid quality value.');\n        }\n        const mode = scaleToFit ? 2 : 1;\n        return (\n          url +\n          '?imageView/' +\n          mode +\n          '/w/' +\n          width +\n          '/h/' +\n          height +\n          '/q/' +\n          quality +\n          '/format/' +\n          fmt\n        );\n      },\n\n      /**\n       * Returns the file's size.\n       * @return {Number} The file's size in bytes.\n       **/\n      size() {\n        return this.metaData().size;\n      },\n\n      /**\n       * Returns the file's owner.\n       * @return {String} The file's owner id.\n       */\n      ownerId() {\n        return this.metaData().owner;\n      },\n\n      /**\n       * Destroy the file.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy(options) {\n        if (!this.id) {\n          return Promise.reject(new Error('The file id does not eixst.'));\n        }\n        var request = AVRequest(\n          'files',\n          null,\n          this.id,\n          'DELETE',\n          null,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Request Qiniu upload token\n       * @param {string} type\n       * @return {Promise} Resolved with the response\n       * @private\n       */\n      _fileToken(type, authOptions) {\n        let name = this.attributes.name;\n\n        let extName = extname(name);\n        if (!extName && this._extName) {\n          name += this._extName;\n          extName = this._extName;\n        }\n        // Create 16-bits uuid as qiniu key.\n        const key =\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          extName;\n        const data = {\n          key,\n          name,\n          keep_file_name: authOptions.keepFileName,\n          ACL: this._acl,\n          mime_type: type,\n          metaData: this.attributes.metaData,\n        };\n        this._qiniu_key = key;\n        return AVRequest('fileTokens', null, null, 'POST', data, authOptions);\n      },\n\n      /**\n       * @callback UploadProgressCallback\n       * @param {XMLHttpRequestProgressEvent} event - The progress event with 'loaded' and 'total' attributes\n       */\n      /**\n       * Saves the file to the AV cloud.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {UploadProgressCallback} [options.onprogress]  Node.js  {@link UploadProgressCallback}\n       * @param {boolean} [options.keepFileName = false] \n       * @return {Promise} Promise that is resolved when the save finishes.\n       */\n      save(options = {}) {\n        if (this.id) {\n          throw new Error('File is already saved.');\n        }\n        if (!this._previousSave) {\n          if (this._data) {\n            let mimeType = this.get('mime_type');\n            this._previousSave = this._fileToken(mimeType, options).then(\n              uploadInfo => {\n                if (uploadInfo.mime_type) {\n                  mimeType = uploadInfo.mime_type;\n                  this.set('mime_type', mimeType);\n                }\n                this._token = uploadInfo.token;\n                return Promise.resolve()\n                  .then(() => {\n                    const data = this._data;\n                    if (data && data.base64) {\n                      return parseBase64(data.base64, mimeType);\n                    }\n                    if (data && data.blob) {\n                      if (!data.blob.type && mimeType) {\n                        data.blob.type = mimeType;\n                      }\n                      if (!data.blob.name) {\n                        data.blob.name = this.get('name');\n                      }\n                      return data.blob;\n                    }\n                    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n                      return data;\n                    }\n                    throw new TypeError('malformed file data');\n                  })\n                  .then(data => {\n                    const _options = _.extend({}, options);\n                    // filter out download progress events\n                    if (options.onprogress) {\n                      _options.onprogress = event => {\n                        if (event.direction === 'download') return;\n                        return options.onprogress(event);\n                      };\n                    }\n                    switch (uploadInfo.provider) {\n                      case 's3':\n                        return s3(uploadInfo, data, this, _options);\n                      case 'qcloud':\n                        return cos(uploadInfo, data, this, _options);\n                      case 'qiniu':\n                      default:\n                        return qiniu(uploadInfo, data, this, _options);\n                    }\n                  })\n                  .then(tap(() => this._callback(true)), error => {\n                    this._callback(false);\n                    throw error;\n                  });\n              }\n            );\n          } else if (\n            this.attributes.url &&\n            this.attributes.metaData.__source === 'external'\n          ) {\n            // external link file.\n            const data = {\n              name: this.attributes.name,\n              ACL: this._acl,\n              metaData: this.attributes.metaData,\n              mime_type: this.mimeType,\n              url: this.attributes.url,\n            };\n            this._previousSave = AVRequest(\n              'files',\n              this.attributes.name,\n              null,\n              'post',\n              data,\n              options\n            ).then(response => {\n              this.attributes.name = response.name;\n              this.attributes.url = response.url;\n              this.id = response.objectId;\n              if (response.size) {\n                this.attributes.metaData.size = response.size;\n              }\n              return this;\n            });\n          }\n        }\n        return this._previousSave;\n      },\n\n      _callback(success) {\n        AVRequest('fileCallback', null, null, 'post', {\n          token: this._token,\n          result: success,\n        }).catch(debug);\n        delete this._token;\n        delete this._data;\n      },\n\n      /**\n       * fetch the file from server. If the server's representation of the\n       * model differs from its current attributes, they will be overriden,\n       * @param {Object} fetchOptions Optional options to set 'keys',\n       *      'include' and 'includeACL' option.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the fetch\n       *     completes.\n       */\n      fetch(fetchOptions, options) {\n        var request = AVRequest(\n          'files',\n          null,\n          this.id,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        );\n        return request.then(this._finishFetch.bind(this));\n      },\n      _finishFetch(response) {\n        var value = AV.Object.prototype.parse(response);\n        value.attributes = {\n          name: value.name,\n          url: value.url,\n          mime_type: value.mime_type,\n          bucket: value.bucket,\n        };\n        value.attributes.metaData = value.metaData || {};\n        value.id = value.objectId;\n        // clean\n        delete value.objectId;\n        delete value.metaData;\n        delete value.url;\n        delete value.name;\n        delete value.mime_type;\n        delete value.bucket;\n        _.extend(this, value);\n        return this;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/file.js","const { getAdapter } = require('../adapter');\nconst debug = require('debug')('cos');\n\nmodule.exports = function(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n  const url =\n    uploadInfo.upload_url + '?sign=' + encodeURIComponent(uploadInfo.token);\n  const fileFormData = {\n    field: 'fileContent',\n    data,\n    name: file.attributes.name,\n  };\n  const options = {\n    headers: file._uploadHeaders,\n    data: {\n      op: 'upload',\n    },\n    onprogress: saveOptions.onprogress,\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  const upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(\n    response => {\n      debug(response.status, response.data);\n      if (response.ok === false) {\n        const error = new Error(response.status);\n        error.response = response;\n        throw error;\n      }\n      return file;\n    },\n    error => {\n      const { response } = error;\n      if (response) {\n        debug(response.status, response.data);\n        error.statusCode = response.status;\n        error.response = response.data;\n      }\n      throw error;\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/cos.js","const { getAdapter } = require('../adapter');\nconst debug = require('debug')('leancloud:qiniu');\n\nmodule.exports = function(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n  // Get the uptoken to upload files to qiniu.\n  const uptoken = uploadInfo.token;\n  const url = uploadInfo.upload_url || 'https://upload.qiniup.com';\n  const fileFormData = {\n    field: 'file',\n    data,\n    name: file.attributes.name,\n  };\n  const options = {\n    headers: file._uploadHeaders,\n    data: {\n      name: file.attributes.name,\n      key: uploadInfo.key || file._qiniu_key,\n      token: uptoken,\n    },\n    onprogress: saveOptions.onprogress,\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  const upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(\n    response => {\n      debug(response.status, response.data);\n      if (response.ok === false) {\n        let message = response.status;\n        if (response.data) {\n          if (response.data.error) {\n            message = response.data.error;\n          } else {\n            message = JSON.stringify(response.data);\n          }\n        }\n        const error = new Error(message);\n        error.response = response;\n        throw error;\n      }\n      return file;\n    },\n    error => {\n      const { response } = error;\n      if (response) {\n        debug(response.status, response.data);\n        error.statusCode = response.status;\n        error.response = response.data;\n      }\n      throw error;\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/qiniu.js","const _ = require('underscore');\nconst { ajax } = require('../utils');\n\nmodule.exports = function upload(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n\n\n  return ajax({\n    url: uploadInfo.upload_url,\n    method: 'PUT',\n    data,\n    headers: _.extend(\n      {\n        'Content-Type': file.get('mime_type'),\n        'Cache-Control': 'public, max-age=31536000',\n      },\n      file._uploadHeaders\n    ),\n    onprogress: saveOptions.onprogress,\n  }).then(() => file);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/s3.js","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/md5/md5.js\n// module id = 141\n// module chunks = 0 1","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/crypt/crypt.js\n// module id = 142\n// module chunks = 0 1","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-buffer/index.js\n// module id = 143\n// module chunks = 0 1","var dataURItoBlob = function(dataURI, type) {\n  var byteString;\n\n  //  base64 dataURL\n  if (dataURI.indexOf('base64') < 0) {\n    byteString = atob(dataURI);\n  } else if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n    type =\n      type ||\n      dataURI\n        .split(',')[0]\n        .split(':')[1]\n        .split(';')[0];\n    byteString = atob(dataURI.split(',')[1]);\n  } else {\n    byteString = unescape(dataURI.split(',')[1]);\n  }\n  var ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ia], { type });\n};\n\nmodule.exports = dataURItoBlob;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parse-base64-browser.js","const _ = require('underscore');\nconst AVError = require('./error');\nconst { _request } = require('./request');\nconst {\n  isNullOrUndefined,\n  ensureArray,\n  transformFetchOptions,\n  setValue,\n  findValue,\n  isPlainObject,\n  continueWhile,\n} = require('./utils');\n\nconst recursiveToPointer = value => {\n  if (_.isArray(value)) return value.map(recursiveToPointer);\n  if (isPlainObject(value)) return _.mapObject(value, recursiveToPointer);\n  if (_.isObject(value) && value._toPointer) return value._toPointer();\n  return value;\n};\n\nconst RESERVED_KEYS = ['objectId', 'createdAt', 'updatedAt'];\nconst checkReservedKey = key => {\n  if (RESERVED_KEYS.indexOf(key) !== -1) {\n    throw new Error(`key[${key}] is reserved`);\n  }\n};\n\nconst handleBatchResults = results => {\n  const firstError = _.find(results, result => result instanceof Error);\n  if (!firstError) {\n    return results;\n  }\n  const error = new AVError(firstError.code, firstError.message);\n  error.results = results;\n  throw error;\n};\n\n// Helper function to get a value from a Backbone object as a property\n// or as a function.\nfunction getValue(object, prop) {\n  if (!(object && object[prop])) {\n    return null;\n  }\n  return _.isFunction(object[prop]) ? object[prop]() : object[prop];\n}\n\n// AV.Object is analogous to the Java AVObject.\n// It also implements the same interface as a Backbone model.\n\nmodule.exports = function(AV) {\n  /**\n   * Creates a new model with defined attributes. A client id (cid) is\n   * automatically generated and assigned for you.\n   *\n   * <p>You won't normally call this method directly.  It is recommended that\n   * you use a subclass of <code>AV.Object</code> instead, created by calling\n   * <code>extend</code>.</p>\n   *\n   * <p>However, if you don't want to use a subclass, or aren't sure which\n   * subclass is appropriate, you can use this form:<pre>\n   *     var object = new AV.Object(\"ClassName\");\n   * </pre>\n   * That is basically equivalent to:<pre>\n   *     var MyClass = AV.Object.extend(\"ClassName\");\n   *     var object = new MyClass();\n   * </pre></p>\n   *\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @see AV.Object.extend\n   *\n   * @class\n   *\n   * <p>The fundamental unit of AV data, which implements the Backbone Model\n   * interface.</p>\n   */\n  AV.Object = function(attributes, options) {\n    // Allow new AV.Object(\"ClassName\") as a shortcut to _create.\n    if (_.isString(attributes)) {\n      return AV.Object._create.apply(this, arguments);\n    }\n\n    attributes = attributes || {};\n    if (options && options.parse) {\n      attributes = this.parse(attributes);\n      attributes = this._mergeMagicFields(attributes);\n    }\n    var defaults = getValue(this, 'defaults');\n    if (defaults) {\n      attributes = _.extend({}, defaults, attributes);\n    }\n    if (options && options.collection) {\n      this.collection = options.collection;\n    }\n\n    this._serverData = {}; // The last known data for this object from cloud.\n    this._opSetQueue = [{}]; // List of sets of changes to the data.\n    this._flags = {};\n    this.attributes = {}; // The best estimate of this's current data.\n\n    this._hashedJSON = {}; // Hash of values of containers at last save.\n    this._escapedAttributes = {};\n    this.cid = _.uniqueId('c');\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this.set(attributes, { silent: true });\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this._hasData = true;\n    this._previousAttributes = _.clone(this.attributes);\n    this.initialize.apply(this, arguments);\n  };\n\n  /**\n   * @lends AV.Object.prototype\n   * @property {String} id The objectId of the AV Object.\n   */\n\n  /**\n   * Saves the given list of AV.Object.\n   * If any error is encountered, stops and calls the error handler.\n   *\n   * @example\n   * AV.Object.saveAll([object1, object2, ...]).then(function(list) {\n   *   // All the objects were saved.\n   * }, function(error) {\n   *   // An error occurred while saving one of the objects.\n   * });\n   *\n   * @param {Array} list A list of <code>AV.Object</code>.\n   */\n  AV.Object.saveAll = function(list, options) {\n    return AV.Object._deepSaveAsync(list, null, options);\n  };\n\n  /**\n   * Fetch the given list of AV.Object.\n   *\n   * @param {AV.Object[]} objects A list of <code>AV.Object</code>\n   * @param {AuthOptions} options\n   * @return {Promise.<AV.Object[]>} The given list of <code>AV.Object</code>, updated\n   */\n\n  AV.Object.fetchAll = (objects, options) =>\n    Promise.resolve()\n      .then(() =>\n        _request(\n          'batch',\n          null,\n          null,\n          'POST',\n          {\n            requests: _.map(objects, object => {\n              if (!object.className)\n                throw new Error('object must have className to fetch');\n              if (!object.id) throw new Error('object must have id to fetch');\n              if (object.dirty())\n                throw new Error('object is modified but not saved');\n              return {\n                method: 'GET',\n                path: `/1.1/classes/${object.className}/${object.id}`,\n              };\n            }),\n          },\n          options\n        )\n      )\n      .then(function(response) {\n        const results = _.map(objects, function(object, i) {\n          if (response[i].success) {\n            const fetchedAttrs = object.parse(response[i].success);\n            object._cleanupUnsetKeys(fetchedAttrs);\n            object._finishFetch(fetchedAttrs);\n            return object;\n          }\n          if (response[i].success === null) {\n            return new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n          }\n          return new AVError(response[i].error.code, response[i].error.error);\n        });\n        return handleBatchResults(results);\n      });\n\n  // Attach all inheritable methods to the AV.Object prototype.\n  _.extend(\n    AV.Object.prototype,\n    AV.Events,\n    /** @lends AV.Object.prototype */ {\n      _fetchWhenSave: false,\n\n      /**\n       * Initialize is an empty function by default. Override it with your own\n       * initialization logic.\n       */\n      initialize: function() {},\n\n      /**\n       * Set whether to enable fetchWhenSave option when updating object.\n       * When set true, SDK would fetch the latest object after saving.\n       * Default is false.\n       *\n       * @deprecated use AV.Object#save with options.fetchWhenSave instead\n       * @param {boolean} enable  true to enable fetchWhenSave option.\n       */\n      fetchWhenSave: function(enable) {\n        console.warn(\n          'AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead.'\n        );\n        if (!_.isBoolean(enable)) {\n          throw new Error('Expect boolean value for fetchWhenSave');\n        }\n        this._fetchWhenSave = enable;\n      },\n\n      /**\n       * Returns the object's objectId.\n       * @return {String} the objectId.\n       */\n      getObjectId: function() {\n        return this.id;\n      },\n\n      /**\n       * Returns the object's createdAt attribute.\n       * @return {Date}\n       */\n      getCreatedAt: function() {\n        return this.createdAt;\n      },\n\n      /**\n       * Returns the object's updatedAt attribute.\n       * @return {Date}\n       */\n      getUpdatedAt: function() {\n        return this.updatedAt;\n      },\n\n      /**\n       * Returns a JSON version of the object.\n       * @return {Object}\n       */\n      toJSON: function(key, holder, seenObjects = []) {\n        return this._toFullJSON(seenObjects, false);\n      },\n\n      /**\n       * Returns a JSON version of the object with meta data.\n       * Inverse to {@link AV.parseJSON}\n       * @since 3.0.0\n       * @return {Object}\n       */\n      toFullJSON(seenObjects = []) {\n        return this._toFullJSON(seenObjects);\n      },\n\n      _toFullJSON: function(seenObjects, full = true) {\n        var json = _.clone(this.attributes);\n        if (_.isArray(seenObjects)) {\n          var newSeenObjects = seenObjects.concat(this);\n        }\n        AV._objectEach(json, function(val, key) {\n          json[key] = AV._encode(val, newSeenObjects, undefined, full);\n        });\n        AV._objectEach(this._operations, function(val, key) {\n          json[key] = val;\n        });\n\n        if (_.has(this, 'id')) {\n          json.objectId = this.id;\n        }\n        _(['createdAt', 'updatedAt']).each(key => {\n          if (_.has(this, key)) {\n            const val = this[key];\n            json[key] = _.isDate(val) ? val.toJSON() : val;\n          }\n        });\n        if (full) {\n          json.__type = 'Object';\n          if (_.isArray(seenObjects) && seenObjects.length)\n            json.__type = 'Pointer';\n          json.className = this.className;\n        }\n        return json;\n      },\n\n      /**\n       * Updates _hashedJSON to reflect the current state of this object.\n       * Adds any changed hash values to the set of pending changes.\n       * @private\n       */\n      _refreshCache: function() {\n        var self = this;\n        if (self._refreshingCache) {\n          return;\n        }\n        self._refreshingCache = true;\n        AV._objectEach(this.attributes, function(value, key) {\n          if (value instanceof AV.Object) {\n            value._refreshCache();\n          } else if (_.isObject(value)) {\n            if (self._resetCacheForKey(key)) {\n              self.set(key, new AV.Op.Set(value), { silent: true });\n            }\n          }\n        });\n        delete self._refreshingCache;\n      },\n\n      /**\n       * Returns true if this object has been modified since its last\n       * save/refresh.  If an attribute is specified, it returns true only if that\n       * particular attribute has been modified since the last save/refresh.\n       * @param {String} attr An attribute name (optional).\n       * @return {Boolean}\n       */\n      dirty: function(attr) {\n        this._refreshCache();\n\n        var currentChanges = _.last(this._opSetQueue);\n\n        if (attr) {\n          return currentChanges[attr] ? true : false;\n        }\n        if (!this.id) {\n          return true;\n        }\n        if (_.keys(currentChanges).length > 0) {\n          return true;\n        }\n        return false;\n      },\n\n      /**\n       * Returns the keys of the modified attribute since its last save/refresh.\n       * @return {String[]}\n       */\n      dirtyKeys: function() {\n        this._refreshCache();\n        var currentChanges = _.last(this._opSetQueue);\n        return _.keys(currentChanges);\n      },\n\n      /**\n       * Gets a Pointer referencing this Object.\n       * @private\n       */\n      _toPointer: function() {\n        // if (!this.id) {\n        //   throw new Error(\"Can't serialize an unsaved AV.Object\");\n        // }\n        return {\n          __type: 'Pointer',\n          className: this.className,\n          objectId: this.id,\n        };\n      },\n\n      /**\n       * Gets the value of an attribute.\n       * @param {String} attr The string name of an attribute.\n       */\n      get: function(attr) {\n        switch (attr) {\n          case 'objectId':\n            return this.id;\n          case 'createdAt':\n          case 'updatedAt':\n            return this[attr];\n          default:\n            return this.attributes[attr];\n        }\n      },\n\n      /**\n       * Gets a relation on the given class for the attribute.\n       * @param {String} attr The attribute to get the relation for.\n       * @return {AV.Relation}\n       */\n      relation: function(attr) {\n        var value = this.get(attr);\n        if (value) {\n          if (!(value instanceof AV.Relation)) {\n            throw new Error('Called relation() on non-relation field ' + attr);\n          }\n          value._ensureParentAndKey(this, attr);\n          return value;\n        } else {\n          return new AV.Relation(this, attr);\n        }\n      },\n\n      /**\n       * Gets the HTML-escaped value of an attribute.\n       */\n      escape: function(attr) {\n        var html = this._escapedAttributes[attr];\n        if (html) {\n          return html;\n        }\n        var val = this.attributes[attr];\n        var escaped;\n        if (isNullOrUndefined(val)) {\n          escaped = '';\n        } else {\n          escaped = _.escape(val.toString());\n        }\n        this._escapedAttributes[attr] = escaped;\n        return escaped;\n      },\n\n      /**\n       * Returns <code>true</code> if the attribute contains a value that is not\n       * null or undefined.\n       * @param {String} attr The string name of the attribute.\n       * @return {Boolean}\n       */\n      has: function(attr) {\n        return !isNullOrUndefined(this.attributes[attr]);\n      },\n\n      /**\n       * Pulls \"special\" fields like objectId, createdAt, etc. out of attrs\n       * and puts them on \"this\" directly.  Removes them from attrs.\n       * @param attrs - A dictionary with the data for this AV.Object.\n       * @private\n       */\n      _mergeMagicFields: function(attrs) {\n        // Check for changes of magic fields.\n        var model = this;\n        var specialFields = ['objectId', 'createdAt', 'updatedAt'];\n        AV._arrayEach(specialFields, function(attr) {\n          if (attrs[attr]) {\n            if (attr === 'objectId') {\n              model.id = attrs[attr];\n            } else if (\n              (attr === 'createdAt' || attr === 'updatedAt') &&\n              !_.isDate(attrs[attr])\n            ) {\n              model[attr] = AV._parseDate(attrs[attr]);\n            } else {\n              model[attr] = attrs[attr];\n            }\n            delete attrs[attr];\n          }\n        });\n        return attrs;\n      },\n\n      /**\n       * Returns the json to be sent to the server.\n       * @private\n       */\n      _startSave: function() {\n        this._opSetQueue.push({});\n      },\n\n      /**\n       * Called when a save fails because of an error. Any changes that were part\n       * of the save need to be merged with changes made after the save. This\n       * might throw an exception is you do conflicting operations. For example,\n       * if you do:\n       *   object.set(\"foo\", \"bar\");\n       *   object.set(\"invalid field name\", \"baz\");\n       *   object.save();\n       *   object.increment(\"foo\");\n       * then this will throw when the save fails and the client tries to merge\n       * \"bar\" with the +1.\n       * @private\n       */\n      _cancelSave: function() {\n        var failedChanges = _.first(this._opSetQueue);\n        this._opSetQueue = _.rest(this._opSetQueue);\n        var nextChanges = _.first(this._opSetQueue);\n        AV._objectEach(failedChanges, function(op, key) {\n          var op1 = failedChanges[key];\n          var op2 = nextChanges[key];\n          if (op1 && op2) {\n            nextChanges[key] = op2._mergeWithPrevious(op1);\n          } else if (op1) {\n            nextChanges[key] = op1;\n          }\n        });\n        this._saving = this._saving - 1;\n      },\n\n      /**\n       * Called when a save completes successfully. This merges the changes that\n       * were saved into the known server data, and overrides it with any data\n       * sent directly from the server.\n       * @private\n       */\n      _finishSave: function(serverData) {\n        // Grab a copy of any object referenced by this object. These instances\n        // may have already been fetched, and we don't want to lose their data.\n        // Note that doing it like this means we will unify separate copies of the\n        // same object, but that's a risk we have to take.\n        var fetchedObjects = {};\n        AV._traverse(this.attributes, function(object) {\n          if (object instanceof AV.Object && object.id && object._hasData) {\n            fetchedObjects[object.id] = object;\n          }\n        });\n\n        var savedChanges = _.first(this._opSetQueue);\n        this._opSetQueue = _.rest(this._opSetQueue);\n        this._applyOpSet(savedChanges, this._serverData);\n        this._mergeMagicFields(serverData);\n        var self = this;\n        AV._objectEach(serverData, function(value, key) {\n          self._serverData[key] = AV._decode(value, key);\n\n          // Look for any objects that might have become unfetched and fix them\n          // by replacing their values with the previously observed values.\n          var fetched = AV._traverse(self._serverData[key], function(object) {\n            if (object instanceof AV.Object && fetchedObjects[object.id]) {\n              return fetchedObjects[object.id];\n            }\n          });\n          if (fetched) {\n            self._serverData[key] = fetched;\n          }\n        });\n        this._rebuildAllEstimatedData();\n        const opSetQueue = this._opSetQueue.map(_.clone);\n        this._refreshCache();\n        this._opSetQueue = opSetQueue;\n        this._saving = this._saving - 1;\n      },\n\n      /**\n       * Called when a fetch or login is complete to set the known server data to\n       * the given object.\n       * @private\n       */\n      _finishFetch: function(serverData, hasData) {\n        // Clear out any changes the user might have made previously.\n        this._opSetQueue = [{}];\n\n        // Bring in all the new server data.\n        this._mergeMagicFields(serverData);\n        var self = this;\n        AV._objectEach(serverData, function(value, key) {\n          self._serverData[key] = AV._decode(value, key);\n        });\n\n        // Refresh the attributes.\n        this._rebuildAllEstimatedData();\n\n        // Clear out the cache of mutable containers.\n        this._refreshCache();\n        this._opSetQueue = [{}];\n\n        this._hasData = hasData;\n      },\n\n      /**\n       * Applies the set of AV.Op in opSet to the object target.\n       * @private\n       */\n      _applyOpSet: function(opSet, target) {\n        var self = this;\n        AV._objectEach(opSet, function(change, key) {\n          const [value, actualTarget, actualKey] = findValue(target, key);\n          setValue(target, key, change._estimate(value, self, key));\n          if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n            delete actualTarget[actualKey];\n          }\n        });\n      },\n\n      /**\n       * Replaces the cached value for key with the current value.\n       * Returns true if the new value is different than the old value.\n       * @private\n       */\n      _resetCacheForKey: function(key) {\n        var value = this.attributes[key];\n        if (\n          _.isObject(value) &&\n          !(value instanceof AV.Object) &&\n          !(value instanceof AV.File)\n        ) {\n          var json = JSON.stringify(recursiveToPointer(value));\n          if (this._hashedJSON[key] !== json) {\n            var wasSet = !!this._hashedJSON[key];\n            this._hashedJSON[key] = json;\n            return wasSet;\n          }\n        }\n        return false;\n      },\n\n      /**\n       * Populates attributes[key] by starting with the last known data from the\n       * server, and applying all of the local changes that have been made to that\n       * key since then.\n       * @private\n       */\n      _rebuildEstimatedDataForKey: function(key) {\n        var self = this;\n        delete this.attributes[key];\n        if (this._serverData[key]) {\n          this.attributes[key] = this._serverData[key];\n        }\n        AV._arrayEach(this._opSetQueue, function(opSet) {\n          var op = opSet[key];\n          if (op) {\n            const [value, actualTarget, actualKey, firstKey] = findValue(\n              self.attributes,\n              key\n            );\n            setValue(self.attributes, key, op._estimate(value, self, key));\n            if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n              delete actualTarget[actualKey];\n            }\n            self._resetCacheForKey(firstKey);\n          }\n        });\n      },\n\n      /**\n       * Populates attributes by starting with the last known data from the\n       * server, and applying all of the local changes that have been made since\n       * then.\n       * @private\n       */\n      _rebuildAllEstimatedData: function() {\n        var self = this;\n\n        var previousAttributes = _.clone(this.attributes);\n\n        this.attributes = _.clone(this._serverData);\n        AV._arrayEach(this._opSetQueue, function(opSet) {\n          self._applyOpSet(opSet, self.attributes);\n          AV._objectEach(opSet, function(op, key) {\n            self._resetCacheForKey(key);\n          });\n        });\n\n        // Trigger change events for anything that changed because of the fetch.\n        AV._objectEach(previousAttributes, function(oldValue, key) {\n          if (self.attributes[key] !== oldValue) {\n            self.trigger('change:' + key, self, self.attributes[key], {});\n          }\n        });\n        AV._objectEach(this.attributes, function(newValue, key) {\n          if (!_.has(previousAttributes, key)) {\n            self.trigger('change:' + key, self, newValue, {});\n          }\n        });\n      },\n\n      /**\n       * Sets a hash of model attributes on the object, firing\n       * <code>\"change\"</code> unless you choose to silence it.\n       *\n       * <p>You can call it with an object containing keys and values, or with one\n       * key and value.  For example:</p>\n       *\n       * @example\n       * gameTurn.set({\n       *   player: player1,\n       *   diceRoll: 2\n       * });\n       *\n       * game.set(\"currentPlayer\", player2);\n       *\n       * game.set(\"finished\", true);\n       *\n       * @param {String} key The key to set.\n       * @param {Any} value The value to give it.\n       * @param {Object} [options]\n       * @param {Boolean} [options.silent]\n       * @return {AV.Object} self if succeeded, throws if the value is not valid.\n       * @see AV.Object#validate\n       */\n      set: function(key, value, options) {\n        var attrs;\n        if (_.isObject(key) || isNullOrUndefined(key)) {\n          attrs = _.mapObject(key, function(v, k) {\n            checkReservedKey(k);\n            return AV._decode(v, k);\n          });\n          options = value;\n        } else {\n          attrs = {};\n          checkReservedKey(key);\n          attrs[key] = AV._decode(value, key);\n        }\n\n        // Extract attributes and options.\n        options = options || {};\n        if (!attrs) {\n          return this;\n        }\n        if (attrs instanceof AV.Object) {\n          attrs = attrs.attributes;\n        }\n\n        // If the unset option is used, every attribute should be a Unset.\n        if (options.unset) {\n          AV._objectEach(attrs, function(unused_value, key) {\n            attrs[key] = new AV.Op.Unset();\n          });\n        }\n\n        // Apply all the attributes to get the estimated values.\n        var dataToValidate = _.clone(attrs);\n        var self = this;\n        AV._objectEach(dataToValidate, function(value, key) {\n          if (value instanceof AV.Op) {\n            dataToValidate[key] = value._estimate(\n              self.attributes[key],\n              self,\n              key\n            );\n            if (dataToValidate[key] === AV.Op._UNSET) {\n              delete dataToValidate[key];\n            }\n          }\n        });\n\n        // Run validation.\n        this._validate(attrs, options);\n\n        options.changes = {};\n        var escaped = this._escapedAttributes;\n\n        // Update attributes.\n        AV._arrayEach(_.keys(attrs), function(attr) {\n          var val = attrs[attr];\n\n          // If this is a relation object we need to set the parent correctly,\n          // since the location where it was parsed does not have access to\n          // this object.\n          if (val instanceof AV.Relation) {\n            val.parent = self;\n          }\n\n          if (!(val instanceof AV.Op)) {\n            val = new AV.Op.Set(val);\n          }\n\n          // See if this change will actually have any effect.\n          var isRealChange = true;\n          if (\n            val instanceof AV.Op.Set &&\n            _.isEqual(self.attributes[attr], val.value)\n          ) {\n            isRealChange = false;\n          }\n\n          if (isRealChange) {\n            delete escaped[attr];\n            if (options.silent) {\n              self._silent[attr] = true;\n            } else {\n              options.changes[attr] = true;\n            }\n          }\n\n          var currentChanges = _.last(self._opSetQueue);\n          currentChanges[attr] = val._mergeWithPrevious(currentChanges[attr]);\n          self._rebuildEstimatedDataForKey(attr);\n\n          if (isRealChange) {\n            self.changed[attr] = self.attributes[attr];\n            if (!options.silent) {\n              self._pending[attr] = true;\n            }\n          } else {\n            delete self.changed[attr];\n            delete self._pending[attr];\n          }\n        });\n\n        if (!options.silent) {\n          this.change(options);\n        }\n        return this;\n      },\n\n      /**\n       * Remove an attribute from the model, firing <code>\"change\"</code> unless\n       * you choose to silence it. This is a noop if the attribute doesn't\n       * exist.\n       * @param key {String} The key.\n       */\n      unset: function(attr, options) {\n        options = options || {};\n        options.unset = true;\n        return this.set(attr, null, options);\n      },\n\n      /**\n       * Atomically increments the value of the given attribute the next time the\n       * object is saved. If no amount is specified, 1 is used by default.\n       *\n       * @param key {String} The key.\n       * @param amount {Number} The amount to increment by.\n       */\n      increment: function(attr, amount) {\n        if (_.isUndefined(amount) || _.isNull(amount)) {\n          amount = 1;\n        }\n        return this.set(attr, new AV.Op.Increment(amount));\n      },\n\n      /**\n       * Atomically add an object to the end of the array associated with a given\n       * key.\n       * @param key {String} The key.\n       * @param item {} The item to add.\n       */\n      add: function(attr, item) {\n        return this.set(attr, new AV.Op.Add(ensureArray(item)));\n      },\n\n      /**\n       * Atomically add an object to the array associated with a given key, only\n       * if it is not already present in the array. The position of the insert is\n       * not guaranteed.\n       *\n       * @param key {String} The key.\n       * @param item {} The object to add.\n       */\n      addUnique: function(attr, item) {\n        return this.set(attr, new AV.Op.AddUnique(ensureArray(item)));\n      },\n\n      /**\n       * Atomically remove all instances of an object from the array associated\n       * with a given key.\n       *\n       * @param key {String} The key.\n       * @param item {} The object to remove.\n       */\n      remove: function(attr, item) {\n        return this.set(attr, new AV.Op.Remove(ensureArray(item)));\n      },\n\n      /**\n       * Atomically apply a \"bit and\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitAnd(attr, value) {\n        return this.set(attr, new AV.Op.BitAnd(value));\n      },\n\n      /**\n       * Atomically apply a \"bit or\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitOr(attr, value) {\n        return this.set(attr, new AV.Op.BitOr(value));\n      },\n\n      /**\n       * Atomically apply a \"bit xor\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitXor(attr, value) {\n        return this.set(attr, new AV.Op.BitXor(value));\n      },\n\n      /**\n       * Returns an instance of a subclass of AV.Op describing what kind of\n       * modification has been performed on this field since the last time it was\n       * saved. For example, after calling object.increment(\"x\"), calling\n       * object.op(\"x\") would return an instance of AV.Op.Increment.\n       *\n       * @param key {String} The key.\n       * @returns {AV.Op} The operation, or undefined if none.\n       */\n      op: function(attr) {\n        return _.last(this._opSetQueue)[attr];\n      },\n\n      /**\n       * Clear all attributes on the model, firing <code>\"change\"</code> unless\n       * you choose to silence it.\n       */\n      clear: function(options) {\n        options = options || {};\n        options.unset = true;\n        var keysToClear = _.extend(this.attributes, this._operations);\n        return this.set(keysToClear, options);\n      },\n\n      /**\n       * Clears any (or specific) changes to the model made since the last save.\n       * @param {string|string[]} [keys] specify keys to revert.\n       */\n      revert(keys) {\n        const lastOp = _.last(this._opSetQueue);\n        const _keys = ensureArray(keys || _.keys(lastOp));\n        _keys.forEach(key => {\n          delete lastOp[key];\n        });\n        this._rebuildAllEstimatedData();\n        return this;\n      },\n\n      /**\n       * Returns a JSON-encoded set of operations to be sent with the next save\n       * request.\n       * @private\n       */\n      _getSaveJSON: function() {\n        var json = _.clone(_.first(this._opSetQueue));\n        AV._objectEach(json, function(op, key) {\n          json[key] = op.toJSON();\n        });\n        return json;\n      },\n\n      /**\n       * Returns true if this object can be serialized for saving.\n       * @private\n       */\n      _canBeSerialized: function() {\n        return AV.Object._canBeSerializedAsValue(this.attributes);\n      },\n\n      /**\n       * Fetch the model from the server. If the server's representation of the\n       * model differs from its current attributes, they will be overriden,\n       * triggering a <code>\"change\"</code> event.\n       * @param {Object} fetchOptions Optional options to set 'keys',\n       *      'include' and 'includeACL' option.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the fetch\n       *     completes.\n       */\n      fetch: function(fetchOptions = {}, options) {\n        var self = this;\n        var request = _request(\n          'classes',\n          this.className,\n          this.id,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        );\n        return request.then(function(response) {\n          const fetchedAttrs = self.parse(response);\n          self._cleanupUnsetKeys(\n            fetchedAttrs,\n            fetchOptions.keys\n              ? ensureArray(fetchOptions.keys)\n                  .join(',')\n                  .split(',')\n              : undefined\n          );\n          self._finishFetch(fetchedAttrs, true);\n          return self;\n        });\n      },\n\n      _cleanupUnsetKeys(fetchedAttrs, fetchedKeys = _.keys(this._serverData)) {\n        _.forEach(fetchedKeys, key => {\n          if (fetchedAttrs[key] === undefined) delete this._serverData[key];\n        });\n      },\n\n      /**\n       * Set a hash of model attributes, and save the model to the server.\n       * updatedAt will be updated when the request returns.\n       * You can either call it as:<pre>\n       *   object.save();</pre>\n       * or<pre>\n       *   object.save(null, options);</pre>\n       * or<pre>\n       *   object.save(attrs, options);</pre>\n       * or<pre>\n       *   object.save(key, value, options);</pre>\n       *\n       * @example\n       * gameTurn.save({\n       *   player: \"Jake Cutter\",\n       *   diceRoll: 2\n       * }).then(function(gameTurnAgain) {\n       *   // The save was successful.\n       * }, function(error) {\n       *   // The save failed.  Error is an instance of AVError.\n       * });\n       *\n       * @param {AuthOptions} options AuthOptions plus:\n       * @param {Boolean} options.fetchWhenSave fetch and update object after save succeeded\n       * @param {AV.Query} options.query Save object only when it matches the query\n       * @return {Promise} A promise that is fulfilled when the save\n       *     completes.\n       * @see AVError\n       */\n      save: function(arg1, arg2, arg3) {\n        var attrs, current, options;\n        if (_.isObject(arg1) || isNullOrUndefined(arg1)) {\n          attrs = arg1;\n          options = arg2;\n        } else {\n          attrs = {};\n          attrs[arg1] = arg2;\n          options = arg3;\n        }\n\n        options = _.clone(options) || {};\n        if (options.wait) {\n          current = _.clone(this.attributes);\n        }\n\n        var setOptions = _.clone(options) || {};\n        if (setOptions.wait) {\n          setOptions.silent = true;\n        }\n        if (attrs) {\n          this.set(attrs, setOptions);\n        }\n\n        var model = this;\n\n        var unsavedChildren = [];\n        var unsavedFiles = [];\n        AV.Object._findUnsavedChildren(model, unsavedChildren, unsavedFiles);\n        if (unsavedChildren.length + unsavedFiles.length > 1) {\n          return AV.Object._deepSaveAsync(this, model, options);\n        }\n\n        this._startSave();\n        this._saving = (this._saving || 0) + 1;\n\n        this._allPreviousSaves = this._allPreviousSaves || Promise.resolve();\n        this._allPreviousSaves = this._allPreviousSaves\n          .catch(e => {})\n          .then(function() {\n            var method = model.id ? 'PUT' : 'POST';\n\n            var json = model._getSaveJSON();\n            var query = {};\n\n            if (model._fetchWhenSave || options.fetchWhenSave) {\n              query['new'] = 'true';\n            }\n            // user login option\n            if (options._failOnNotExist) {\n              query.failOnNotExist = 'true';\n            }\n\n            if (options.query) {\n              var queryParams;\n              if (typeof options.query._getParams === 'function') {\n                queryParams = options.query._getParams();\n                if (queryParams) {\n                  query.where = queryParams.where;\n                }\n              }\n              if (!query.where) {\n                var error = new Error('options.query is not an AV.Query');\n                throw error;\n              }\n            }\n\n            _.extend(json, model._flags);\n\n            var route = 'classes';\n            var className = model.className;\n            if (model.className === '_User' && !model.id) {\n              // Special-case user sign-up.\n              route = 'users';\n              className = null;\n            }\n            //hook makeRequest in options.\n            var makeRequest = options._makeRequest || _request;\n            var requestPromise = makeRequest(\n              route,\n              className,\n              model.id,\n              method,\n              json,\n              options,\n              query\n            );\n\n            requestPromise = requestPromise.then(\n              function(resp) {\n                var serverAttrs = model.parse(resp);\n                if (options.wait) {\n                  serverAttrs = _.extend(attrs || {}, serverAttrs);\n                }\n                model._finishSave(serverAttrs);\n                if (options.wait) {\n                  model.set(current, setOptions);\n                }\n                return model;\n              },\n              function(error) {\n                model._cancelSave();\n                throw error;\n              }\n            );\n\n            return requestPromise;\n          });\n        return this._allPreviousSaves;\n      },\n\n      /**\n       * Destroy this model on the server if it was already persisted.\n       * Optimistically removes the model from its collection, if it has one.\n       * @param {AuthOptions} options AuthOptions plus:\n       * @param {Boolean} [options.wait] wait for the server to respond\n       * before removal.\n       *\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy: function(options) {\n        options = options || {};\n        var model = this;\n\n        var triggerDestroy = function() {\n          model.trigger('destroy', model, model.collection, options);\n        };\n\n        if (!this.id) {\n          return triggerDestroy();\n        }\n\n        if (!options.wait) {\n          triggerDestroy();\n        }\n\n        var request = _request(\n          'classes',\n          this.className,\n          this.id,\n          'DELETE',\n          this._flags,\n          options\n        );\n        return request.then(function() {\n          if (options.wait) {\n            triggerDestroy();\n          }\n          return model;\n        });\n      },\n\n      /**\n       * Converts a response into the hash of attributes to be set on the model.\n       * @ignore\n       */\n      parse: function(resp) {\n        var output = _.clone(resp);\n        _(['createdAt', 'updatedAt']).each(function(key) {\n          if (output[key]) {\n            output[key] = AV._parseDate(output[key]);\n          }\n        });\n        if (output.createdAt && !output.updatedAt) {\n          output.updatedAt = output.createdAt;\n        }\n        return output;\n      },\n\n      /**\n       * Creates a new model with identical attributes to this one.\n       * @return {AV.Object}\n       */\n      clone: function() {\n        return new this.constructor(this.attributes);\n      },\n\n      /**\n       * Returns true if this object has never been saved to AV.\n       * @return {Boolean}\n       */\n      isNew: function() {\n        return !this.id;\n      },\n\n      /**\n       * Call this method to manually fire a `\"change\"` event for this model and\n       * a `\"change:attribute\"` event for each changed attribute.\n       * Calling this will cause all objects observing the model to update.\n       */\n      change: function(options) {\n        options = options || {};\n        var changing = this._changing;\n        this._changing = true;\n\n        // Silent changes become pending changes.\n        var self = this;\n        AV._objectEach(this._silent, function(attr) {\n          self._pending[attr] = true;\n        });\n\n        // Silent changes are triggered.\n        var changes = _.extend({}, options.changes, this._silent);\n        this._silent = {};\n        AV._objectEach(changes, function(unused_value, attr) {\n          self.trigger('change:' + attr, self, self.get(attr), options);\n        });\n        if (changing) {\n          return this;\n        }\n\n        // This is to get around lint not letting us make a function in a loop.\n        var deleteChanged = function(value, attr) {\n          if (!self._pending[attr] && !self._silent[attr]) {\n            delete self.changed[attr];\n          }\n        };\n\n        // Continue firing `\"change\"` events while there are pending changes.\n        while (!_.isEmpty(this._pending)) {\n          this._pending = {};\n          this.trigger('change', this, options);\n          // Pending and silent changes still remain.\n          AV._objectEach(this.changed, deleteChanged);\n          self._previousAttributes = _.clone(this.attributes);\n        }\n\n        this._changing = false;\n        return this;\n      },\n\n      /**\n       * Gets the previous value of an attribute, recorded at the time the last\n       * <code>\"change\"</code> event was fired.\n       * @param {String} attr Name of the attribute to get.\n       */\n      previous: function(attr) {\n        if (!arguments.length || !this._previousAttributes) {\n          return null;\n        }\n        return this._previousAttributes[attr];\n      },\n\n      /**\n       * Gets all of the attributes of the model at the time of the previous\n       * <code>\"change\"</code> event.\n       * @return {Object}\n       */\n      previousAttributes: function() {\n        return _.clone(this._previousAttributes);\n      },\n\n      /**\n       * Checks if the model is currently in a valid state. It's only possible to\n       * get into an *invalid* state if you're using silent changes.\n       * @return {Boolean}\n       */\n      isValid: function() {\n        try {\n          this.validate(this.attributes);\n        } catch (error) {\n          return false;\n        }\n        return true;\n      },\n\n      /**\n       * You should not call this function directly unless you subclass\n       * <code>AV.Object</code>, in which case you can override this method\n       * to provide additional validation on <code>set</code> and\n       * <code>save</code>.  Your implementation should throw an Error if\n       * the attrs is invalid\n       *\n       * @param {Object} attrs The current data to validate.\n       * @see AV.Object#set\n       */\n      validate: function(attrs) {\n        if (_.has(attrs, 'ACL') && !(attrs.ACL instanceof AV.ACL)) {\n          throw new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n        }\n      },\n\n      /**\n       * Run validation against a set of incoming attributes, returning `true`\n       * if all is well. If a specific `error` callback has been passed,\n       * call that instead of firing the general `\"error\"` event.\n       * @private\n       */\n      _validate: function(attrs, options) {\n        if (options.silent || !this.validate) {\n          return;\n        }\n        attrs = _.extend({}, this.attributes, attrs);\n        this.validate(attrs);\n      },\n\n      /**\n       * Returns the ACL for this object.\n       * @returns {AV.ACL} An instance of AV.ACL.\n       * @see AV.Object#get\n       */\n      getACL: function() {\n        return this.get('ACL');\n      },\n\n      /**\n       * Sets the ACL to be used for this object.\n       * @param {AV.ACL} acl An instance of AV.ACL.\n       * @param {Object} options Optional Backbone-like options object to be\n       *     passed in to set.\n       * @return {AV.Object} self\n       * @see AV.Object#set\n       */\n      setACL: function(acl, options) {\n        return this.set('ACL', acl, options);\n      },\n\n      disableBeforeHook: function() {\n        this.ignoreHook('beforeSave');\n        this.ignoreHook('beforeUpdate');\n        this.ignoreHook('beforeDelete');\n      },\n\n      disableAfterHook: function() {\n        this.ignoreHook('afterSave');\n        this.ignoreHook('afterUpdate');\n        this.ignoreHook('afterDelete');\n      },\n\n      ignoreHook: function(hookName) {\n        if (\n          !_.contains(\n            [\n              'beforeSave',\n              'afterSave',\n              'beforeUpdate',\n              'afterUpdate',\n              'beforeDelete',\n              'afterDelete',\n            ],\n            hookName\n          )\n        ) {\n          throw new Error('Unsupported hookName: ' + hookName);\n        }\n\n        if (!AV.hookKey) {\n          throw new Error('ignoreHook required hookKey');\n        }\n\n        if (!this._flags.__ignore_hooks) {\n          this._flags.__ignore_hooks = [];\n        }\n\n        this._flags.__ignore_hooks.push(hookName);\n      },\n    }\n  );\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the give classname\n   * and id.\n   * @param  {String|Function} class the className or a subclass of AV.Object.\n   * @param {String} id The object id of this model.\n   * @return {AV.Object} A new subclass instance of AV.Object.\n   */\n  AV.Object.createWithoutData = (klass, id, hasData) => {\n    let _klass;\n    if (_.isString(klass)) {\n      _klass = AV.Object._getSubclass(klass);\n    } else if (klass.prototype && klass.prototype instanceof AV.Object) {\n      _klass = klass;\n    } else {\n      throw new Error('class must be a string or a subclass of AV.Object.');\n    }\n    const object = new _klass();\n    object.id = id;\n    object._hasData = hasData;\n    return object;\n  };\n  /**\n   * Delete objects in batch.\n   * @param {AV.Object[]} objects The <code>AV.Object</code> array to be deleted.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the save\n   *     completes.\n   */\n  AV.Object.destroyAll = function(objects, options = {}) {\n    if (!objects || objects.length === 0) {\n      return Promise.resolve();\n    }\n    const objectsByClassNameAndFlags = _.groupBy(objects, object =>\n      JSON.stringify({\n        className: object.className,\n        flags: object._flags,\n      })\n    );\n    const body = {\n      requests: _.map(objectsByClassNameAndFlags, objects => {\n        const ids = _.map(objects, 'id').join(',');\n        return {\n          method: 'DELETE',\n          path: `/1.1/classes/${objects[0].className}/${ids}`,\n          body: objects[0]._flags,\n        };\n      }),\n    };\n    return _request('batch', null, null, 'POST', body, options).then(\n      response => {\n        const firstError = _.find(response, result => !result.success);\n        if (firstError)\n          throw new AVError(firstError.error.code, firstError.error.error);\n        return undefined;\n      }\n    );\n  };\n\n  /**\n   * Returns the appropriate subclass for making new instances of the given\n   * className string.\n   * @private\n   */\n  AV.Object._getSubclass = function(className) {\n    if (!_.isString(className)) {\n      throw new Error('AV.Object._getSubclass requires a string argument.');\n    }\n    var ObjectClass = AV.Object._classMap[className];\n    if (!ObjectClass) {\n      ObjectClass = AV.Object.extend(className);\n      AV.Object._classMap[className] = ObjectClass;\n    }\n    return ObjectClass;\n  };\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the given classname.\n   * @private\n   */\n  AV.Object._create = function(className, attributes, options) {\n    var ObjectClass = AV.Object._getSubclass(className);\n    return new ObjectClass(attributes, options);\n  };\n\n  // Set up a map of className to class so that we can create new instances of\n  // AV Objects from JSON automatically.\n  AV.Object._classMap = {};\n\n  AV.Object._extend = AV._extend;\n\n  /**\n   * Creates a new model with defined attributes,\n   * It's the same with\n   * <pre>\n   *   new AV.Object(attributes, options);\n   *  </pre>\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @return {AV.Object}\n   * @since v0.4.4\n   * @see AV.Object\n   * @see AV.Object.extend\n   */\n  AV.Object['new'] = function(attributes, options) {\n    return new AV.Object(attributes, options);\n  };\n\n  /**\n   * Creates a new subclass of AV.Object for the given AV class name.\n   *\n   * <p>Every extension of a AV class will inherit from the most recent\n   * previous extension of that class. When a AV.Object is automatically\n   * created by parsing JSON, it will use the most recent extension of that\n   * class.</p>\n   *\n   * @example\n   * var MyClass = AV.Object.extend(\"MyClass\", {\n   *     // Instance properties\n   * }, {\n   *     // Class properties\n   * });\n   *\n   * @param {String} className The name of the AV class backing this model.\n   * @param {Object} protoProps Instance properties to add to instances of the\n   *     class returned from this method.\n   * @param {Object} classProps Class properties to add the class returned from\n   *     this method.\n   * @return {Class} A new subclass of AV.Object.\n   */\n  AV.Object.extend = function(className, protoProps, classProps) {\n    // Handle the case with only two args.\n    if (!_.isString(className)) {\n      if (className && _.has(className, 'className')) {\n        return AV.Object.extend(className.className, className, protoProps);\n      } else {\n        throw new Error(\n          \"AV.Object.extend's first argument should be the className.\"\n        );\n      }\n    }\n\n    // If someone tries to subclass \"User\", coerce it to the right type.\n    if (className === 'User') {\n      className = '_User';\n    }\n\n    var NewClassObject = null;\n    if (_.has(AV.Object._classMap, className)) {\n      var OldClassObject = AV.Object._classMap[className];\n      // This new subclass has been told to extend both from \"this\" and from\n      // OldClassObject. This is multiple inheritance, which isn't supported.\n      // For now, let's just pick one.\n      if (protoProps || classProps) {\n        NewClassObject = OldClassObject._extend(protoProps, classProps);\n      } else {\n        return OldClassObject;\n      }\n    } else {\n      protoProps = protoProps || {};\n      protoProps._className = className;\n      NewClassObject = this._extend(protoProps, classProps);\n    }\n    // Extending a subclass should reuse the classname automatically.\n    NewClassObject.extend = function(arg0) {\n      if (_.isString(arg0) || (arg0 && _.has(arg0, 'className'))) {\n        return AV.Object.extend.apply(NewClassObject, arguments);\n      }\n      var newArguments = [className].concat(_.toArray(arguments));\n      return AV.Object.extend.apply(NewClassObject, newArguments);\n    };\n    // Add the query property descriptor.\n    Object.defineProperty(\n      NewClassObject,\n      'query',\n      Object.getOwnPropertyDescriptor(AV.Object, 'query')\n    );\n    NewClassObject['new'] = function(attributes, options) {\n      return new NewClassObject(attributes, options);\n    };\n    AV.Object._classMap[className] = NewClassObject;\n    return NewClassObject;\n  };\n\n  // ES6 class syntax support\n  Object.defineProperty(AV.Object.prototype, 'className', {\n    get: function() {\n      const className =\n        this._className ||\n        this.constructor._LCClassName ||\n        this.constructor.name;\n      // If someone tries to subclass \"User\", coerce it to the right type.\n      if (className === 'User') {\n        return '_User';\n      }\n      return className;\n    },\n  });\n\n  /**\n   * Register a class.\n   * If a subclass of <code>AV.Object</code> is defined with your own implement\n   * rather then <code>AV.Object.extend</code>, the subclass must be registered.\n   * @param {Function} klass A subclass of <code>AV.Object</code>\n   * @param {String} [name] Specify the name of the class. Useful when the class might be uglified.\n   * @example\n   * class Person extend AV.Object {}\n   * AV.Object.register(Person);\n   */\n  AV.Object.register = (klass, name) => {\n    if (!(klass.prototype instanceof AV.Object)) {\n      throw new Error('registered class is not a subclass of AV.Object');\n    }\n    const className = name || klass.name;\n    if (!className.length) {\n      throw new Error('registered class must be named');\n    }\n    if (name) {\n      klass._LCClassName = name;\n    }\n    AV.Object._classMap[className] = klass;\n  };\n\n  /**\n   * Get a new Query of the current class\n   * @name query\n   * @memberof AV.Object\n   * @type AV.Query\n   * @readonly\n   * @since v3.1.0\n   * @example\n   * const Post = AV.Object.extend('Post');\n   * Post.query.equalTo('author', 'leancloud').find().then();\n   */\n  Object.defineProperty(AV.Object, 'query', {\n    get() {\n      return new AV.Query(this.prototype.className);\n    },\n  });\n\n  AV.Object._findUnsavedChildren = function(objects, children, files) {\n    AV._traverse(objects, function(object) {\n      if (object instanceof AV.Object) {\n        if (object.dirty()) {\n          children.push(object);\n        }\n        return;\n      }\n\n      if (object instanceof AV.File) {\n        if (!object.id) {\n          files.push(object);\n        }\n        return;\n      }\n    });\n  };\n\n  AV.Object._canBeSerializedAsValue = function(object) {\n    var canBeSerializedAsValue = true;\n\n    if (object instanceof AV.Object || object instanceof AV.File) {\n      canBeSerializedAsValue = !!object.id;\n    } else if (_.isArray(object)) {\n      AV._arrayEach(object, function(child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    } else if (_.isObject(object)) {\n      AV._objectEach(object, function(child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    }\n\n    return canBeSerializedAsValue;\n  };\n\n  AV.Object._deepSaveAsync = function(object, model, options) {\n    var unsavedChildren = [];\n    var unsavedFiles = [];\n    AV.Object._findUnsavedChildren(object, unsavedChildren, unsavedFiles);\n\n    var promise = Promise.resolve();\n    _.each(unsavedFiles, function(file) {\n      promise = promise.then(function() {\n        return file.save();\n      });\n    });\n\n    var objects = _.uniq(unsavedChildren);\n    var remaining = _.uniq(objects);\n\n    return promise\n      .then(function() {\n        return continueWhile(\n          function() {\n            return remaining.length > 0;\n          },\n          function() {\n            // Gather up all the objects that can be saved in this batch.\n            var batch = [];\n            var newRemaining = [];\n            AV._arrayEach(remaining, function(object) {\n              // Limit batches to 20 objects.\n              if (batch.length > 20) {\n                newRemaining.push(object);\n                return;\n              }\n\n              if (object._canBeSerialized()) {\n                batch.push(object);\n              } else {\n                newRemaining.push(object);\n              }\n            });\n            remaining = newRemaining;\n\n            // If we can't save any objects, there must be a circular reference.\n            if (batch.length === 0) {\n              return Promise.reject(\n                new AVError(\n                  AVError.OTHER_CAUSE,\n                  'Tried to save a batch with a cycle.'\n                )\n              );\n            }\n\n            // Reserve a spot in every object's save queue.\n            var readyToStart = Promise.resolve(\n              _.map(batch, function(object) {\n                return object._allPreviousSaves || Promise.resolve();\n              })\n            );\n\n            // Save a single batch, whether previous saves succeeded or failed.\n            const bathSavePromise = readyToStart.then(() =>\n              _request(\n                'batch',\n                null,\n                null,\n                'POST',\n                {\n                  requests: _.map(batch, function(object) {\n                    var method = object.id ? 'PUT' : 'POST';\n\n                    var json = object._getSaveJSON();\n\n                    _.extend(json, object._flags);\n\n                    var route = 'classes';\n                    var className = object.className;\n                    var path = `/${route}/${className}`;\n                    if (object.className === '_User' && !object.id) {\n                      // Special-case user sign-up.\n                      path = '/users';\n                    }\n\n                    var path = `/1.1${path}`;\n                    if (object.id) {\n                      path = path + '/' + object.id;\n                    }\n\n                    object._startSave();\n\n                    return {\n                      method: method,\n                      path: path,\n                      body: json,\n                    };\n                  }),\n                },\n                options\n              ).then(function(response) {\n                const results = _.map(batch, function(object, i) {\n                  if (response[i].success) {\n                    object._finishSave(object.parse(response[i].success));\n                    return object;\n                  }\n                  object._cancelSave();\n                  return new AVError(\n                    response[i].error.code,\n                    response[i].error.error\n                  );\n                });\n                return handleBatchResults(results);\n              })\n            );\n            AV._arrayEach(batch, function(object) {\n              object._allPreviousSaves = bathSavePromise;\n            });\n            return bathSavePromise;\n          }\n        );\n      })\n      .then(function() {\n        return object;\n      });\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/object.js","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-own-property-descriptor.js\n// module id = 146\n// module chunks = 0 1","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js\n// module id = 147\n// module chunks = 0 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/slicedToArray.js\n// module id = 148\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/is-iterable.js\n// module id = 149\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/is-iterable.js\n// module id = 150\n// module chunks = 0 1","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.is-iterable.js\n// module id = 151\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = 152\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = 153\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = 154\n// module chunks = 0 1","const _ = require('underscore');\nconst AVError = require('./error');\n\nmodule.exports = function(AV) {\n  AV.Role = AV.Object.extend(\n    '_Role',\n    /** @lends AV.Role.prototype */ {\n      // Instance Methods\n\n      /**\n       * Represents a Role on the AV server. Roles represent groupings of\n       * Users for the purposes of granting permissions (e.g. specifying an ACL\n       * for an Object). Roles are specified by their sets of child users and\n       * child roles, all of which are granted any permissions that the parent\n       * role has.\n       *\n       * <p>Roles must have a name (which cannot be changed after creation of the\n       * role), and must specify an ACL.</p>\n       * An AV.Role is a local representation of a role persisted to the AV\n       * cloud.\n       * @class AV.Role\n       * @param {String} name The name of the Role to create.\n       * @param {AV.ACL} acl The ACL for this role.\n       */\n      constructor: function(name, acl) {\n        if (_.isString(name)) {\n          AV.Object.prototype.constructor.call(this, null, null);\n          this.setName(name);\n        } else {\n          AV.Object.prototype.constructor.call(this, name, acl);\n        }\n        if (acl) {\n          if (!(acl instanceof AV.ACL)) {\n            throw new TypeError('acl must be an instance of AV.ACL');\n          } else {\n            this.setACL(acl);\n          }\n        }\n      },\n\n      /**\n       * Gets the name of the role.  You can alternatively call role.get(\"name\")\n       *\n       * @return {String} the name of the role.\n       */\n      getName: function() {\n        return this.get('name');\n      },\n\n      /**\n       * Sets the name for a role. This value must be set before the role has\n       * been saved to the server, and cannot be set once the role has been\n       * saved.\n       *\n       * <p>\n       *   A role's name can only contain alphanumeric characters, _, -, and\n       *   spaces.\n       * </p>\n       *\n       * <p>This is equivalent to calling role.set(\"name\", name)</p>\n       *\n       * @param {String} name The name of the role.\n       */\n      setName: function(name, options) {\n        return this.set('name', name, options);\n      },\n\n      /**\n       * Gets the AV.Relation for the AV.Users that are direct\n       * children of this role. These users are granted any privileges that this\n       * role has been granted (e.g. read or write access through ACLs). You can\n       * add or remove users from the role through this relation.\n       *\n       * <p>This is equivalent to calling role.relation(\"users\")</p>\n       *\n       * @return {AV.Relation} the relation for the users belonging to this\n       *     role.\n       */\n      getUsers: function() {\n        return this.relation('users');\n      },\n\n      /**\n       * Gets the AV.Relation for the AV.Roles that are direct\n       * children of this role. These roles' users are granted any privileges that\n       * this role has been granted (e.g. read or write access through ACLs). You\n       * can add or remove child roles from this role through this relation.\n       *\n       * <p>This is equivalent to calling role.relation(\"roles\")</p>\n       *\n       * @return {AV.Relation} the relation for the roles belonging to this\n       *     role.\n       */\n      getRoles: function() {\n        return this.relation('roles');\n      },\n\n      /**\n       * @ignore\n       */\n      validate: function(attrs, options) {\n        if ('name' in attrs && attrs.name !== this.getName()) {\n          var newName = attrs.name;\n          if (this.id && this.id !== attrs.objectId) {\n            // Check to see if the objectId being set matches this.id.\n            // This happens during a fetch -- the id is set before calling fetch.\n            // Let the name be set in this case.\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name can only be set before it has been saved.\"\n            );\n          }\n          if (!_.isString(newName)) {\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name must be a String.\"\n            );\n          }\n          if (!/^[0-9a-zA-Z\\-_ ]+$/.test(newName)) {\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name can only contain alphanumeric characters, _,\" +\n                ' -, and spaces.'\n            );\n          }\n        }\n        if (AV.Object.prototype.validate) {\n          return AV.Object.prototype.validate.call(this, attrs, options);\n        }\n        return false;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/role.js","const _ = require('underscore');\nconst uuid = require('uuid/v4');\nconst AVError = require('./error');\nconst { _request: AVRequest, request } = require('./request');\nconst { getAdapter } = require('./adapter');\n\nconst PLATFORM_ANONYMOUS = 'anonymous';\nconst PLATFORM_QQAPP = 'lc_qqapp';\n\nconst mergeUnionDataIntoAuthData = (defaultUnionIdPlatform = 'weixin') => (\n  authData,\n  unionId,\n  { unionIdPlatform = defaultUnionIdPlatform, asMainAccount = false } = {}\n) => {\n  if (typeof unionId !== 'string')\n    throw new AVError(AVError.OTHER_CAUSE, 'unionId is not a string');\n  if (typeof unionIdPlatform !== 'string')\n    throw new AVError(AVError.OTHER_CAUSE, 'unionIdPlatform is not a string');\n\n  return _.extend({}, authData, {\n    platform: unionIdPlatform,\n    unionid: unionId,\n    main_account: Boolean(asMainAccount),\n  });\n};\n\nmodule.exports = function(AV) {\n  /**\n   * @class\n   *\n   * <p>An AV.User object is a local representation of a user persisted to the\n   * LeanCloud server. This class is a subclass of an AV.Object, and retains the\n   * same functionality of an AV.Object, but also extends it with various\n   * user specific methods, like authentication, signing up, and validation of\n   * uniqueness.</p>\n   */\n  AV.User = AV.Object.extend(\n    '_User',\n    /** @lends AV.User.prototype */ {\n      // Instance Variables\n      _isCurrentUser: false,\n\n      // Instance Methods\n\n      /**\n       * Internal method to handle special fields in a _User response.\n       * @private\n       */\n      _mergeMagicFields: function(attrs) {\n        if (attrs.sessionToken) {\n          this._sessionToken = attrs.sessionToken;\n          delete attrs.sessionToken;\n        }\n        return AV.User.__super__._mergeMagicFields.call(this, attrs);\n      },\n\n      /**\n       * Removes null values from authData (which exist temporarily for\n       * unlinking)\n       * @private\n       */\n      _cleanupAuthData: function() {\n        if (!this.isCurrent()) {\n          return;\n        }\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n        AV._objectEach(this.get('authData'), function(value, key) {\n          if (!authData[key]) {\n            delete authData[key];\n          }\n        });\n      },\n\n      /**\n       * Synchronizes authData for all providers.\n       * @private\n       */\n      _synchronizeAllAuthData: function() {\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n\n        var self = this;\n        AV._objectEach(this.get('authData'), function(value, key) {\n          self._synchronizeAuthData(key);\n        });\n      },\n\n      /**\n       * Synchronizes auth data for a provider (e.g. puts the access token in the\n       * right place to be used by the Facebook SDK).\n       * @private\n       */\n      _synchronizeAuthData: function(provider) {\n        if (!this.isCurrent()) {\n          return;\n        }\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n          provider = AV.User._authProviders[authType];\n        } else {\n          authType = provider.getAuthType();\n        }\n        var authData = this.get('authData');\n        if (!authData || !provider) {\n          return;\n        }\n        var success = provider.restoreAuthentication(authData[authType]);\n        if (!success) {\n          this.dissociateAuthData(provider);\n        }\n      },\n\n      _handleSaveResult: function(makeCurrent) {\n        // Clean up and synchronize the authData object, removing any unset values\n        if (makeCurrent && !AV._config.disableCurrentUser) {\n          this._isCurrentUser = true;\n        }\n        this._cleanupAuthData();\n        this._synchronizeAllAuthData();\n        // Don't keep the password around.\n        delete this._serverData.password;\n        this._rebuildEstimatedDataForKey('password');\n        this._refreshCache();\n        if (\n          (makeCurrent || this.isCurrent()) &&\n          !AV._config.disableCurrentUser\n        ) {\n          // Some old version of leanengine-node-sdk will overwrite\n          // AV.User._saveCurrentUser which returns no Promise.\n          // So we need a Promise wrapper.\n          return Promise.resolve(AV.User._saveCurrentUser(this));\n        } else {\n          return Promise.resolve();\n        }\n      },\n\n      /**\n       * Unlike in the Android/iOS SDKs, logInWith is unnecessary, since you can\n       * call linkWith on the user (even if it doesn't exist yet on the server).\n       * @private\n       */\n      _linkWith: function(provider, data, { failOnNotExist = false } = {}) {\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n          provider = AV.User._authProviders[provider];\n        } else {\n          authType = provider.getAuthType();\n        }\n        if (data) {\n          return this.save(\n            { authData: { [authType]: data } },\n            {\n              fetchWhenSave: !!this.get('authData'),\n              _failOnNotExist: failOnNotExist,\n            }\n          ).then(function(model) {\n            return model._handleSaveResult(true).then(function() {\n              return model;\n            });\n          });\n        } else {\n          return provider\n            .authenticate()\n            .then(result => this._linkWith(provider, result));\n        }\n      },\n\n      /**\n       * Associate the user with a third party authData.\n       * @since 3.3.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example user.associateWithAuthData({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin').then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      associateWithAuthData(authData, platform) {\n        return this._linkWith(platform, authData);\n      },\n\n      /**\n       * Associate the user with a third party authData and unionId.\n       * @since 3.5.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {string} unionId\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example user.associateWithAuthDataAndUnionId({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin', 'union123', {\n       *   unionIdPlatform: 'weixin',\n       *   asMainAccount: true,\n       * }).then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      associateWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionOptions\n      ) {\n        return this._linkWith(\n          platform,\n          mergeUnionDataIntoAuthData()(authData, unionId, unionOptions)\n        );\n      },\n\n      /**\n       * Associate the user with the identity of the current mini-app.\n       * @since 4.6.0\n       * @param {Object} authInfo\n       * @param {Object} [option]\n       * @param {Boolean} [option.failOnNotExist] If true, the login request will fail when no user matches this authInfo.authData exists.\n       * @return {Promise<AV.User>}\n       */\n      associateWithMiniApp(authInfo, option) {\n        if (authInfo === undefined) {\n          const getAuthInfo = getAdapter('getAuthInfo');\n          return getAuthInfo().then(authInfo =>\n            this._linkWith(authInfo.provider, authInfo.authData, option)\n          );\n        }\n        return this._linkWith(authInfo.provider, authInfo.authData, option);\n      },\n\n      /**\n       *  QQ  QQ \n       *  QQ \n       *\n       * @deprecated Please use {@link AV.User#associateWithMiniApp}\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId = false]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithQQApp({\n        preferUnionId = false,\n        unionIdPlatform = 'qq',\n        asMainAccount = true,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo => {\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.associateWithMiniApp(authInfo);\n        });\n      },\n\n      /**\n       * \n       * \n       *\n       * @deprecated Please use {@link AV.User#associateWithMiniApp}\n       * @since 3.13.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId = false]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId \n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithWeapp({\n        preferUnionId = false,\n        unionIdPlatform = 'weixin',\n        asMainAccount = true,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo => this.associateWithMiniApp(authInfo));\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User#associateWithWeapp}\n       * @return {Promise<AV.User>}\n       */\n      linkWithWeapp(options) {\n        console.warn(\n          'DEPRECATED: User#linkWithWeapp  User#associateWithWeapp '\n        );\n        return this.associateWithWeapp(options);\n      },\n\n      /**\n       *  QQ  QQ  QQ \n       *  QQ \n       *\n       * @deprecated Please use {@link AV.User#associateWithMiniApp}\n       * @since 4.2.0\n       * @param {string} unionId\n       * @param {Object} [unionOptions]\n       * @param {string} [unionOptions.unionIdPlatform = 'qq'] unionId platform\n       * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithQQAppWithUnionId(\n        unionId,\n        { unionIdPlatform = 'qq', asMainAccount = false } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.associateWithMiniApp(authInfo);\n        });\n      },\n\n      /**\n       * \n       * \n       *\n       * @deprecated Please use {@link AV.User#associateWithMiniApp}\n       * @since 3.13.0\n       * @param {string} unionId\n       * @param {Object} [unionOptions]\n       * @param {string} [unionOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithWeappWithUnionId(\n        unionId,\n        { unionIdPlatform = 'weixin', asMainAccount = false } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          return this.associateWithMiniApp(authInfo);\n        });\n      },\n\n      /**\n       * Unlinks a user from a service.\n       * @param {string} platform\n       * @return {Promise<AV.User>}\n       * @since 3.3.0\n       */\n      dissociateAuthData(provider) {\n        this.unset(`authData.${provider}`);\n        return this.save().then(model =>\n          model._handleSaveResult(true).then(() => model)\n        );\n      },\n\n      /**\n       * @private\n       * @deprecated\n       */\n      _unlinkFrom(provider) {\n        console.warn(\n          'DEPRECATED: User#_unlinkFrom  User#dissociateAuthData '\n        );\n        return this.dissociateAuthData(provider);\n      },\n\n      /**\n       * Checks whether a user is linked to a service.\n       * @private\n       */\n      _isLinked: function(provider) {\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n        } else {\n          authType = provider.getAuthType();\n        }\n        var authData = this.get('authData') || {};\n        return !!authData[authType];\n      },\n\n      /**\n       * Checks whether a user is anonymous.\n       * @since 3.9.0\n       * @return {boolean}\n       */\n      isAnonymous() {\n        return this._isLinked(PLATFORM_ANONYMOUS);\n      },\n\n      logOut: function() {\n        this._logOutWithAll();\n        this._isCurrentUser = false;\n      },\n\n      /**\n       * Deauthenticates all providers.\n       * @private\n       */\n      _logOutWithAll: function() {\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n        var self = this;\n        AV._objectEach(this.get('authData'), function(value, key) {\n          self._logOutWith(key);\n        });\n      },\n\n      /**\n       * Deauthenticates a single provider (e.g. removing access tokens from the\n       * Facebook SDK).\n       * @private\n       */\n      _logOutWith: function(provider) {\n        if (!this.isCurrent()) {\n          return;\n        }\n        if (_.isString(provider)) {\n          provider = AV.User._authProviders[provider];\n        }\n        if (provider && provider.deauthenticate) {\n          provider.deauthenticate();\n        }\n      },\n\n      /**\n       * Signs up a new user. You should call this instead of save for\n       * new AV.Users. This will create a new AV.User on the server, and\n       * also persist the session on disk so that you can access the user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling signUp.</p>\n       *\n       * @param {Object} attrs Extra fields to set on the new user, or null.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the signup\n       *     finishes.\n       * @see AV.User.signUp\n       */\n      signUp: function(attrs, options) {\n        var error;\n\n        var username = (attrs && attrs.username) || this.get('username');\n        if (!username || username === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up user with an empty name.'\n          );\n          throw error;\n        }\n\n        var password = (attrs && attrs.password) || this.get('password');\n        if (!password || password === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up user with an empty password.'\n          );\n          throw error;\n        }\n\n        return this.save(attrs, options).then(function(model) {\n          if (model.isAnonymous()) {\n            model.unset(`authData.${PLATFORM_ANONYMOUS}`);\n            model._opSetQueue = [{}];\n          }\n          return model._handleSaveResult(true).then(function() {\n            return model;\n          });\n        });\n      },\n\n      /**\n       * Signs up a new user with mobile phone and sms code.\n       * You should call this instead of save for\n       * new AV.Users. This will create a new AV.User on the server, and\n       * also persist the session on disk so that you can access the user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling signUp.</p>\n       *\n       * @param {Object} attrs Extra fields to set on the new user, or null.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the signup\n       *     finishes.\n       * @see AV.User.signUpOrlogInWithMobilePhone\n       * @see AV.Cloud.requestSmsCode\n       */\n      signUpOrlogInWithMobilePhone: function(attrs, options = {}) {\n        var error;\n\n        var mobilePhoneNumber =\n          (attrs && attrs.mobilePhoneNumber) || this.get('mobilePhoneNumber');\n        if (!mobilePhoneNumber || mobilePhoneNumber === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up or login user by mobilePhoneNumber ' +\n              'with an empty mobilePhoneNumber.'\n          );\n          throw error;\n        }\n\n        var smsCode = (attrs && attrs.smsCode) || this.get('smsCode');\n        if (!smsCode || smsCode === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up or login user by mobilePhoneNumber  ' +\n              'with an empty smsCode.'\n          );\n          throw error;\n        }\n\n        options._makeRequest = function(route, className, id, method, json) {\n          return AVRequest('usersByMobilePhone', null, null, 'POST', json);\n        };\n        return this.save(attrs, options).then(function(model) {\n          delete model.attributes.smsCode;\n          delete model._serverData.smsCode;\n          return model._handleSaveResult(true).then(function() {\n            return model;\n          });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithAuthData}, except that you can set attributes before login.\n       * @since 3.7.0\n       */\n      loginWithAuthData(authData, platform, options) {\n        return this._linkWith(platform, authData, options);\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithAuthDataAndUnionId}, except that you can set attributes before login.\n       * @since 3.7.0\n       */\n      loginWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionLoginOptions\n      ) {\n        return this.loginWithAuthData(\n          mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions),\n          platform,\n          unionLoginOptions\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithWeapp}, except that you can set attributes before login.\n       * @deprecated please use {@link AV.User#loginWithMiniApp}\n       * @since 3.7.0\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      loginWithWeapp({\n        preferUnionId = false,\n        unionIdPlatform = 'weixin',\n        asMainAccount = true,\n        failOnNotExist = false,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo =>\n          this.loginWithMiniApp(authInfo, { failOnNotExist })\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithWeappWithUnionId}, except that you can set attributes before login.\n       * @deprecated please use {@link AV.User#loginWithMiniApp}\n       * @since 3.13.0\n       */\n      loginWithWeappWithUnionId(\n        unionId,\n        {\n          unionIdPlatform = 'weixin',\n          asMainAccount = false,\n          failOnNotExist = false,\n        } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithQQApp}, except that you can set attributes before login.\n       * @deprecated please use {@link AV.User#loginWithMiniApp}\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       */\n      loginWithQQApp({\n        preferUnionId = false,\n        unionIdPlatform = 'qq',\n        asMainAccount = true,\n        failOnNotExist = false,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo => {\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithQQAppWithUnionId}, except that you can set attributes before login.\n       * @deprecated please use {@link AV.User#loginWithMiniApp}\n       * @since 4.2.0\n       */\n      loginWithQQAppWithUnionId(\n        unionId,\n        {\n          unionIdPlatform = 'qq',\n          asMainAccount = false,\n          failOnNotExist = false,\n        } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithMiniApp}, except that you can set attributes before login.\n       * @since 4.6.0\n       */\n      loginWithMiniApp(authInfo, option) {\n        if (authInfo === undefined) {\n          const getAuthInfo = getAdapter('getAuthInfo');\n          return getAuthInfo().then(authInfo =>\n            this.loginWithAuthData(authInfo.authData, authInfo.provider, option)\n          );\n        }\n        return this.loginWithAuthData(\n          authInfo.authData,\n          authInfo.provider,\n          option\n        );\n      },\n\n      /**\n       * Logs in a AV.User. On success, this saves the session to localStorage,\n       * so you can retrieve the currently logged in user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling logIn.</p>\n       *\n       * @see AV.User.logIn\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login is complete.\n       */\n      logIn: function() {\n        var model = this;\n        var request = AVRequest('login', null, null, 'POST', this.toJSON());\n        return request.then(function(resp) {\n          var serverAttrs = model.parse(resp);\n          model._finishFetch(serverAttrs);\n          return model._handleSaveResult(true).then(function() {\n            if (!serverAttrs.smsCode) delete model.attributes['smsCode'];\n            return model;\n          });\n        });\n      },\n      /**\n       * @see AV.Object#save\n       */\n      save: function(arg1, arg2, arg3) {\n        var attrs, options;\n        if (_.isObject(arg1) || _.isNull(arg1) || _.isUndefined(arg1)) {\n          attrs = arg1;\n          options = arg2;\n        } else {\n          attrs = {};\n          attrs[arg1] = arg2;\n          options = arg3;\n        }\n        options = options || {};\n\n        return AV.Object.prototype.save\n          .call(this, attrs, options)\n          .then(function(model) {\n            return model._handleSaveResult(false).then(function() {\n              return model;\n            });\n          });\n      },\n\n      /**\n       * Follow a user\n       * @since 0.3.0\n       * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n       * @param {AV.User | String} options.user The target user or user's objectId to follow.\n       * @param {Object} [options.attributes] key-value attributes dictionary to be used as\n       *  conditions of followerQuery/followeeQuery.\n       * @param {AuthOptions} [authOptions]\n       */\n      follow: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        let user;\n        let attributes;\n        if (options.user) {\n          user = options.user;\n          attributes = options.attributes;\n        } else {\n          user = options;\n        }\n        var userObjectId = _.isString(user) ? user : user.id;\n        if (!userObjectId) {\n          throw new Error('Invalid target user.');\n        }\n        var route = 'users/' + this.id + '/friendship/' + userObjectId;\n        var request = AVRequest(\n          route,\n          null,\n          null,\n          'POST',\n          AV._encode(attributes),\n          authOptions\n        );\n        return request;\n      },\n\n      /**\n       * Unfollow a user.\n       * @since 0.3.0\n       * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n       * @param {AV.User | String} options.user The target user or user's objectId to unfollow.\n       * @param {AuthOptions} [authOptions]\n       */\n      unfollow: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        let user;\n        if (options.user) {\n          user = options.user;\n        } else {\n          user = options;\n        }\n        var userObjectId = _.isString(user) ? user : user.id;\n        if (!userObjectId) {\n          throw new Error('Invalid target user.');\n        }\n        var route = 'users/' + this.id + '/friendship/' + userObjectId;\n        var request = AVRequest(route, null, null, 'DELETE', null, authOptions);\n        return request;\n      },\n\n      /**\n       *Create a follower query to query the user's followers.\n       * @since 0.3.0\n       * @see AV.User#followerQuery\n       */\n      followerQuery: function() {\n        return AV.User.followerQuery(this.id);\n      },\n\n      /**\n       *Create a followee query to query the user's followees.\n       * @since 0.3.0\n       * @see AV.User#followeeQuery\n       */\n      followeeQuery: function() {\n        return AV.User.followeeQuery(this.id);\n      },\n\n      /**\n       * @see AV.Object#fetch\n       */\n      fetch: function(fetchOptions, options) {\n        return AV.Object.prototype.fetch\n          .call(this, fetchOptions, options)\n          .then(function(model) {\n            return model._handleSaveResult(false).then(function() {\n              return model;\n            });\n          });\n      },\n\n      /**\n       * Update user's new password safely based on old password.\n       * @param {String} oldPassword the old password.\n       * @param {String} newPassword the new password.\n       * @param {AuthOptions} options\n       */\n      updatePassword: function(oldPassword, newPassword, options) {\n        var route = 'users/' + this.id + '/updatePassword';\n        var params = {\n          old_password: oldPassword,\n          new_password: newPassword,\n        };\n        var request = AVRequest(route, null, null, 'PUT', params, options);\n        return request.then(resp => {\n          this._finishFetch(this.parse(resp));\n          return this._handleSaveResult(true).then(() => resp);\n        });\n      },\n\n      /**\n       * Returns true if <code>current</code> would return this user.\n       * @see AV.User#current\n       */\n      isCurrent: function() {\n        return this._isCurrentUser;\n      },\n\n      /**\n       * Returns get(\"username\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getUsername: function() {\n        return this.get('username');\n      },\n\n      /**\n       * Returns get(\"mobilePhoneNumber\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getMobilePhoneNumber: function() {\n        return this.get('mobilePhoneNumber');\n      },\n\n      /**\n       * Calls set(\"mobilePhoneNumber\", phoneNumber, options) and returns the result.\n       * @param {String} mobilePhoneNumber\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setMobilePhoneNumber: function(phone, options) {\n        return this.set('mobilePhoneNumber', phone, options);\n      },\n\n      /**\n       * Calls set(\"username\", username, options) and returns the result.\n       * @param {String} username\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setUsername: function(username, options) {\n        return this.set('username', username, options);\n      },\n\n      /**\n       * Calls set(\"password\", password, options) and returns the result.\n       * @param {String} password\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setPassword: function(password, options) {\n        return this.set('password', password, options);\n      },\n\n      /**\n       * Returns get(\"email\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getEmail: function() {\n        return this.get('email');\n      },\n\n      /**\n       * Calls set(\"email\", email, options) and returns the result.\n       * @param {String} email\n       * @param {AuthOptions} options\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setEmail: function(email, options) {\n        return this.set('email', email, options);\n      },\n\n      /**\n       * Checks whether this user is the current user and has been authenticated.\n       * @deprecated  currentUser.isAuthenticated().then()\n       *  user.id === currentUser.id\n       * @return (Boolean) whether this user is the current user and is logged in.\n       */\n      authenticated: function() {\n        console.warn(\n          'DEPRECATED:  currentUser.isAuthenticated().then() user.id === currentUser.id'\n        );\n        return (\n          !!this._sessionToken &&\n          (!AV._config.disableCurrentUser &&\n            AV.User.current() &&\n            AV.User.current().id === this.id)\n        );\n      },\n\n      /**\n       *  sessionToken \n       *\n       * @since 2.0.0\n       * @return Promise.<Boolean>\n       */\n      isAuthenticated() {\n        return Promise.resolve().then(\n          () =>\n            !!this._sessionToken &&\n            AV.User._fetchUserBySessionToken(this._sessionToken).then(\n              () => true,\n              error => {\n                if (error.code === 211) {\n                  return false;\n                }\n                throw error;\n              }\n            )\n        );\n      },\n\n      /**\n       * Get sessionToken of current user.\n       * @return {String} sessionToken\n       */\n      getSessionToken() {\n        return this._sessionToken;\n      },\n\n      /**\n       * Refresh sessionToken of current user.\n       * @since 2.1.0\n       * @param {AuthOptions} [options]\n       * @return {Promise.<AV.User>} user with refreshed sessionToken\n       */\n      refreshSessionToken(options) {\n        return AVRequest(\n          `users/${this.id}/refreshSessionToken`,\n          null,\n          null,\n          'PUT',\n          null,\n          options\n        ).then(response => {\n          this._finishFetch(response);\n          return this._handleSaveResult(true).then(() => this);\n        });\n      },\n\n      /**\n       * Get this user's Roles.\n       * @param {AuthOptions} [options]\n       * @return {Promise.<AV.Role[]>} A promise that is fulfilled with the roles when\n       *     the query is complete.\n       */\n      getRoles(options) {\n        return AV.Relation.reverseQuery('_Role', 'users', this).find(options);\n      },\n    },\n    /** @lends AV.User */ {\n      // Class Variables\n\n      // The currently logged-in user.\n      _currentUser: null,\n\n      // Whether currentUser is known to match the serialized version on disk.\n      // This is useful for saving a localstorage check if you try to load\n      // _currentUser frequently while there is none stored.\n      _currentUserMatchesDisk: false,\n\n      // The localStorage key suffix that the current user is stored under.\n      _CURRENT_USER_KEY: 'currentUser',\n\n      // The mapping of auth provider names to actual providers\n      _authProviders: {},\n\n      // Class Methods\n\n      /**\n       * Signs up a new user with a username (or email) and password.\n       * This will create a new AV.User on the server, and also persist the\n       * session in localStorage so that you can access the user using\n       * {@link #current}.\n       *\n       * @param {String} username The username (or email) to sign up with.\n       * @param {String} password The password to sign up with.\n       * @param {Object} [attrs] Extra fields to set on the new user.\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the signup completes.\n       * @see AV.User#signUp\n       */\n      signUp: function(username, password, attrs, options) {\n        attrs = attrs || {};\n        attrs.username = username;\n        attrs.password = password;\n        var user = AV.Object._create('_User');\n        return user.signUp(attrs, options);\n      },\n\n      /**\n       * Logs in a user with a username (or email) and password. On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} username The username (or email) to log in with.\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logIn: function(username, password) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({ username: username, password: password });\n        return user.logIn();\n      },\n\n      /**\n       * Logs in a user with a session token. On success, this saves the session\n       * to disk, so you can retrieve the currently logged in user using\n       * <code>current</code>.\n       *\n       * @param {String} sessionToken The sessionToken to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       */\n      become: function(sessionToken) {\n        return this._fetchUserBySessionToken(sessionToken).then(user =>\n          user._handleSaveResult(true).then(() => user)\n        );\n      },\n\n      _fetchUserBySessionToken: function(sessionToken) {\n        if (sessionToken === undefined) {\n          return Promise.reject(\n            new Error('The sessionToken cannot be undefined')\n          );\n        }\n\n        var user = AV.Object._create('_User');\n        return request({\n          method: 'GET',\n          path: '/users/me',\n          authOptions: {\n            sessionToken,\n          },\n        }).then(function(resp) {\n          var serverAttrs = user.parse(resp);\n          user._finishFetch(serverAttrs);\n          return user;\n        });\n      },\n\n      /**\n       * Logs in a user with a mobile phone number and sms code sent by\n       * AV.User.requestLoginSmsCode.On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} mobilePhone The user's mobilePhoneNumber\n       * @param {String} smsCode The sms code sent by AV.User.requestLoginSmsCode\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logInWithMobilePhoneSmsCode: function(mobilePhone, smsCode) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({ mobilePhoneNumber: mobilePhone, smsCode: smsCode });\n        return user.logIn();\n      },\n\n      /**\n       * Sign up or logs in a user with a mobilePhoneNumber and smsCode.\n       * On success, this saves the session to disk, so you can retrieve the currently\n       * logged in user using <code>current</code>.\n       *\n       * @param {String} mobilePhoneNumber The user's mobilePhoneNumber.\n       * @param {String} smsCode The sms code sent by AV.Cloud.requestSmsCode\n       * @param {Object} attributes  The user's other attributes such as username etc.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#signUpOrlogInWithMobilePhone\n       * @see AV.Cloud.requestSmsCode\n       */\n      signUpOrlogInWithMobilePhone: function(\n        mobilePhoneNumber,\n        smsCode,\n        attrs,\n        options\n      ) {\n        attrs = attrs || {};\n        attrs.mobilePhoneNumber = mobilePhoneNumber;\n        attrs.smsCode = smsCode;\n        var user = AV.Object._create('_User');\n        return user.signUpOrlogInWithMobilePhone(attrs, options);\n      },\n\n      /**\n       * Logs in a user with a mobile phone number and password. On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} mobilePhone The user's mobilePhoneNumber\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logInWithMobilePhone: function(mobilePhone, password) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({\n          mobilePhoneNumber: mobilePhone,\n          password: password,\n        });\n        return user.logIn();\n      },\n\n      /**\n       * Logs in a user with email and password.\n       *\n       * @since 3.13.0\n       * @param {String} email The user's email.\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       */\n      loginWithEmail(email, password) {\n        const user = AV.Object._create('_User');\n        user._finishFetch({\n          email,\n          password,\n        });\n        return user.logIn();\n      },\n\n      /**\n       * Sign up or logs in a user with a third party auth data(AccessToken).\n       * On success, this saves the session to disk, so you can retrieve the currently\n       * logged in user using <code>current</code>.\n       *\n       * @since 3.7.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @example AV.User.loginWithAuthData({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin').then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       * @see {@link https://leancloud.cn/docs/js_guide.html#}\n       */\n      loginWithAuthData(authData, platform, options) {\n        return AV.User._logInWith(platform, authData, options);\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User.loginWithAuthData}\n       */\n      signUpOrlogInWithAuthData(...param) {\n        console.warn(\n          'DEPRECATED: User.signUpOrlogInWithAuthData  User#loginWithAuthData '\n        );\n        return this.loginWithAuthData(...param);\n      },\n\n      /**\n       * Sign up or logs in a user with a third party authData and unionId.\n       * @since 3.7.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {string} unionId\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example AV.User.loginWithAuthDataAndUnionId({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin', 'union123', {\n       *   unionIdPlatform: 'weixin',\n       *   asMainAccount: true,\n       * }).then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      loginWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionLoginOptions\n      ) {\n        return this.loginWithAuthData(\n          mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions),\n          platform,\n          unionLoginOptions\n        );\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User.loginWithAuthDataAndUnionId}\n       * @since 3.5.0\n       */\n      signUpOrlogInWithAuthDataAndUnionId(...param) {\n        console.warn(\n          'DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId  User#loginWithAuthDataAndUnionId '\n        );\n        return this.loginWithAuthDataAndUnionId(...param);\n      },\n\n      /**\n       * Merge unionId into authInfo.\n       * @since 4.6.0\n       * @param {Object} authInfo\n       * @param {String} unionId\n       * @param {Object} [unionIdOption]\n       * @param {Boolean} [unionIdOption.asMainAccount] If true, the unionId will be associated with the user.\n       */\n      mergeUnionId(authInfo, unionId, { asMainAccount = false } = {}) {\n        authInfo = JSON.parse(JSON.stringify(authInfo));\n        const { authData, platform } = authInfo;\n        authData.platform = platform;\n        authData.main_account = asMainAccount;\n        authData.unionid = unionId;\n        return authInfo;\n      },\n\n      /**\n       *  session  AV.User.current() \n       * \n       *\n       * @deprecated please use {@link AV.User.loginWithMiniApp}\n       * @since 2.0.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n       * @return {Promise.<AV.User>}\n       */\n      loginWithWeapp({\n        preferUnionId = false,\n        unionIdPlatform = 'weixin',\n        asMainAccount = true,\n        failOnNotExist = false,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo =>\n          this.loginWithMiniApp(authInfo, { failOnNotExist })\n        );\n      },\n\n      /**\n       * \n       * \n       *\n       * @deprecated please use {@link AV.User.loginWithMiniApp}\n       * @since 3.13.0\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.       * @return {Promise.<AV.User>}\n       */\n      loginWithWeappWithUnionId(\n        unionId,\n        {\n          unionIdPlatform = 'weixin',\n          asMainAccount = false,\n          failOnNotExist = false,\n        } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       *  QQ  QQ  session  AV.User.current() \n       *  QQ \n       *\n       * @deprecated please use {@link AV.User.loginWithMiniApp}\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n       * @return {Promise.<AV.User>}\n       */\n      loginWithQQApp({\n        preferUnionId = false,\n        unionIdPlatform = 'qq',\n        asMainAccount = true,\n        failOnNotExist = false,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo => {\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       *  QQ  QQ \n       *  QQ \n       *\n       * @deprecated please use {@link AV.User.loginWithMiniApp}\n       * @since 4.2.0\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'qq'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise.<AV.User>}\n       */\n      loginWithQQAppWithUnionId(\n        unionId,\n        {\n          unionIdPlatform = 'qq',\n          asMainAccount = false,\n          failOnNotExist = false,\n        } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       * Register or login using the identity of the current mini-app.\n       * @param {Object} authInfo\n       * @param {Object} [option]\n       * @param {Boolean} [option.failOnNotExist] If true, the login request will fail when no user matches this authInfo.authData exists.\n       */\n      loginWithMiniApp(authInfo, option) {\n        if (authInfo === undefined) {\n          const getAuthInfo = getAdapter('getAuthInfo');\n          return getAuthInfo().then(authInfo =>\n            this.loginWithAuthData(authInfo.authData, authInfo.provider, option)\n          );\n        }\n        return this.loginWithAuthData(\n          authInfo.authData,\n          authInfo.provider,\n          option\n        );\n      },\n\n      /**\n       * Only use for DI in tests to produce deterministic IDs.\n       */\n      _genId() {\n        return uuid();\n      },\n\n      /**\n       * Creates an anonymous user.\n       *\n       * @since 3.9.0\n       * @return {Promise.<AV.User>}\n       */\n      loginAnonymously() {\n        return this.loginWithAuthData(\n          {\n            id: AV.User._genId(),\n          },\n          'anonymous'\n        );\n      },\n\n      associateWithAuthData(userObj, platform, authData) {\n        console.warn(\n          'DEPRECATED: User.associateWithAuthData  User#associateWithAuthData '\n        );\n        return userObj._linkWith(platform, authData);\n      },\n      /**\n       * Logs out the currently logged in user session. This will remove the\n       * session from disk, log out of linked services, and future calls to\n       * <code>current</code> will return <code>null</code>.\n       * @return {Promise}\n       */\n      logOut: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return Promise.resolve(null);\n        }\n\n        if (AV.User._currentUser !== null) {\n          AV.User._currentUser._logOutWithAll();\n          AV.User._currentUser._isCurrentUser = false;\n        }\n        AV.User._currentUserMatchesDisk = true;\n        AV.User._currentUser = null;\n        return AV.localStorage\n          .removeItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY))\n          .then(() => AV._refreshSubscriptionId());\n      },\n\n      /**\n       *Create a follower query for special user to query the user's followers.\n       * @param {String} userObjectId The user object id.\n       * @return {AV.FriendShipQuery}\n       * @since 0.3.0\n       */\n      followerQuery: function(userObjectId) {\n        if (!userObjectId || !_.isString(userObjectId)) {\n          throw new Error('Invalid user object id.');\n        }\n        var query = new AV.FriendShipQuery('_Follower');\n        query._friendshipTag = 'follower';\n        query.equalTo(\n          'user',\n          AV.Object.createWithoutData('_User', userObjectId)\n        );\n        return query;\n      },\n\n      /**\n       *Create a followee query for special user to query the user's followees.\n       * @param {String} userObjectId The user object id.\n       * @return {AV.FriendShipQuery}\n       * @since 0.3.0\n       */\n      followeeQuery: function(userObjectId) {\n        if (!userObjectId || !_.isString(userObjectId)) {\n          throw new Error('Invalid user object id.');\n        }\n        var query = new AV.FriendShipQuery('_Followee');\n        query._friendshipTag = 'followee';\n        query.equalTo(\n          'user',\n          AV.Object.createWithoutData('_User', userObjectId)\n        );\n        return query;\n      },\n\n      /**\n       * Requests a password reset email to be sent to the specified email address\n       * associated with the user account. This email allows the user to securely\n       * reset their password on the AV site.\n       *\n       * @param {String} email The email address associated with the user that\n       *     forgot their password.\n       * @return {Promise}\n       */\n      requestPasswordReset: function(email) {\n        var json = { email: email };\n        var request = AVRequest(\n          'requestPasswordReset',\n          null,\n          null,\n          'POST',\n          json\n        );\n        return request;\n      },\n\n      /**\n       * Requests a verify email to be sent to the specified email address\n       * associated with the user account. This email allows the user to securely\n       * verify their email address on the AV site.\n       *\n       * @param {String} email The email address associated with the user that\n       *     doesn't verify their email address.\n       * @return {Promise}\n       */\n      requestEmailVerify: function(email) {\n        var json = { email: email };\n        var request = AVRequest('requestEmailVerify', null, null, 'POST', json);\n        return request;\n      },\n\n      /**\n       * Requests a verify sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * verify their mobile phone number by calling AV.User.verifyMobilePhone\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number associated with the\n       *                  user that doesn't verify their mobile phone number.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestMobilePhoneVerify: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestMobilePhoneVerify',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Requests a reset password sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * reset their account's password by calling AV.User.resetPasswordBySmsCode\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n       *                  user that doesn't verify their mobile phone number.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestPasswordResetBySmsCode: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestPasswordResetBySmsCode',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Makes a call to reset user's account password by sms code and new password.\n       * The sms code is sent by AV.User.requestPasswordResetBySmsCode.\n       * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n       * @param {String} password The new password.\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      resetPasswordBySmsCode: function(code, password) {\n        var json = { password: password };\n        var request = AVRequest(\n          'resetPasswordBySmsCode',\n          null,\n          code,\n          'PUT',\n          json\n        );\n        return request;\n      },\n\n      /**\n       * Makes a call to verify sms code that sent by AV.User.Cloud.requestSmsCode\n       * If verify successfully,the user mobilePhoneVerified attribute will be true.\n       * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      verifyMobilePhone: function(code) {\n        var request = AVRequest('verifyMobilePhone', null, code, 'POST', null);\n        return request;\n      },\n\n      /**\n       * Requests a logIn sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * login by AV.User.logInWithMobilePhoneSmsCode function.\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n       *           user that want to login by AV.User.logInWithMobilePhoneSmsCode\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestLoginSmsCode: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestLoginSmsCode',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Retrieves the currently logged in AVUser with a valid session,\n       * either from memory or localStorage, if necessary.\n       * @return {Promise.<AV.User>} resolved with the currently logged in AV.User.\n       */\n      currentAsync: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return Promise.resolve(null);\n        }\n\n        if (AV.User._currentUser) {\n          return Promise.resolve(AV.User._currentUser);\n        }\n\n        if (AV.User._currentUserMatchesDisk) {\n          return Promise.resolve(AV.User._currentUser);\n        }\n\n        return AV.localStorage\n          .getItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY))\n          .then(function(userData) {\n            if (!userData) {\n              return null;\n            }\n\n            // Load the user from local storage.\n            AV.User._currentUserMatchesDisk = true;\n\n            AV.User._currentUser = AV.Object._create('_User');\n            AV.User._currentUser._isCurrentUser = true;\n\n            var json = JSON.parse(userData);\n            AV.User._currentUser.id = json._id;\n            delete json._id;\n            AV.User._currentUser._sessionToken = json._sessionToken;\n            delete json._sessionToken;\n            AV.User._currentUser._finishFetch(json);\n            //AV.User._currentUser.set(json);\n\n            AV.User._currentUser._synchronizeAllAuthData();\n            AV.User._currentUser._refreshCache();\n            AV.User._currentUser._opSetQueue = [{}];\n            return AV.User._currentUser;\n          });\n      },\n\n      /**\n       * Retrieves the currently logged in AVUser with a valid session,\n       * either from memory or localStorage, if necessary.\n       * @return {AV.User} The currently logged in AV.User.\n       */\n      current: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return null;\n        }\n\n        if (AV.localStorage.async) {\n          const error = new Error(\n            'Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.'\n          );\n          error.code = 'SYNC_API_NOT_AVAILABLE';\n          throw error;\n        }\n\n        if (AV.User._currentUser) {\n          return AV.User._currentUser;\n        }\n\n        if (AV.User._currentUserMatchesDisk) {\n          return AV.User._currentUser;\n        }\n\n        // Load the user from local storage.\n        AV.User._currentUserMatchesDisk = true;\n\n        var userData = AV.localStorage.getItem(\n          AV._getAVPath(AV.User._CURRENT_USER_KEY)\n        );\n        if (!userData) {\n          return null;\n        }\n        AV.User._currentUser = AV.Object._create('_User');\n        AV.User._currentUser._isCurrentUser = true;\n\n        var json = JSON.parse(userData);\n        AV.User._currentUser.id = json._id;\n        delete json._id;\n        AV.User._currentUser._sessionToken = json._sessionToken;\n        delete json._sessionToken;\n        AV.User._currentUser._finishFetch(json);\n        //AV.User._currentUser.set(json);\n\n        AV.User._currentUser._synchronizeAllAuthData();\n        AV.User._currentUser._refreshCache();\n        AV.User._currentUser._opSetQueue = [{}];\n        return AV.User._currentUser;\n      },\n\n      /**\n       * Persists a user as currentUser to localStorage, and into the singleton.\n       * @private\n       */\n      _saveCurrentUser: function(user) {\n        var promise;\n        if (AV.User._currentUser !== user) {\n          promise = AV.User.logOut();\n        } else {\n          promise = Promise.resolve();\n        }\n        return promise.then(function() {\n          user._isCurrentUser = true;\n          AV.User._currentUser = user;\n\n          var json = user._toFullJSON();\n          json._id = user.id;\n          json._sessionToken = user._sessionToken;\n          return AV.localStorage\n            .setItemAsync(\n              AV._getAVPath(AV.User._CURRENT_USER_KEY),\n              JSON.stringify(json)\n            )\n            .then(function() {\n              AV.User._currentUserMatchesDisk = true;\n              return AV._refreshSubscriptionId();\n            });\n        });\n      },\n\n      _registerAuthenticationProvider: function(provider) {\n        AV.User._authProviders[provider.getAuthType()] = provider;\n        // Synchronize the current user with the auth provider.\n        if (!AV._config.disableCurrentUser && AV.User.current()) {\n          AV.User.current()._synchronizeAuthData(provider.getAuthType());\n        }\n      },\n\n      _logInWith: function(provider, authData, options) {\n        var user = AV.Object._create('_User');\n        return user._linkWith(provider, authData, options);\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/user.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = 157\n// module chunks = 0 1","const _ = require('underscore');\nconst debug = require('debug')('leancloud:query');\nconst AVError = require('./error');\nconst { _request, request } = require('./request');\nconst {\n  ensureArray,\n  transformFetchOptions,\n  continueWhile,\n} = require('./utils');\n\nconst requires = (value, message) => {\n  if (value === undefined) {\n    throw new Error(message);\n  }\n};\n\n// AV.Query is a way to create a list of AV.Objects.\nmodule.exports = function(AV) {\n  /**\n   * Creates a new AV.Query for the given AV.Object subclass.\n   * @param {Class|String} objectClass An instance of a subclass of AV.Object, or a AV className string.\n   * @class\n   *\n   * <p>AV.Query defines a query that is used to fetch AV.Objects. The\n   * most common use case is finding all objects that match a query through the\n   * <code>find</code> method. For example, this sample code fetches all objects\n   * of class <code>MyClass</code>. It calls a different function depending on\n   * whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.find().then(function(results) {\n   *   // results is an array of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to retrieve a single object whose id is\n   * known, through the get method. For example, this sample code fetches an\n   * object of class <code>MyClass</code> and id <code>myId</code>. It calls a\n   * different function depending on whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.get(myId).then(function(object) {\n   *   // object is an instance of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to count the number of objects that match\n   * the query without retrieving all of those objects. For example, this\n   * sample code counts the number of objects of the class <code>MyClass</code>\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.count().then(function(number) {\n   *   // There are number instances of MyClass.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   */\n  AV.Query = function(objectClass) {\n    if (_.isString(objectClass)) {\n      objectClass = AV.Object._getSubclass(objectClass);\n    }\n\n    this.objectClass = objectClass;\n\n    this.className = objectClass.prototype.className;\n\n    this._where = {};\n    this._include = [];\n    this._select = [];\n    this._limit = -1; // negative limit means, do not send a limit\n    this._skip = 0;\n    this._defaultParams = {};\n  };\n\n  /**\n   * Constructs a AV.Query that is the OR of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.or(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an or of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to OR.\n   * @return {AV.Query} The query that is the OR of the passed in queries.\n   */\n  AV.Query.or = function() {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function(q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._orQuery(queries);\n    return query;\n  };\n\n  /**\n   * Constructs a AV.Query that is the AND of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.and(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an 'and' of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to AND.\n   * @return {AV.Query} The query that is the AND of the passed in queries.\n   */\n  AV.Query.and = function() {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function(q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._andQuery(queries);\n    return query;\n  };\n\n  /**\n   * Retrieves a list of AVObjects that satisfy the CQL.\n   * CQL syntax please see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   *\n   * @param {String} cql A CQL string, see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   * @param {Array} pvalues An array contains placeholder values.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is resolved with the results when\n   * the query completes.\n   */\n  AV.Query.doCloudQuery = function(cql, pvalues, options) {\n    var params = { cql: cql };\n    if (_.isArray(pvalues)) {\n      params.pvalues = pvalues;\n    } else {\n      options = pvalues;\n    }\n\n    var request = _request('cloudQuery', null, null, 'GET', params, options);\n    return request.then(function(response) {\n      //query to process results.\n      var query = new AV.Query(response.className);\n      var results = _.map(response.results, function(json) {\n        var obj = query._newObject(response);\n        if (obj._finishFetch) {\n          obj._finishFetch(query._processResult(json), true);\n        }\n        return obj;\n      });\n      return {\n        results: results,\n        count: response.count,\n        className: response.className,\n      };\n    });\n  };\n\n  /**\n   * Return a query with conditions from json.\n   * This can be useful to send a query from server side to client side.\n   * @since 4.0.0\n   * @param {Object} json from {@link AV.Query#toJSON}\n   * @return {AV.Query}\n   */\n  AV.Query.fromJSON = ({\n    className,\n    where,\n    include,\n    select,\n    includeACL,\n    limit,\n    skip,\n    order,\n  }) => {\n    if (typeof className !== 'string') {\n      throw new TypeError('Invalid Query JSON, className must be a String.');\n    }\n    const query = new AV.Query(className);\n    _.extend(query, {\n      _where: where,\n      _include: include,\n      _select: select,\n      _includeACL: includeACL,\n      _limit: limit,\n      _skip: skip,\n      _order: order,\n    });\n    return query;\n  };\n\n  AV.Query._extend = AV._extend;\n\n  _.extend(\n    AV.Query.prototype,\n    /** @lends AV.Query.prototype */ {\n      //hook to iterate result. Added by dennis<xzhuang@avoscloud.com>.\n      _processResult: function(obj) {\n        return obj;\n      },\n\n      /**\n       * Constructs an AV.Object whose id is already known by fetching data from\n       * the server.\n       *\n       * @param {String} objectId The id of the object to be fetched.\n       * @param {AuthOptions} options\n       * @return {Promise.<AV.Object>}\n       */\n      get: function(objectId, options) {\n        if (!_.isString(objectId)) {\n          throw new Error('objectId must be a string');\n        }\n        if (objectId === '') {\n          return Promise.reject(\n            new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.')\n          );\n        }\n\n        var obj = this._newObject();\n        obj.id = objectId;\n\n        var queryJSON = this._getParams();\n        var fetchOptions = {};\n\n        if (queryJSON.keys) fetchOptions.keys = queryJSON.keys;\n        if (queryJSON.include) fetchOptions.include = queryJSON.include;\n        if (queryJSON.includeACL)\n          fetchOptions.includeACL = queryJSON.includeACL;\n\n        return _request(\n          'classes',\n          this.className,\n          objectId,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        ).then(response => {\n          if (_.isEmpty(response))\n            throw new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n          obj._finishFetch(obj.parse(response), true);\n          return obj;\n        });\n      },\n\n      /**\n       * Returns a JSON representation of this query.\n       * @return {Object}\n       */\n      toJSON() {\n        const {\n          className,\n          _where: where,\n          _include: include,\n          _select: select,\n          _includeACL: includeACL,\n          _limit: limit,\n          _skip: skip,\n          _order: order,\n        } = this;\n        return {\n          className,\n          where,\n          include,\n          select,\n          includeACL,\n          limit,\n          skip,\n          order,\n        };\n      },\n\n      _getParams: function() {\n        var params = _.extend({}, this._defaultParams, {\n          where: this._where,\n        });\n\n        if (this._include.length > 0) {\n          params.include = this._include.join(',');\n        }\n        if (this._select.length > 0) {\n          params.keys = this._select.join(',');\n        }\n        if (this._includeACL !== undefined) {\n          params.returnACL = this._includeACL;\n        }\n        if (this._limit >= 0) {\n          params.limit = this._limit;\n        }\n        if (this._skip > 0) {\n          params.skip = this._skip;\n        }\n        if (this._order !== undefined) {\n          params.order = this._order;\n        }\n\n        return params;\n      },\n\n      _newObject: function(response) {\n        var obj;\n        if (response && response.className) {\n          obj = new AV.Object(response.className);\n        } else {\n          obj = new this.objectClass();\n        }\n        return obj;\n      },\n      _createRequest(\n        params = this._getParams(),\n        options,\n        path = `/classes/${this.className}`\n      ) {\n        if (encodeURIComponent(JSON.stringify(params)).length > 2000) {\n          const body = {\n            requests: [\n              {\n                method: 'GET',\n                path: `/1.1${path}`,\n                params,\n              },\n            ],\n          };\n          return request({\n            path: '/batch',\n            method: 'POST',\n            data: body,\n            authOptions: options,\n          }).then(response => {\n            const result = response[0];\n            if (result.success) {\n              return result.success;\n            }\n            const error = new Error(\n              result.error.error || 'Unknown batch error'\n            );\n            error.code = result.error.code;\n            throw error;\n          });\n        }\n        return request({\n          method: 'GET',\n          path,\n          query: params,\n          authOptions: options,\n        });\n      },\n\n      _parseResponse(response) {\n        return _.map(response.results, json => {\n          var obj = this._newObject(response);\n          if (obj._finishFetch) {\n            obj._finishFetch(this._processResult(json), true);\n          }\n          return obj;\n        });\n      },\n\n      /**\n       * Retrieves a list of AVObjects that satisfy this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the results when\n       * the query completes.\n       */\n      find(options) {\n        const request = this._createRequest(undefined, options);\n        return request.then(this._parseResponse.bind(this));\n      },\n\n      /**\n       * scan a Query. masterKey required.\n       *\n       * @since 2.1.0\n       * @param {object} [options]\n       * @param {string} [options.orderedBy] specify the key to sort\n       * @param {number} [options.batchSize] specify the batch size for each request\n       * @param {AuthOptions} [authOptions]\n       * @return {AsyncIterator.<AV.Object>}\n       * @example const scan = new AV.Query(TestClass).scan({\n       *   orderedBy: 'objectId',\n       *   batchSize: 10,\n       * }, {\n       *   useMasterKey: true,\n       * });\n       * const getTen = () => Promise.all(new Array(10).fill(0).map(() => scan.next()));\n       * getTen().then(results => {\n       *   // results are fisrt 10 instances of TestClass\n       *   return getTen();\n       * }).then(results => {\n       *   // 11 - 20\n       * });\n       */\n      scan({ orderedBy, batchSize } = {}, authOptions) {\n        const condition = this._getParams();\n        debug('scan %O', condition);\n        if (condition.order) {\n          console.warn(\n            'The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan.'\n          );\n          delete condition.order;\n        }\n        if (condition.skip) {\n          console.warn(\n            'The skip option of the query is ignored for Query#scan.'\n          );\n          delete condition.skip;\n        }\n        if (condition.limit) {\n          console.warn(\n            'The limit option of the query is ignored for Query#scan.'\n          );\n          delete condition.limit;\n        }\n        if (orderedBy) condition.scan_key = orderedBy;\n        if (batchSize) condition.limit = batchSize;\n        let promise = Promise.resolve([]);\n        let cursor;\n        let done = false;\n        return {\n          next: () => {\n            promise = promise.then(remainResults => {\n              if (done) return [];\n              if (remainResults.length > 1) return remainResults;\n              // no cursor means we have reached the end\n              // except for the first time\n              if (!cursor && remainResults.length !== 0) {\n                done = true;\n                return remainResults;\n              }\n              // when only 1 item left in queue\n              // start the next request to see if it is the last one\n              return _request(\n                'scan/classes',\n                this.className,\n                null,\n                'GET',\n                cursor ? _.extend({}, condition, { cursor }) : condition,\n                authOptions\n              )\n                .then(response => {\n                  cursor = response.cursor;\n                  return this._parseResponse(response);\n                })\n                .then(results => {\n                  if (!results.length) done = true;\n                  return remainResults.concat(results);\n                });\n            });\n            return promise\n              .then(remainResults => remainResults.shift())\n              .then(result => ({\n                value: result,\n                done,\n              }));\n          },\n        };\n      },\n\n      /**\n       * Delete objects retrieved by this query.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the save\n       *     completes.\n       */\n      destroyAll: function(options) {\n        var self = this;\n        return self.find(options).then(function(objects) {\n          return AV.Object.destroyAll(objects, options);\n        });\n      },\n\n      /**\n       * Counts the number of objects that match this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the count when\n       * the query completes.\n       */\n      count: function(options) {\n        var params = this._getParams();\n        params.limit = 0;\n        params.count = 1;\n        var request = this._createRequest(params, options);\n\n        return request.then(function(response) {\n          return response.count;\n        });\n      },\n\n      /**\n       * Retrieves at most one AV.Object that satisfies this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the object when\n       * the query completes.\n       */\n      first: function(options) {\n        var self = this;\n\n        var params = this._getParams();\n        params.limit = 1;\n        var request = this._createRequest(params, options);\n\n        return request.then(function(response) {\n          return _.map(response.results, function(json) {\n            var obj = self._newObject();\n            if (obj._finishFetch) {\n              obj._finishFetch(self._processResult(json), true);\n            }\n            return obj;\n          })[0];\n        });\n      },\n\n      /**\n       * Sets the number of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is to skip zero results.\n       * @param {Number} n the number of results to skip.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      skip: function(n) {\n        requires(n, 'undefined is not a valid skip value');\n        this._skip = n;\n        return this;\n      },\n\n      /**\n       * Sets the limit of the number of results to return. The default limit is\n       * 100, with a maximum of 1000 results being returned at a time.\n       * @param {Number} n the number of results to limit to.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      limit: function(n) {\n        requires(n, 'undefined is not a valid limit value');\n        this._limit = n;\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that the AV.Object must contain.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      equalTo: function(key, value) {\n        requires(key, 'undefined is not a valid key');\n        requires(value, 'undefined is not a valid value');\n        this._where[key] = AV._encode(value);\n        return this;\n      },\n\n      /**\n       * Helper for condition queries\n       * @private\n       */\n      _addCondition: function(key, condition, value) {\n        requires(key, 'undefined is not a valid condition key');\n        requires(condition, 'undefined is not a valid condition');\n        requires(value, 'undefined is not a valid condition value');\n\n        // Check if we already have a condition\n        if (!this._where[key]) {\n          this._where[key] = {};\n        }\n        this._where[key][condition] = AV._encode(value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular\n       * <strong>array</strong> key's length to be equal to the provided value.\n       * @param {String} key The array key to check.\n       * @param value The length value.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      sizeEqualTo: function(key, value) {\n        this._addCondition(key, '$size', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be not equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that must not be equalled.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      notEqualTo: function(key, value) {\n        this._addCondition(key, '$ne', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be less than the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an upper bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      lessThan: function(key, value) {\n        this._addCondition(key, '$lt', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be greater than the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an lower bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      greaterThan: function(key, value) {\n        this._addCondition(key, '$gt', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be less than or equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an upper bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      lessThanOrEqualTo: function(key, value) {\n        this._addCondition(key, '$lte', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be greater than or equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an lower bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      greaterThanOrEqualTo: function(key, value) {\n        this._addCondition(key, '$gte', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be contained in the provided list of values.\n       * @param {String} key The key to check.\n       * @param {Array} values The values that will match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      containedIn: function(key, values) {\n        this._addCondition(key, '$in', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * not be contained in the provided list of values.\n       * @param {String} key The key to check.\n       * @param {Array} values The values that will not match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      notContainedIn: function(key, values) {\n        this._addCondition(key, '$nin', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * contain each one of the provided list of values.\n       * @param {String} key The key to check.  This key's value must be an array.\n       * @param {Array} values The values that will match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      containsAll: function(key, values) {\n        this._addCondition(key, '$all', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding objects that contain the given key.\n       * @param {String} key The key that should exist.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      exists: function(key) {\n        this._addCondition(key, '$exists', true);\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding objects that do not contain a given key.\n       * @param {String} key The key that should not exist\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotExist: function(key) {\n        this._addCondition(key, '$exists', false);\n        return this;\n      },\n\n      /**\n       * Add a regular expression constraint for finding string values that match\n       * the provided regular expression.\n       * This may be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {RegExp} regex The regular expression pattern to match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matches: function(key, regex, modifiers) {\n        this._addCondition(key, '$regex', regex);\n        if (!modifiers) {\n          modifiers = '';\n        }\n        // Javascript regex options support mig as inline options but store them\n        // as properties of the object. We support mi & should migrate them to\n        // modifiers\n        if (regex.ignoreCase) {\n          modifiers += 'i';\n        }\n        if (regex.multiline) {\n          modifiers += 'm';\n        }\n\n        if (modifiers && modifiers.length) {\n          this._addCondition(key, '$options', modifiers);\n        }\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value matches a AV.Query\n       * constraint.\n       * @param {String} key The key that the contains the object to match the\n       *                     query.\n       * @param {AV.Query} query The query that should match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matchesQuery: function(key, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$inQuery', queryJSON);\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value not matches a\n       * AV.Query constraint.\n       * @param {String} key The key that the contains the object to match the\n       *                     query.\n       * @param {AV.Query} query The query that should not match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotMatchQuery: function(key, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$notInQuery', queryJSON);\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value matches a value in\n       * an object returned by a different AV.Query.\n       * @param {String} key The key that contains the value that is being\n       *                     matched.\n       * @param {String} queryKey The key in the objects returned by the query to\n       *                          match against.\n       * @param {AV.Query} query The query to run.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matchesKeyInQuery: function(key, queryKey, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$select', { key: queryKey, query: queryJSON });\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value not match a value in\n       * an object returned by a different AV.Query.\n       * @param {String} key The key that contains the value that is being\n       *                     excluded.\n       * @param {String} queryKey The key in the objects returned by the query to\n       *                          match against.\n       * @param {AV.Query} query The query to run.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotMatchKeyInQuery: function(key, queryKey, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$dontSelect', {\n          key: queryKey,\n          query: queryJSON,\n        });\n        return this;\n      },\n\n      /**\n       * Add constraint that at least one of the passed in queries matches.\n       * @param {Array} queries\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       * @private\n       */\n      _orQuery: function(queries) {\n        var queryJSON = _.map(queries, function(q) {\n          return q._getParams().where;\n        });\n\n        this._where.$or = queryJSON;\n        return this;\n      },\n\n      /**\n       * Add constraint that both of the passed in queries matches.\n       * @param {Array} queries\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       * @private\n       */\n      _andQuery: function(queries) {\n        var queryJSON = _.map(queries, function(q) {\n          return q._getParams().where;\n        });\n\n        this._where.$and = queryJSON;\n        return this;\n      },\n\n      /**\n       * Converts a string into a regex that matches it.\n       * Surrounding with \\Q .. \\E does this, we just need to escape \\E's in\n       * the text separately.\n       * @private\n       */\n      _quote: function(s) {\n        return '\\\\Q' + s.replace('\\\\E', '\\\\E\\\\\\\\E\\\\Q') + '\\\\E';\n      },\n\n      /**\n       * Add a constraint for finding string values that contain a provided\n       * string.  This may be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} substring The substring that the value must contain.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      contains: function(key, value) {\n        this._addCondition(key, '$regex', this._quote(value));\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding string values that start with a provided\n       * string.  This query will use the backend index, so it will be fast even\n       * for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} prefix The substring that the value must start with.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      startsWith: function(key, value) {\n        this._addCondition(key, '$regex', '^' + this._quote(value));\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding string values that end with a provided\n       * string.  This will be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} suffix The substring that the value must end with.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      endsWith: function(key, value) {\n        this._addCondition(key, '$regex', this._quote(value) + '$');\n        return this;\n      },\n\n      /**\n       * Sorts the results in ascending order by the given key.\n       *\n       * @param {String} key The key to order by.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      ascending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        this._order = key;\n        return this;\n      },\n\n      /**\n       * Also sorts the results in ascending order by the given key. The previous sort keys have\n       * precedence over this key.\n       *\n       * @param {String} key The key to order by\n       * @return {AV.Query} Returns the query so you can chain this call.\n       */\n      addAscending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        if (this._order) this._order += ',' + key;\n        else this._order = key;\n        return this;\n      },\n\n      /**\n       * Sorts the results in descending order by the given key.\n       *\n       * @param {String} key The key to order by.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      descending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        this._order = '-' + key;\n        return this;\n      },\n\n      /**\n       * Also sorts the results in descending order by the given key. The previous sort keys have\n       * precedence over this key.\n       *\n       * @param {String} key The key to order by\n       * @return {AV.Query} Returns the query so you can chain this call.\n       */\n      addDescending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        if (this._order) this._order += ',-' + key;\n        else this._order = '-' + key;\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      near: function(key, point) {\n        if (!(point instanceof AV.GeoPoint)) {\n          // Try to cast it to a GeoPoint, so that near(\"loc\", [20,30]) works.\n          point = new AV.GeoPoint(point);\n        }\n        this._addCondition(key, '$nearSphere', point);\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param maxDistance Maximum distance (in radians) of results to return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinRadians: function(key, point, distance) {\n        this.near(key, point);\n        this._addCondition(key, '$maxDistance', distance);\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * Radius of earth used is 3958.8 miles.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Number} maxDistance Maximum distance (in miles) of results to\n       *     return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinMiles: function(key, point, distance) {\n        return this.withinRadians(key, point, distance / 3958.8);\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * Radius of earth used is 6371.0 kilometers.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Number} maxDistance Maximum distance (in kilometers) of results\n       *     to return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinKilometers: function(key, point, distance) {\n        return this.withinRadians(key, point, distance / 6371.0);\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's\n       * coordinates be contained within a given rectangular geographic bounding\n       * box.\n       * @param {String} key The key to be constrained.\n       * @param {AV.GeoPoint} southwest\n       *     The lower-left inclusive corner of the box.\n       * @param {AV.GeoPoint} northeast\n       *     The upper-right inclusive corner of the box.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinGeoBox: function(key, southwest, northeast) {\n        if (!(southwest instanceof AV.GeoPoint)) {\n          southwest = new AV.GeoPoint(southwest);\n        }\n        if (!(northeast instanceof AV.GeoPoint)) {\n          northeast = new AV.GeoPoint(northeast);\n        }\n        this._addCondition(key, '$within', { $box: [southwest, northeast] });\n        return this;\n      },\n\n      /**\n       * Include nested AV.Objects for the provided key.  You can use dot\n       * notation to specify which fields in the included object are also fetch.\n       * @param {String[]} keys The name of the key to include.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      include: function(keys) {\n        requires(keys, 'undefined is not a valid key');\n        _.forEach(arguments, keys => {\n          this._include = this._include.concat(ensureArray(keys));\n        });\n        return this;\n      },\n\n      /**\n       * Include the ACL.\n       * @param {Boolean} [value=true] Whether to include the ACL\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      includeACL: function(value = true) {\n        this._includeACL = value;\n        return this;\n      },\n\n      /**\n       * Restrict the fields of the returned AV.Objects to include only the\n       * provided keys.  If this is called multiple times, then all of the keys\n       * specified in each of the calls will be included.\n       * @param {String[]} keys The names of the keys to include.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      select: function(keys) {\n        requires(keys, 'undefined is not a valid key');\n        _.forEach(arguments, keys => {\n          this._select = this._select.concat(ensureArray(keys));\n        });\n        return this;\n      },\n\n      /**\n       * Iterates over each result of a query, calling a callback for each one. If\n       * the callback returns a promise, the iteration will not continue until\n       * that promise has been fulfilled. If the callback returns a rejected\n       * promise, then iteration will stop with that error. The items are\n       * processed in an unspecified order. The query may not have any sort order,\n       * and may not use limit or skip.\n       * @param callback {Function} Callback that will be called with each result\n       *     of the query.\n       * @return {Promise} A promise that will be fulfilled once the\n       *     iteration has completed.\n       */\n      each: function(callback, options = {}) {\n        if (this._order || this._skip || this._limit >= 0) {\n          var error = new Error(\n            'Cannot iterate on a query with sort, skip, or limit.'\n          );\n          return Promise.reject(error);\n        }\n\n        var query = new AV.Query(this.objectClass);\n        // We can override the batch size from the options.\n        // This is undocumented, but useful for testing.\n        query._limit = options.batchSize || 100;\n        query._where = _.clone(this._where);\n        query._include = _.clone(this._include);\n\n        query.ascending('objectId');\n\n        var finished = false;\n        return continueWhile(\n          function() {\n            return !finished;\n          },\n          function() {\n            return query.find(options).then(function(results) {\n              var callbacksDone = Promise.resolve();\n              _.each(results, function(result) {\n                callbacksDone = callbacksDone.then(function() {\n                  return callback(result);\n                });\n              });\n\n              return callbacksDone.then(function() {\n                if (results.length >= query._limit) {\n                  query.greaterThan('objectId', results[results.length - 1].id);\n                } else {\n                  finished = true;\n                }\n              });\n            });\n          }\n        );\n      },\n\n      /**\n       * Subscribe the changes of this query.\n       *\n       * LiveQuery is not included in the default bundle: {@link https://url.leanapp.cn/enable-live-query}.\n       *\n       * @since 3.0.0\n       * @return {AV.LiveQuery} An eventemitter which can be used to get LiveQuery updates;\n       */\n      subscribe(options) {\n        return AV.LiveQuery.init(this, options);\n      },\n    }\n  );\n\n  AV.FriendShipQuery = AV.Query._extend({\n    _newObject: function() {\n      const UserClass = AV.Object._getSubclass('_User');\n      return new UserClass();\n    },\n    _processResult: function(json) {\n      if (json && json[this._friendshipTag]) {\n        var user = json[this._friendshipTag];\n        if (user.__type === 'Pointer' && user.className === '_User') {\n          delete user.__type;\n          delete user.className;\n        }\n        return user;\n      } else {\n        return null;\n      }\n    },\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/query.js","const _ = require('underscore');\nconst EventEmitter = require('eventemitter3');\nconst { inherits } = require('./utils');\nconst { request } = require('./request');\n\nconst subscribe = (queryJSON, subscriptionId) =>\n  request({\n    method: 'POST',\n    path: '/LiveQuery/subscribe',\n    data: {\n      query: queryJSON,\n      id: subscriptionId,\n    },\n  });\n\nmodule.exports = AV => {\n  const requireRealtime = () => {\n    if (!AV._config.realtime) {\n      throw new Error(\n        'LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query'\n      );\n    }\n  };\n  /**\n   * @class\n   * A LiveQuery, created by {@link AV.Query#subscribe} is an EventEmitter notifies changes of the Query.\n   * @since 3.0.0\n   */\n  AV.LiveQuery = inherits(\n    EventEmitter,\n    /** @lends AV.LiveQuery.prototype */ {\n      constructor(id, client, queryJSON, subscriptionId) {\n        EventEmitter.apply(this);\n        this.id = id;\n        this._client = client;\n        this._client.register(this);\n        this._queryJSON = queryJSON;\n        this._subscriptionId = subscriptionId;\n        this._onMessage = this._dispatch.bind(this);\n        this._onReconnect = () => {\n          subscribe(this._queryJSON, this._subscriptionId).catch(error =>\n            console.error(`LiveQuery resubscribe error: ${error.message}`)\n          );\n        };\n        client.on('message', this._onMessage);\n        client.on('reconnect', this._onReconnect);\n      },\n      _dispatch(message) {\n        message.forEach(({ op, object, query_id: queryId, updatedKeys }) => {\n          if (queryId !== this.id) return;\n          const target = AV.parseJSON(\n            _.extend(\n              {\n                __type: object.className === '_File' ? 'File' : 'Object',\n              },\n              object\n            )\n          );\n          if (updatedKeys) {\n            /**\n             * An existing AV.Object which fulfills the Query you subscribe is updated.\n             * @event AV.LiveQuery#update\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            /**\n             * An existing AV.Object which doesn't fulfill the Query is updated and now it fulfills the Query.\n             * @event AV.LiveQuery#enter\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            /**\n             * An existing AV.Object which fulfills the Query is updated and now it doesn't fulfill the Query.\n             * @event AV.LiveQuery#leave\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            this.emit(op, target, updatedKeys);\n          } else {\n            /**\n             * A new AV.Object which fulfills the Query you subscribe is created.\n             * @event AV.LiveQuery#create\n             * @param {AV.Object|AV.File} target updated object\n             */\n            /**\n             * An existing AV.Object which fulfills the Query you subscribe is deleted.\n             * @event AV.LiveQuery#delete\n             * @param {AV.Object|AV.File} target updated object\n             */\n            this.emit(op, target);\n          }\n        });\n      },\n      /**\n       * unsubscribe the query\n       *\n       * @return {Promise}\n       */\n      unsubscribe() {\n        const client = this._client;\n        client.off('message', this._onMessage);\n        client.off('reconnect', this._onReconnect);\n        client.deregister(this);\n        return request({\n          method: 'POST',\n          path: '/LiveQuery/unsubscribe',\n          data: {\n            id: client.id,\n            query_id: this.id,\n          },\n        });\n      },\n    },\n    /** @lends AV.LiveQuery */\n    {\n      init(\n        query,\n        {\n          subscriptionId: userDefinedSubscriptionId = AV._getSubscriptionId(),\n        } = {}\n      ) {\n        requireRealtime();\n        if (!(query instanceof AV.Query))\n          throw new TypeError('LiveQuery must be inited with a Query');\n        return Promise.resolve(userDefinedSubscriptionId).then(subscriptionId =>\n          AV._config.realtime\n            .createLiveQueryClient(subscriptionId)\n            .then(liveQueryClient => {\n              const { where, keys, returnACL } = query._getParams();\n              const queryJSON = {\n                where,\n                keys,\n                returnACL,\n                className: query.className,\n              };\n              const promise = subscribe(queryJSON, subscriptionId)\n                .then(\n                  ({ query_id: queryId }) =>\n                    new AV.LiveQuery(\n                      queryId,\n                      liveQueryClient,\n                      queryJSON,\n                      subscriptionId\n                    )\n                )\n                .finally(() => {\n                  liveQueryClient.deregister(promise);\n                });\n              liveQueryClient.register(promise);\n              return promise;\n            })\n        );\n      },\n      /**\n       * Pause the LiveQuery connection. This is useful to deactivate the SDK when the app is swtiched to background.\n       * @static\n       * @return void\n       */\n      pause() {\n        requireRealtime();\n        return AV._config.realtime.pause();\n      },\n      /**\n       * Resume the LiveQuery connection. All subscriptions will be restored after reconnection.\n       * @static\n       * @return void\n       */\n      resume() {\n        requireRealtime();\n        return AV._config.realtime.resume();\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/live-query.js","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/eventemitter3/index.js\n// module id = 160\n// module chunks = 0 1","const _ = require('underscore');\nconst { tap } = require('./utils');\n\nmodule.exports = AV => {\n  /**\n   * @class\n   * @example\n   * AV.Captcha.request().then(captcha => {\n   *   captcha.bind({\n   *     textInput: 'code', // the id for textInput\n   *     image: 'captcha',\n   *     verifyButton: 'verify',\n   *   }, {\n   *     success: (validateCode) => {}, // next step\n   *     error: (error) => {}, // present error.message to user\n   *   });\n   * });\n   */\n  AV.Captcha = function Captcha(options, authOptions) {\n    this._options = options;\n    this._authOptions = authOptions;\n    /**\n     * The image url of the captcha\n     * @type string\n     */\n    this.url = undefined;\n    /**\n     * The captchaToken of the captcha.\n     * @type string\n     */\n    this.captchaToken = undefined;\n    /**\n     * The validateToken of the captcha.\n     * @type string\n     */\n    this.validateToken = undefined;\n  };\n\n  /**\n   * Refresh the captcha\n   * @return {Promise.<string>} a new capcha url\n   */\n  AV.Captcha.prototype.refresh = function refresh() {\n    return AV.Cloud._requestCaptcha(this._options, this._authOptions).then(\n      ({ captchaToken, url }) => {\n        _.extend(this, { captchaToken, url });\n        return url;\n      }\n    );\n  };\n\n  /**\n   * Verify the captcha\n   * @param {String} code The code from user input\n   * @return {Promise.<string>} validateToken if the code is valid\n   */\n  AV.Captcha.prototype.verify = function verify(code) {\n    return AV.Cloud.verifyCaptcha(code, this.captchaToken).then(\n      tap(validateToken => (this.validateToken = validateToken))\n    );\n  };\n\n  if (process.env.CLIENT_PLATFORM === 'Browser') {\n    /**\n     * Bind the captcha to HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     * @param [elements]\n     * @param {String|HTMLInputElement} [elements.textInput] An input element typed text, or the id for the element.\n     * @param {String|HTMLImageElement} [elements.image] An image element, or the id for the element.\n     * @param {String|HTMLElement} [elements.verifyButton] A button element, or the id for the element.\n     * @param [callbacks]\n     * @param {Function} [callbacks.success] Success callback will be called if the code is verified. The param `validateCode` can be used for further SMS request.\n     * @param {Function} [callbacks.error] Error callback will be called if something goes wrong, detailed in param `error.message`.\n     */\n    AV.Captcha.prototype.bind = function bind(\n      { textInput, image, verifyButton },\n      { success, error }\n    ) {\n      if (typeof textInput === 'string') {\n        textInput = document.getElementById(textInput);\n        if (!textInput)\n          throw new Error(`textInput with id ${textInput} not found`);\n      }\n      if (typeof image === 'string') {\n        image = document.getElementById(image);\n        if (!image) throw new Error(`image with id ${image} not found`);\n      }\n      if (typeof verifyButton === 'string') {\n        verifyButton = document.getElementById(verifyButton);\n        if (!verifyButton)\n          throw new Error(`verifyButton with id ${verifyButton} not found`);\n      }\n\n      this.__refresh = () =>\n        this.refresh()\n          .then(url => {\n            image.src = url;\n            if (textInput) {\n              textInput.value = '';\n              textInput.focus();\n            }\n          })\n          .catch(err => console.warn(`refresh captcha fail: ${err.message}`));\n      if (image) {\n        this.__image = image;\n        image.src = this.url;\n        image.addEventListener('click', this.__refresh);\n      }\n\n      this.__verify = () => {\n        const code = textInput.value;\n        this.verify(code)\n          .catch(err => {\n            this.__refresh();\n            throw err;\n          })\n          .then(success, error)\n          .catch(err => console.warn(`verify captcha fail: ${err.message}`));\n      };\n      if (textInput && verifyButton) {\n        this.__verifyButton = verifyButton;\n        verifyButton.addEventListener('click', this.__verify);\n      }\n    };\n\n    /**\n     * unbind the captcha from HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     */\n    AV.Captcha.prototype.unbind = function unbind() {\n      if (this.__image)\n        this.__image.removeEventListener('click', this.__refresh);\n      if (this.__verifyButton)\n        this.__verifyButton.removeEventListener('click', this.__verify);\n    };\n  }\n\n  /**\n   * Request a captcha\n   * @param [options]\n   * @param {Number} [options.width] width(px) of the captcha, ranged 60-200\n   * @param {Number} [options.height] height(px) of the captcha, ranged 30-100\n   * @param {Number} [options.size=4] length of the captcha, ranged 3-6. MasterKey required.\n   * @param {Number} [options.ttl=60] time to live(s), ranged 10-180. MasterKey required.\n   * @return {Promise.<AV.Captcha>}\n   */\n  AV.Captcha.request = (options, authOptions) => {\n    const captcha = new AV.Captcha(options, authOptions);\n    return captcha.refresh().then(() => captcha);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/captcha.js","const _ = require('underscore');\nconst { _request, request } = require('./request');\n\nmodule.exports = function(AV) {\n  /**\n   * Contains functions for calling and declaring\n   * <p><strong><em>\n   *   Some functions are only available from Cloud Code.\n   * </em></strong></p>\n   *\n   * @namespace\n   * @borrows AV.Captcha.request as requestCaptcha\n   */\n  AV.Cloud = AV.Cloud || {};\n\n  _.extend(\n    AV.Cloud,\n    /** @lends AV.Cloud */ {\n      /**\n       * Makes a call to a cloud function.\n       * @param {String} name The function name.\n       * @param {Object} data The parameters to send to the cloud function.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      run(name, data, options) {\n        return request({\n          service: 'engine',\n          method: 'POST',\n          path: `/functions/${name}`,\n          data: AV._encode(data, null, true),\n          authOptions: options,\n        }).then(resp => {\n          return AV._decode(resp).result;\n        });\n      },\n\n      /**\n       * Makes a call to a cloud function, you can send {AV.Object} as param or a field of param; the response\n       * from server will also be parsed as an {AV.Object}, array of {AV.Object}, or object includes {AV.Object}\n       * @param {String} name The function name.\n       * @param {Object} data The parameters to send to the cloud function.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that will be resolved with the result of the function.\n       */\n      rpc(name, data, options) {\n        if (_.isArray(data)) {\n          return Promise.reject(\n            new Error(\n              \"Can't pass Array as the param of rpc function in JavaScript SDK.\"\n            )\n          );\n        }\n\n        return request({\n          service: 'engine',\n          method: 'POST',\n          path: `/call/${name}`,\n          data: AV._encodeObjectOrArray(data),\n          authOptions: options,\n        }).then(resp => {\n          return AV._decode(resp).result;\n        });\n      },\n\n      /**\n       * Make a call to request server date time.\n       * @return {Promise.<Date>} A promise that will be resolved with the result\n       * of the function.\n       * @since 0.5.9\n       */\n      getServerDate() {\n        return _request('date', null, null, 'GET').then(function(resp) {\n          return AV._decode(resp);\n        });\n      },\n\n      /**\n       * Makes a call to request a sms code for operation verification.\n       * @param {String|Object} data The mobile phone number string or a JSON\n       *    object that contains mobilePhoneNumber,template,sign,op,ttl,name etc.\n       * @param {String} data.mobilePhoneNumber\n       * @param {String} [data.template] sms template name\n       * @param {String} [data.sign] sms signature name\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise} A promise that will be resolved if the request succeed\n       */\n      requestSmsCode(data, options = {}) {\n        if (_.isString(data)) {\n          data = { mobilePhoneNumber: data };\n        }\n        if (!data.mobilePhoneNumber) {\n          throw new Error('Missing mobilePhoneNumber.');\n        }\n        if (options.validateToken) {\n          data = _.extend({}, data, {\n            validate_token: options.validateToken,\n          });\n        }\n        return _request('requestSmsCode', null, null, 'POST', data, options);\n      },\n\n      /**\n       * Makes a call to verify sms code that sent by AV.Cloud.requestSmsCode\n       * @param {String} code The sms code sent by AV.Cloud.requestSmsCode\n       * @param {phone} phone The mobile phoner number(optional).\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      verifySmsCode(code, phone) {\n        if (!code) throw new Error('Missing sms code.');\n        var params = {};\n        if (_.isString(phone)) {\n          params['mobilePhoneNumber'] = phone;\n        }\n\n        return _request('verifySmsCode', code, null, 'POST', params);\n      },\n\n      _requestCaptcha(options, authOptions) {\n        return _request(\n          'requestCaptcha',\n          null,\n          null,\n          'GET',\n          options,\n          authOptions\n        ).then(({ captcha_url: url, captcha_token: captchaToken }) => ({\n          captchaToken,\n          url,\n        }));\n      },\n\n      /**\n       * Request a captcha.\n       */\n      requestCaptcha: AV.Captcha.request,\n\n      /**\n       * Verify captcha code. This is the low-level API for captcha.\n       * Checkout {@link AV.Captcha} for high abstract APIs.\n       * @param {String} code the code from user input\n       * @param {String} captchaToken captchaToken returned by {@link AV.Cloud.requestCaptcha}\n       * @return {Promise.<String>} validateToken if the code is valid\n       */\n      verifyCaptcha(code, captchaToken) {\n        return _request('verifyCaptcha', null, null, 'POST', {\n          captcha_code: code,\n          captcha_token: captchaToken,\n        }).then(({ validate_token: validateToken }) => validateToken);\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cloudfunction.js","const request = require('./request').request;\n\nmodule.exports = function(AV) {\n  AV.Installation = AV.Object.extend('_Installation');\n\n  /**\n   * @namespace\n   */\n  AV.Push = AV.Push || {};\n\n  /**\n   * Sends a push notification.\n   * @param {Object} data The data of the push notification.\n   * @param {String[]} [data.channels] An Array of channels to push to.\n   * @param {Date} [data.push_time] A Date object for when to send the push.\n   * @param {Date} [data.expiration_time]  A Date object for when to expire\n   *         the push.\n   * @param {Number} [data.expiration_interval] The seconds from now to expire the push.\n   * @param {Number} [data.flow_control] The clients to notify per second\n   * @param {AV.Query} [data.where] An AV.Query over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {String} [data.cql] A CQL statement over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {Object} data.data The data to send as part of the push.\n             More details:  https://url.leanapp.cn/pushData\n   * @param {AuthOptions} [options]\n   * @return {Promise}\n   */\n  AV.Push.send = function(data, options) {\n    if (data.where) {\n      data.where = data.where._getParams().where;\n    }\n\n    if (data.where && data.cql) {\n      throw new Error(\"Both where and cql can't be set\");\n    }\n\n    if (data.push_time) {\n      data.push_time = data.push_time.toJSON();\n    }\n\n    if (data.expiration_time) {\n      data.expiration_time = data.expiration_time.toJSON();\n    }\n\n    if (data.expiration_time && data.expiration_time_interval) {\n      throw new Error(\n        \"Both expiration_time and expiration_time_interval can't be set\"\n      );\n    }\n\n    return request({\n      service: 'push',\n      method: 'POST',\n      path: '/push',\n      data,\n      authOptions: options,\n    });\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/push.js","const _ = require('underscore');\nconst AVRequest = require('./request')._request;\nconst { getSessionToken } = require('./utils');\n\nmodule.exports = function(AV) {\n  const getUser = (options = {}) => {\n    const sessionToken = getSessionToken(options);\n    if (sessionToken) {\n      return AV.User._fetchUserBySessionToken(getSessionToken(options));\n    }\n    return AV.User.currentAsync();\n  };\n\n  const getUserPointer = options =>\n    getUser(options).then(currUser =>\n      AV.Object.createWithoutData('_User', currUser.id)._toPointer()\n    );\n\n  /**\n   * Contains functions to deal with Status in LeanCloud.\n   * @class\n   */\n  AV.Status = function(imageUrl, message) {\n    this.data = {};\n    this.inboxType = 'default';\n    this.query = null;\n    if (imageUrl && typeof imageUrl === 'object') {\n      this.data = imageUrl;\n    } else {\n      if (imageUrl) {\n        this.data.image = imageUrl;\n      }\n      if (message) {\n        this.data.message = message;\n      }\n    }\n    return this;\n  };\n\n  _.extend(\n    AV.Status.prototype,\n    /** @lends AV.Status.prototype */ {\n      /**\n       * Gets the value of an attribute in status data.\n       * @param {String} attr The string name of an attribute.\n       */\n      get: function(attr) {\n        return this.data[attr];\n      },\n      /**\n       * Sets a hash of model attributes on the status data.\n       * @param {String} key The key to set.\n       * @param {} value The value to give it.\n       */\n      set: function(key, value) {\n        this.data[key] = value;\n        return this;\n      },\n      /**\n       * Destroy this status,then it will not be avaiable in other user's inboxes.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy: function(options) {\n        if (!this.id)\n          return Promise.reject(new Error('The status id is not exists.'));\n        var request = AVRequest('statuses', null, this.id, 'DELETE', options);\n        return request;\n      },\n      /**\n       * Cast the AV.Status object to an AV.Object pointer.\n       * @return {AV.Object} A AV.Object pointer.\n       */\n      toObject: function() {\n        if (!this.id) return null;\n        return AV.Object.createWithoutData('_Status', this.id);\n      },\n      _getDataJSON: function() {\n        var json = _.clone(this.data);\n        return AV._encode(json);\n      },\n      /**\n       * Send a status by a AV.Query object.\n       * @since 0.3.0\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the send\n       *     completes.\n       * @example\n       *     // send a status to male users\n       *     var status = new AVStatus('image url', 'a message');\n       *     status.query = new AV.Query('_User');\n       *     status.query.equalTo('gender', 'male');\n       *     status.send().then(function(){\n       *              //send status successfully.\n       *      }, function(err){\n       *             //an error threw.\n       *             console.dir(err);\n       *      });\n       */\n      send: function(options = {}) {\n        if (!getSessionToken(options) && !AV.User.current()) {\n          throw new Error('Please signin an user.');\n        }\n        if (!this.query) {\n          return AV.Status.sendStatusToFollowers(this, options);\n        }\n\n        return getUserPointer(options)\n          .then(currUser => {\n            var query = this.query._getParams();\n            query.className = this.query.className;\n            var data = {};\n            data.query = query;\n            this.data = this.data || {};\n            this.data.source = this.data.source || currUser;\n            data.data = this._getDataJSON();\n            data.inboxType = this.inboxType || 'default';\n\n            return AVRequest('statuses', null, null, 'POST', data, options);\n          })\n          .then(response => {\n            this.id = response.objectId;\n            this.createdAt = AV._parseDate(response.createdAt);\n            return this;\n          });\n      },\n\n      _finishFetch: function(serverData) {\n        this.id = serverData.objectId;\n        this.createdAt = AV._parseDate(serverData.createdAt);\n        this.updatedAt = AV._parseDate(serverData.updatedAt);\n        this.messageId = serverData.messageId;\n        delete serverData.messageId;\n        delete serverData.objectId;\n        delete serverData.createdAt;\n        delete serverData.updatedAt;\n        this.data = AV._decode(serverData);\n      },\n    }\n  );\n\n  /**\n   * Send a status to current signined user's followers.\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendStatusToFollowers(status).then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendStatusToFollowers = function(status, options = {}) {\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    return getUserPointer(options).then(currUser => {\n      var query = {};\n      query.className = '_Follower';\n      query.keys = 'follower';\n      query.where = { user: currUser };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = status.inboxType || 'default';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function(response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * <p>Send  a status from current signined user to other user's private status inbox.</p>\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {String} target The target user or user's objectId.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     // send a private status to user '52e84e47e4b0f8de283b079b'\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendPrivateStatus(status, '52e84e47e4b0f8de283b079b').then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendPrivateStatus = function(status, target, options = {}) {\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    if (!target) {\n      throw new Error('Invalid target user.');\n    }\n    var userObjectId = _.isString(target) ? target : target.id;\n    if (!userObjectId) {\n      throw new Error('Invalid target user.');\n    }\n    return getUserPointer(options).then(currUser => {\n      var query = {};\n      query.className = '_User';\n      query.where = { objectId: userObjectId };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = 'private';\n      status.inboxType = 'private';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function(response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * Count unread statuses in someone's inbox.\n   * @since 0.3.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the count\n   *     completes.\n   * @example\n   *  AV.Status.countUnreadStatuses(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.countUnreadStatuses = function(\n    owner,\n    inboxType = 'default',\n    options = {}\n  ) {\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return Promise.resolve(owner || getUser(options)).then(owner => {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest(\n        'subscribe/statuses/count',\n        null,\n        null,\n        'GET',\n        params,\n        options\n      );\n    });\n  };\n\n  /**\n   * reset unread statuses count in someone's inbox.\n   * @since 2.1.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the reset\n   *     completes.\n   * @example\n   *  AV.Status.resetUnreadCount(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.resetUnreadCount = function(\n    owner,\n    inboxType = 'default',\n    options = {}\n  ) {\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return Promise.resolve(owner || getUser(options)).then(owner => {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest(\n        'subscribe/statuses/resetUnreadCount',\n        null,\n        null,\n        'POST',\n        params,\n        options\n      );\n    });\n  };\n\n  /**\n   * Create a status query to find someone's published statuses.\n   * @since 0.3.0\n   * @param {AV.User} source The status source, typically the publisher.\n   * @return {AV.Query} The query object for status.\n   * @example\n   *   //Find current user's published statuses.\n   *   var query = AV.Status.statusQuery(AV.User.current());\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.statusQuery = function(source) {\n    var query = new AV.Query('_Status');\n    if (source) {\n      query.equalTo('source', source);\n    }\n    return query;\n  };\n\n  /**\n   * <p>AV.InboxQuery defines a query that is used to fetch somebody's inbox statuses.</p>\n   * @class\n   */\n  AV.InboxQuery = AV.Query._extend(\n    /** @lends AV.InboxQuery.prototype */ {\n      _objectClass: AV.Status,\n      _sinceId: 0,\n      _maxId: 0,\n      _inboxType: 'default',\n      _owner: null,\n      _newObject: function() {\n        return new AV.Status();\n      },\n      _createRequest: function(params, options) {\n        return AV.InboxQuery.__super__._createRequest.call(\n          this,\n          params,\n          options,\n          '/subscribe/statuses'\n        );\n      },\n\n      /**\n       * Sets the messageId of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is zero.\n       * @param {Number} n the mesage id.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      sinceId: function(id) {\n        this._sinceId = id;\n        return this;\n      },\n      /**\n       * Sets the maximal messageId of results\n       * This is useful for pagination.\n       * Default is zero that is no limition.\n       * @param {Number} n the mesage id.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      maxId: function(id) {\n        this._maxId = id;\n        return this;\n      },\n      /**\n       * Sets the owner of the querying inbox.\n       * @param {AV.User} owner The inbox owner.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      owner: function(owner) {\n        this._owner = owner;\n        return this;\n      },\n      /**\n       * Sets the querying inbox type.default is 'default'.\n       * @param {Object} type The inbox type.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      inboxType: function(type) {\n        this._inboxType = type;\n        return this;\n      },\n      _getParams: function() {\n        var params = AV.InboxQuery.__super__._getParams.call(this);\n        params.owner = AV._encode(this._owner);\n        params.inboxType = AV._encode(this._inboxType);\n        params.sinceId = AV._encode(this._sinceId);\n        params.maxId = AV._encode(this._maxId);\n        return params;\n      },\n    }\n  );\n\n  /**\n   * Create a inbox status query to find someone's inbox statuses.\n   * @since 0.3.0\n   * @param {AV.User} owner The inbox's owner\n   * @param {String} inboxType The inbox type,'default' by default.\n   * @return {AV.InboxQuery} The inbox query object.\n   * @see AV.InboxQuery\n   * @example\n   *   //Find current user's default inbox statuses.\n   *   var query = AV.Status.inboxQuery(AV.User.current());\n   *   //find the statuses after the last message id\n   *   query.sinceId(lastMessageId);\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.inboxQuery = function(owner, inboxType) {\n    var query = new AV.InboxQuery(AV.Status);\n    if (owner) {\n      query._owner = owner;\n    }\n    if (inboxType) {\n      query._inboxType = inboxType;\n    }\n    return query;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/status.js","const _ = require('underscore');\nconst AVRequest = require('./request')._request;\n\nmodule.exports = function(AV) {\n  /**\n   * A builder to generate sort string for app searching.For example:\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var builder = new AV.SearchSortBuilder();\n   *   builder.ascending('key1').descending('key2','max');\n   *   var query = new AV.SearchQuery('Player');\n   *   query.sortBy(builder);\n   *   query.find().then();\n   */\n  AV.SearchSortBuilder = function() {\n    this._sortFields = [];\n  };\n\n  _.extend(\n    AV.SearchSortBuilder.prototype,\n    /** @lends AV.SearchSortBuilder.prototype */ {\n      _addField: function(key, order, mode, missing) {\n        var field = {};\n        field[key] = {\n          order: order || 'asc',\n          mode: mode || 'avg',\n          missing: '_' + (missing || 'last'),\n        };\n        this._sortFields.push(field);\n        return this;\n      },\n\n      /**\n       * Sorts the results in ascending order by the given key and options.\n       *\n       * @param {String} key The key to order by.\n       * @param {String} mode The sort mode, default is 'avg', you can choose\n       *                  'max' or 'min' too.\n       * @param {String} missing The missing key behaviour, default is 'last',\n       *                  you can choose 'first' too.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      ascending: function(key, mode, missing) {\n        return this._addField(key, 'asc', mode, missing);\n      },\n\n      /**\n       * Sorts the results in descending order by the given key and options.\n       *\n       * @param {String} key The key to order by.\n       * @param {String} mode The sort mode, default is 'avg', you can choose\n       *                  'max' or 'min' too.\n       * @param {String} missing The missing key behaviour, default is 'last',\n       *                  you can choose 'first' too.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      descending: function(key, mode, missing) {\n        return this._addField(key, 'desc', mode, missing);\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Object} options The other options such as mode,order, unit etc.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      whereNear: function(key, point, options) {\n        options = options || {};\n        var field = {};\n        var geo = {\n          lat: point.latitude,\n          lon: point.longitude,\n        };\n        var m = {\n          order: options.order || 'asc',\n          mode: options.mode || 'avg',\n          unit: options.unit || 'km',\n        };\n        m[key] = geo;\n        field['_geo_distance'] = m;\n\n        this._sortFields.push(field);\n        return this;\n      },\n\n      /**\n       * Build a sort string by configuration.\n       * @return {String} the sort string.\n       */\n      build: function() {\n        return JSON.stringify(AV._encode(this._sortFields));\n      },\n    }\n  );\n\n  /**\n   * App searching query.Use just like AV.Query:\n   *\n   * Visit <a href='https://leancloud.cn/docs/app_search_guide.html'>App Searching Guide</a>\n   * for more details.\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var query = new AV.SearchQuery('Player');\n   *   query.queryString('*');\n   *   query.find().then(function(results) {\n   *     console.log('Found %d objects', query.hits());\n   *     //Process results\n   *   });\n   */\n  AV.SearchQuery = AV.Query._extend(\n    /** @lends AV.SearchQuery.prototype */ {\n      _sid: null,\n      _hits: 0,\n      _queryString: null,\n      _highlights: null,\n      _sortBuilder: null,\n      _createRequest: function(params, options) {\n        return AVRequest(\n          'search/select',\n          null,\n          null,\n          'GET',\n          params || this._getParams(),\n          options\n        );\n      },\n\n      /**\n       * Sets the sid of app searching query.Default is null.\n       * @param {String} sid  Scroll id for searching.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      sid: function(sid) {\n        this._sid = sid;\n        return this;\n      },\n\n      /**\n       * Sets the query string of app searching.\n       * @param {String} q  The query string.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      queryString: function(q) {\n        this._queryString = q;\n        return this;\n      },\n\n      /**\n       * Sets the highlight fields. Such as\n       * <pre><code>\n       *   query.highlights('title');\n       *   //or pass an array.\n       *   query.highlights(['title', 'content'])\n       * </code></pre>\n       * @param {String|String[]} highlights a list of fields.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      highlights: function(highlights) {\n        var objects;\n        if (highlights && _.isString(highlights)) {\n          objects = arguments;\n        } else {\n          objects = highlights;\n        }\n        this._highlights = objects;\n        return this;\n      },\n\n      /**\n       * Sets the sort builder for this query.\n       * @see AV.SearchSortBuilder\n       * @param { AV.SearchSortBuilder} builder The sort builder.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       *\n       */\n      sortBy: function(builder) {\n        this._sortBuilder = builder;\n        return this;\n      },\n\n      /**\n       * Returns the number of objects that match this query.\n       * @return {Number}\n       */\n      hits: function() {\n        if (!this._hits) {\n          this._hits = 0;\n        }\n        return this._hits;\n      },\n\n      _processResult: function(json) {\n        delete json['className'];\n        delete json['_app_url'];\n        delete json['_deeplink'];\n        return json;\n      },\n\n      /**\n       * Returns true when there are more documents can be retrieved by this\n       * query instance, you can call find function to get more results.\n       * @see AV.SearchQuery#find\n       * @return {Boolean}\n       */\n      hasMore: function() {\n        return !this._hitEnd;\n      },\n\n      /**\n       * Reset current query instance state(such as sid, hits etc) except params\n       * for a new searching. After resetting, hasMore() will return true.\n       */\n      reset: function() {\n        this._hitEnd = false;\n        this._sid = null;\n        this._hits = 0;\n      },\n\n      /**\n       * Retrieves a list of AVObjects that satisfy this query.\n       * Either options.success or options.error is called when the find\n       * completes.\n       *\n       * @see AV.Query#find\n       * @return {Promise} A promise that is resolved with the results when\n       * the query completes.\n       */\n      find: function() {\n        var self = this;\n\n        var request = this._createRequest();\n\n        return request.then(function(response) {\n          //update sid for next querying.\n          if (response.sid) {\n            self._oldSid = self._sid;\n            self._sid = response.sid;\n          } else {\n            self._sid = null;\n            self._hitEnd = true;\n          }\n          self._hits = response.hits || 0;\n\n          return _.map(response.results, function(json) {\n            if (json.className) {\n              response.className = json.className;\n            }\n            var obj = self._newObject(response);\n            obj.appURL = json['_app_url'];\n            obj._finishFetch(self._processResult(json), true);\n            return obj;\n          });\n        });\n      },\n\n      _getParams: function() {\n        var params = AV.SearchQuery.__super__._getParams.call(this);\n        delete params.where;\n        if (this.className) {\n          params.clazz = this.className;\n        }\n        if (this._sid) {\n          params.sid = this._sid;\n        }\n        if (!this._queryString) {\n          throw new Error('Please set query string.');\n        } else {\n          params.q = this._queryString;\n        }\n        if (this._highlights) {\n          params.highlights = this._highlights.join(',');\n        }\n        if (this._sortBuilder && params.order) {\n          throw new Error('sort and order can not be set at same time.');\n        }\n        if (this._sortBuilder) {\n          params.sort = this._sortBuilder.build();\n        }\n\n        return params;\n      },\n    }\n  );\n};\n\n/**\n * Sorts the results in ascending order by the given key.\n *\n * @method AV.SearchQuery#ascending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in ascending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addAscending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Sorts the results in descending order by the given key.\n *\n * @method AV.SearchQuery#descending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in descending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addDescending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Include nested AV.Objects for the provided key.  You can use dot\n * notation to specify which fields in the included object are also fetch.\n * @method AV.SearchQuery#include\n * @param {String[]} keys The name of the key to include.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the number of results to skip before returning any results.\n * This is useful for pagination.\n * Default is to skip zero results.\n * @method AV.SearchQuery#skip\n * @param {Number} n the number of results to skip.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the limit of the number of results to return. The default limit is\n * 100, with a maximum of 1000 results being returned at a time.\n * @method AV.SearchQuery#limit\n * @param {Number} n the number of results to limit to.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/search.js","const _ = require('underscore');\nconst AVError = require('./error');\nconst { request } = require('./request');\n\nmodule.exports = function(AV) {\n  /**\n   *  LeanCloud\n   *  <a href='/docs/leaninsight_guide.html'></a>\n   * <p><strong><em>\n   *   \n   * </em></strong></p>\n   * @namespace\n   */\n  AV.Insight = AV.Insight || {};\n\n  _.extend(\n    AV.Insight,\n    /** @lends AV.Insight */ {\n      /**\n       *  Insight  Job id id \n       * AV.Insight.JobQuery \n       * @param {Object} jobConfig  JSON <code><pre>\n       *                   { \"sql\" : \"select count(*) as c,gender from _User group by gender\",\n       *                     \"saveAs\": {\n       *                         \"className\" : \"UserGender\",\n       *                         \"limit\": 1\n       *                      }\n       *                   }\n       *                  </pre></code>\n       *               sql  SQL  saveAs limit  1000\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      startJob: function(jobConfig, options) {\n        if (!jobConfig || !jobConfig.sql) {\n          throw new Error('Please provide the sql to run the job.');\n        }\n        var data = {\n          jobConfig: jobConfig,\n          appId: AV.applicationId,\n        };\n        return request({\n          path: '/bigquery/jobs',\n          method: 'POST',\n          data: AV._encode(data, null, true),\n          authOptions: options,\n          signKey: false,\n        }).then(resp => AV._decode(resp).id);\n      },\n\n      /**\n       *  Insight \n       *  <p><strong><em>\n       *     \n       *  </em></strong></p>\n       * @param {String} event \n       * @param {Function}  (err, id) err \n       *                   id  id id AV.Insight.JobQuery \n       *\n       */\n      on: function(event, cb) {},\n    }\n  );\n\n  /**\n   *  Insight \n   * @class\n   * @param {String} id  id\n   * @since 0.5.5\n   */\n  AV.Insight.JobQuery = function(id, className) {\n    if (!id) {\n      throw new Error('Please provide the job id.');\n    }\n    this.id = id;\n    this.className = className;\n    this._skip = 0;\n    this._limit = 100;\n  };\n\n  _.extend(\n    AV.Insight.JobQuery.prototype,\n    /** @lends AV.Insight.JobQuery.prototype */ {\n      /**\n       * Sets the number of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is to skip zero results.\n       * @param {Number} n the number of results to skip.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      skip: function(n) {\n        this._skip = n;\n        return this;\n      },\n\n      /**\n       * Sets the limit of the number of results to return. The default limit is\n       * 100, with a maximum of 1000 results being returned at a time.\n       * @param {Number} n the number of results to limit to.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      limit: function(n) {\n        this._limit = n;\n        return this;\n      },\n\n      /**\n       *  JSON  status  totalCount \n       * results previewCount \n       * startTimeendTime \n       *\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       *\n       */\n      find: function(options) {\n        var params = {\n          skip: this._skip,\n          limit: this._limit,\n        };\n\n        return request({\n          path: `/bigquery/jobs/${this.id}`,\n          method: 'GET',\n          query: params,\n          authOptions: options,\n          signKey: false,\n        }).then(function(response) {\n          if (response.error) {\n            return Promise.reject(new AVError(response.code, response.error));\n          }\n          return Promise.resolve(response);\n        });\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/insight.js","const _ = require('underscore');\nconst { _request } = require('./request');\nconst AV = require('./av');\n\nconst serializeMessage = message => {\n  if (typeof message === 'string') {\n    return message;\n  }\n  if (typeof message.getPayload === 'function') {\n    return JSON.stringify(message.getPayload());\n  }\n  return JSON.stringify(message);\n};\n\n/**\n * <p>An AV.Conversation is a local representation of a LeanCloud realtime's\n * conversation. This class is a subclass of AV.Object, and retains the\n * same functionality of an AV.Object, but also extends it with various\n * conversation specific methods, like get members, creators of this conversation.\n * </p>\n *\n * @class AV.Conversation\n * @param {String} name The name of the Role to create.\n * @param {Object} [options]\n * @param {Boolean} [options.isSystem] Set this conversation as system conversation.\n * @param {Boolean} [options.isTransient] Set this conversation as transient conversation.\n */\nmodule.exports = AV.Object.extend(\n  '_Conversation',\n  /** @lends AV.Conversation.prototype */ {\n    constructor(name, options = {}) {\n      AV.Object.prototype.constructor.call(this, null, null);\n      this.set('name', name);\n      if (options.isSystem !== undefined) {\n        this.set('sys', options.isSystem ? true : false);\n      }\n      if (options.isTransient !== undefined) {\n        this.set('tr', options.isTransient ? true : false);\n      }\n    },\n    /**\n     * Get current conversation's creator.\n     *\n     * @return {String}\n     */\n    getCreator() {\n      return this.get('c');\n    },\n\n    /**\n     * Get the last message's time.\n     *\n     * @return {Date}\n     */\n    getLastMessageAt() {\n      return this.get('lm');\n    },\n\n    /**\n     * Get this conversation's members\n     *\n     * @return {String[]}\n     */\n    getMembers() {\n      return this.get('m');\n    },\n\n    /**\n     * Add a member to this conversation\n     *\n     * @param {String} member\n     */\n    addMember(member) {\n      return this.add('m', member);\n    },\n\n    /**\n     * Get this conversation's members who set this conversation as muted.\n     *\n     * @return {String[]}\n     */\n    getMutedMembers() {\n      return this.get('mu');\n    },\n\n    /**\n     * Get this conversation's name field.\n     *\n     * @return String\n     */\n    getName() {\n      return this.get('name');\n    },\n\n    /**\n     * Returns true if this conversation is transient conversation.\n     *\n     * @return {Boolean}\n     */\n    isTransient() {\n      return this.get('tr');\n    },\n\n    /**\n     * Returns true if this conversation is system conversation.\n     *\n     * @return {Boolean}\n     */\n    isSystem() {\n      return this.get('sys');\n    },\n\n    /**\n     * Send realtime message to this conversation, using HTTP request.\n     *\n     * @param {String} fromClient Sender's client id.\n     * @param {String|Object} message The message which will send to conversation.\n     *     It could be a raw string, or an object with a `toJSON` method, like a\n     *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}\n     * @param {Object} [options]\n     * @param {Boolean} [options.transient] Whether send this message as transient message or not.\n     * @param {String[]} [options.toClients] Ids of clients to send to. This option can be used only in system conversation.\n     * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise}\n     */\n    send(fromClient, message, options = {}, authOptions = {}) {\n      const data = {\n        from_peer: fromClient,\n        conv_id: this.id,\n        transient: false,\n        message: serializeMessage(message),\n      };\n      if (options.toClients !== undefined) {\n        data.to_peers = options.toClients;\n      }\n      if (options.transient !== undefined) {\n        data.transient = options.transient ? true : false;\n      }\n      if (options.pushData !== undefined) {\n        data.push_data = options.pushData;\n      }\n      return _request('rtm', 'messages', null, 'POST', data, authOptions);\n    },\n\n    /**\n     * Send realtime broadcast message to all clients, via this conversation, using HTTP request.\n     *\n     * @param {String} fromClient Sender's client id.\n     * @param {String|Object} message The message which will send to conversation.\n     *     It could be a raw string, or an object with a `toJSON` method, like a\n     *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}.\n     * @param {Object} [options]\n     * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }.\n     * @param {Object} [options.validTill] The message will valid till this time.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise}\n     */\n    broadcast(fromClient, message, options = {}, authOptions = {}) {\n      const data = {\n        from_peer: fromClient,\n        conv_id: this.id,\n        message: serializeMessage(message),\n      };\n      if (options.pushData !== undefined) {\n        data.push = options.pushData;\n      }\n      if (options.validTill !== undefined) {\n        let ts = options.validTill;\n        if (_.isDate(ts)) {\n          ts = ts.getTime();\n        }\n        options.valid_till = ts;\n      }\n      return _request('rtm', 'broadcast', null, 'POST', data, authOptions);\n    },\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/conversation.js","const _ = require('underscore');\nconst { request } = require('./request');\nconst { ensureArray, parseDate } = require('./utils');\nconst AV = require('./av');\n\n/**\n * The version change interval for Leaderboard\n * @enum\n */\nAV.LeaderboardVersionChangeInterval = {\n  NEVER: 'never',\n  DAY: 'day',\n  WEEK: 'week',\n  MONTH: 'month',\n};\n\n/**\n * The order of the leaderboard results\n * @enum\n */\nAV.LeaderboardOrder = {\n  ASCENDING: 'ascending',\n  DESCENDING: 'descending',\n};\n\n/**\n * The update strategy for Leaderboard\n * @enum\n */\nAV.LeaderboardUpdateStrategy = {\n  /** Only keep the best statistic. If the leaderboard is in descending order, the best statistic is the highest one. */\n  BETTER: 'better',\n  /** Keep the last updated statistic */\n  LAST: 'last',\n  /** Keep the sum of all updated statistics */\n  SUM: 'sum',\n};\n\n/**\n * @typedef {Object} Ranking\n * @property {number} rank Starts at 0\n * @property {number} value the statistic value of this ranking\n * @property {AV.User} user The user of this ranking\n * @property {Statistic[]} [includedStatistics] Other statistics of the user, specified by the `includeStatistic` option of `AV.Leaderboard.getResults()`\n */\n\n/**\n * @typedef {Object} LeaderboardArchive\n * @property {string} statisticName\n * @property {number} version version of the leaderboard\n * @property {string} status\n * @property {string} url URL for the downloadable archive\n * @property {Date} activatedAt time when this version became active\n * @property {Date} deactivatedAt time when this version was deactivated by a version incrementing\n */\n\n/**\n * @class\n */\nfunction Statistic({ name, value, version }) {\n  /**\n   * @type {string}\n   */\n  this.name = name;\n  /**\n   * @type {number}\n   */\n  this.value = value;\n  /**\n   * @type {number?}\n   */\n  this.version = version;\n}\n\nconst parseStatisticData = statisticData => {\n  const { statisticName: name, statisticValue: value, version } = AV._decode(\n    statisticData\n  );\n  return new Statistic({ name, value, version });\n};\n\n/**\n * @class\n */\nAV.Leaderboard = function Leaderboard(statisticName) {\n  /**\n   * @type {string}\n   */\n  this.statisticName = statisticName;\n  /**\n   * @type {AV.LeaderboardOrder}\n   */\n  this.order = undefined;\n  /**\n   * @type {AV.LeaderboardUpdateStrategy}\n   */\n  this.updateStrategy = undefined;\n  /**\n   * @type {AV.LeaderboardVersionChangeInterval}\n   */\n  this.versionChangeInterval = undefined;\n  /**\n   * @type {number}\n   */\n  this.version = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.nextResetAt = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.createdAt = undefined;\n};\nconst Leaderboard = AV.Leaderboard;\n\n/**\n * Create an instance of Leaderboard for the give statistic name.\n * @param {string} statisticName\n * @return {AV.Leaderboard}\n */\nAV.Leaderboard.createWithoutData = statisticName =>\n  new Leaderboard(statisticName);\n/**\n * (masterKey required) Create a new Leaderboard.\n * @param {Object} options\n * @param {string} options.statisticName\n * @param {AV.LeaderboardOrder} options.order\n * @param {AV.LeaderboardVersionChangeInterval} [options.versionChangeInterval] default to WEEK\n * @param {AV.LeaderboardUpdateStrategy} [options.updateStrategy] default to BETTER\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.createLeaderboard = (\n  { statisticName, order, versionChangeInterval, updateStrategy },\n  authOptions\n) =>\n  request({\n    method: 'POST',\n    path: '/leaderboard/leaderboards',\n    data: {\n      statisticName,\n      order,\n      versionChangeInterval,\n      updateStrategy,\n    },\n    authOptions,\n  }).then(data => {\n    const leaderboard = new Leaderboard(statisticName);\n    return leaderboard._finishFetch(data);\n  });\n/**\n * Get the Leaderboard with the specified statistic name.\n * @param {string} statisticName\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.getLeaderboard = (statisticName, authOptions) =>\n  Leaderboard.createWithoutData(statisticName).fetch(authOptions);\n/**\n * Get Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} [options]\n * @param {string[]} [options.statisticNames] Specify the statisticNames. If not set, all statistics of the user will be fetched.\n * @param {AuthOptions} [authOptions]\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.getStatistics = (user, { statisticNames } = {}, authOptions) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'GET',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        statistics: statisticNames\n          ? ensureArray(statisticNames).join(',')\n          : undefined,\n      },\n      authOptions,\n    }).then(({ results }) => results.map(parseStatisticData));\n  });\n\n/**\n * Update Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to update.\n * @param {AuthOptions} [options] AuthOptions plus:\n * @param {boolean} [options.overwrite] Wethere to overwrite these statistics disregarding the updateStrategy of there leaderboards\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.updateStatistics = (user, statistics, options = {}) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    const data = _.map(statistics, (value, key) => ({\n      statisticName: key,\n      statisticValue: value,\n    }));\n    const { overwrite } = options;\n    return request({\n      method: 'POST',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        overwrite: overwrite ? 1 : undefined,\n      },\n      data,\n      authOptions: options,\n    }).then(({ results }) => results.map(parseStatisticData));\n  });\n\n/**\n * Delete Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to delete.\n * @param {AuthOptions} [options]\n * @return {Promise<void>}\n */\nAV.Leaderboard.deleteStatistics = (user, statisticNames, authOptions) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'DELETE',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        statistics: ensureArray(statisticNames).join(','),\n      },\n      authOptions,\n    }).then(() => undefined);\n  });\n\n_.extend(\n  Leaderboard.prototype,\n  /** @lends AV.Leaderboard.prototype */ {\n    _finishFetch(data) {\n      _.forEach(data, (value, key) => {\n        if (key === 'updatedAt' || key === 'objectId') return;\n        if (key === 'expiredAt') {\n          key = 'nextResetAt';\n        }\n        if (key === 'createdAt') {\n          value = parseDate(value);\n        }\n        if (value && value.__type === 'Date') {\n          value = parseDate(value.iso);\n        }\n        this[key] = value;\n      });\n      return this;\n    },\n    /**\n     * Fetch data from the srever.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    fetch(authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        authOptions,\n      }).then(data => this._finishFetch(data));\n    },\n    /**\n     * Counts the number of users participated in this leaderboard\n     * @param {Object} [options]\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<number>}\n     */\n    count({ version } = {}, authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/ranks`,\n        query: {\n          count: 1,\n          limit: 0,\n          version,\n        },\n        authOptions,\n      }).then(({ count }) => count);\n    },\n    _getResults(\n      {\n        skip,\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      },\n      authOptions,\n      userId\n    ) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/ranks${\n          userId ? `/${userId}` : ''\n        }`,\n        query: {\n          skip,\n          limit,\n          selectUserKeys:\n            _.union(\n              ensureArray(selectUserKeys),\n              ensureArray(includeUserKeys)\n            ).join(',') || undefined,\n          includeUser: includeUserKeys\n            ? ensureArray(includeUserKeys).join(',')\n            : undefined,\n          includeStatistics: includeStatistics\n            ? ensureArray(includeStatistics).join(',')\n            : undefined,\n          version,\n        },\n        authOptions,\n      }).then(({ results: rankings }) =>\n        rankings.map(rankingData => {\n          const {\n            user,\n            statisticValue: value,\n            rank,\n            statistics = [],\n          } = AV._decode(rankingData);\n          return {\n            user,\n            value,\n            rank,\n            includedStatistics: statistics.map(parseStatisticData),\n          };\n        })\n      );\n    },\n    /**\n     * Retrieve a list of ranked users for this Leaderboard.\n     * @param {Object} [options]\n     * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n     * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n     * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<Ranking[]>}\n     */\n    getResults(\n      {\n        skip,\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      } = {},\n      authOptions\n    ) {\n      return this._getResults(\n        {\n          skip,\n          limit,\n          selectUserKeys,\n          includeUserKeys,\n          includeStatistics,\n          version,\n        },\n        authOptions\n      );\n    },\n    /**\n     * Retrieve a list of ranked users for this Leaderboard, centered on the specified user.\n     * @param {AV.User} user The specified AV.User pointer.\n     * @param {Object} [options]\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n     * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n     * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<Ranking[]>}\n     */\n    getResultsAroundUser(user, options = {}, authOptions) {\n      // getResultsAroundUser(options, authOptions)\n      if (user && typeof user.id !== 'string') {\n        return this.getResultsAroundUser(undefined, user, options);\n      }\n      const {\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      } = options;\n      return this._getResults(\n        { limit, selectUserKeys, includeUserKeys, includeStatistics, version },\n        authOptions,\n        user ? user.id : 'self'\n      );\n    },\n    _update(data, authOptions) {\n      return request({\n        method: 'PUT',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        data,\n        authOptions,\n      }).then(result => this._finishFetch(result));\n    },\n    /**\n     * (masterKey required) Update the version change interval of the Leaderboard.\n     * @param {AV.LeaderboardVersionChangeInterval} versionChangeInterval\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    updateVersionChangeInterval(versionChangeInterval, authOptions) {\n      return this._update({ versionChangeInterval }, authOptions);\n    },\n    /**\n     * (masterKey required) Update the version change interval of the Leaderboard.\n     * @param {AV.LeaderboardUpdateStrategy} updateStrategy\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    updateUpdateStrategy(updateStrategy, authOptions) {\n      return this._update({ updateStrategy }, authOptions);\n    },\n    /**\n     * (masterKey required) Reset the Leaderboard. The version of the Leaderboard will be incremented by 1.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    reset(authOptions) {\n      return request({\n        method: 'PUT',\n        path: `/leaderboard/leaderboards/${this.statisticName}/incrementVersion`,\n        authOptions,\n      }).then(data => this._finishFetch(data));\n    },\n    /**\n     * (masterKey required) Delete the Leaderboard and its all archived versions.\n     * @param {AuthOptions} [authOptions]\n     * @return {void}\n     */\n    destroy(authOptions) {\n      return AV.request({\n        method: 'DELETE',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        authOptions,\n      }).then(() => undefined);\n    },\n    /**\n     * (masterKey required) Get archived versions.\n     * @param {Object} [options]\n     * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<LeaderboardArchive[]>}\n     */\n    getArchives({ skip, limit } = {}, authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/archives`,\n        query: {\n          skip,\n          limit,\n        },\n        authOptions,\n      }).then(({ results }) =>\n        results.map(({ version, status, url, activatedAt, deactivatedAt }) => ({\n          statisticName: this.statisticName,\n          version,\n          status,\n          url,\n          activatedAt: parseDate(activatedAt.iso),\n          deactivatedAt: parseDate(deactivatedAt.iso),\n        }))\n      );\n    },\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/leaderboard.js","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"miniprogram-api-typings\");\nexports.storage = {\n    getItem: function (key) {\n        return wx.getStorageSync(key);\n    },\n    setItem: function (key, value) {\n        return wx.setStorageSync(key, value);\n    },\n    removeItem: function (key) {\n        return this.setItem(key, \"\");\n    },\n    clear: function () {\n        return wx.clearStorageSync();\n    }\n};\nvar event_target_shim_1 = require(\"event-target-shim\");\nvar EVENTS = [\"open\", \"error\", \"message\", \"close\"];\nvar WS = /** @class */ (function (_super) {\n    __extends(WS, _super);\n    function WS(url, protocol) {\n        var _this = this;\n        if (!url) {\n            throw new TypeError(\"Failed to construct 'WebSocket': url required\");\n        }\n        if (protocol &&\n            !(wx.canIUse && wx.canIUse(\"connectSocket.object.protocols\"))) {\n            throw new Error(\"subprotocol not supported in weapp\");\n        }\n        _this = _super.call(this) || this;\n        _this._url = url;\n        _this._protocol = protocol;\n        _this._readyState = WS.CONNECTING;\n        var errorHandler = function (event) {\n            _this._readyState = WS.CLOSED;\n            _this.dispatchEvent({\n                type: \"error\",\n                message: event.errMsg\n            });\n        };\n        var socketTask = wx.connectSocket({\n            url: url,\n            protocols: _this._protocol === undefined || Array.isArray(_this._protocol)\n                ? _this._protocol\n                : [_this._protocol],\n            fail: function (error) { return setTimeout(function () { return errorHandler(error); }, 0); }\n        });\n        _this._socketTask = socketTask;\n        socketTask.onOpen(function (event) {\n            _this._readyState = WS.OPEN;\n            _this.dispatchEvent({\n                type: \"open\"\n            });\n        });\n        socketTask.onError(errorHandler);\n        socketTask.onMessage(function (event) {\n            var data = event.data;\n            _this.dispatchEvent({\n                data: data,\n                type: \"message\"\n            });\n        });\n        socketTask.onClose(function (event) {\n            _this._readyState = WS.CLOSED;\n            var code = event.code, reason = event.reason;\n            _this.dispatchEvent({\n                code: code,\n                reason: reason,\n                type: \"close\"\n            });\n        });\n        return _this;\n    }\n    Object.defineProperty(WS.prototype, \"url\", {\n        get: function () {\n            return this._url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WS.prototype, \"protocol\", {\n        get: function () {\n            return this._protocol;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WS.prototype, \"readyState\", {\n        get: function () {\n            return this._readyState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WS.prototype.close = function () {\n        if (this.readyState === WS.CLOSED)\n            return;\n        if (this.readyState === WS.CONNECTING) {\n            console.warn(\"close WebSocket which is connecting might not work\");\n        }\n        this._socketTask.close({});\n    };\n    WS.prototype.send = function (data) {\n        if (this.readyState !== WS.OPEN) {\n            throw new Error(\"INVALID_STATE_ERR\");\n        }\n        if (!(typeof data === \"string\" || data instanceof ArrayBuffer)) {\n            throw new TypeError(\"only String/ArrayBuffer supported\");\n        }\n        this._socketTask.send({\n            data: data\n        });\n    };\n    WS.CONNECTING = 0;\n    WS.OPEN = 1;\n    WS.CLOSING = 2;\n    WS.CLOSED = 3;\n    return WS;\n}(event_target_shim_1.EventTarget(EVENTS)));\nexports.WebSocket = WS;\nexports.request = function (url, _a) {\n    var _b = _a === void 0 ? {} : _a, method = _b.method, data = _b.data, headers = _b.headers;\n    return new Promise(function (resolve, reject) {\n        return wx.request({\n            url: url,\n            method: method,\n            data: data,\n            header: headers,\n            responseType: \"text\",\n            success: function (response) {\n                var status = response.statusCode, data = response.data, rest = __rest(response, [\"statusCode\", \"data\"]);\n                resolve(__assign(__assign({}, rest), { data: typeof data === \"string\" ? JSON.parse(data) : data, status: status, ok: !(status >= 400) }));\n            },\n            fail: function (response) {\n                reject(new Error(response.errMsg));\n            }\n        });\n    });\n};\nexports.upload = function (url, file, _a) {\n    var _b = _a === void 0 ? {} : _a, headers = _b.headers, data = _b.data, onprogress = _b.onprogress;\n    if (!(file && file.data && file.data.uri)) {\n        return Promise.reject(new TypeError(\"File data must be an object like { uri: localPath }.\"));\n    }\n    return new Promise(function (resolve, reject) {\n        var _a;\n        var task = wx.uploadFile({\n            url: url,\n            header: headers,\n            filePath: file.data.uri,\n            name: file.field,\n            formData: data,\n            success: function (response) {\n                var status = response.statusCode, data = response.data, rest = __rest(response, [\"statusCode\", \"data\"]);\n                resolve(__assign(__assign({}, rest), { data: typeof data === \"string\" ? JSON.parse(data) : data, status: status, ok: !(status >= 400) }));\n            },\n            fail: function (response) {\n                reject(new Error(response.errMsg));\n            }\n        });\n        (_a = task === null || task === void 0 ? void 0 : task.onProgressUpdate) === null || _a === void 0 ? void 0 : _a.call(task, function (_a) {\n            var progress = _a.progress, totalBytesSent = _a.totalBytesSent, totalBytesExpectedToSend = _a.totalBytesExpectedToSend;\n            return onprogress === null || onprogress === void 0 ? void 0 : onprogress({\n                percent: progress,\n                loaded: totalBytesSent,\n                total: totalBytesExpectedToSend\n            });\n        });\n    });\n};\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@leancloud/platform-adapters-weapp/lib/index.js\n// module id = 169\n// module chunks = 0 1","/// <reference path=\"./types/index.d.ts\" />\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/miniprogram-api-typings/index.d.ts\n// module id = 170\n// module chunks = 0 1","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexports.defineEventAttribute = defineEventAttribute;\nexports.EventTarget = EventTarget;\nexports.default = EventTarget;\n\nmodule.exports = EventTarget\nmodule.exports.EventTarget = module.exports[\"default\"] = EventTarget\nmodule.exports.defineEventAttribute = defineEventAttribute\n//# sourceMappingURL=event-target-shim.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/event-target-shim/dist/event-target-shim.js","module.exports = { \"default\": require(\"core-js/library/fn/map\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/map.js\n// module id = 172\n// module chunks = 0 1","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nrequire('../modules/es7.map.of');\nrequire('../modules/es7.map.from');\nmodule.exports = require('../modules/_core').Map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/map.js\n// module id = 173\n// module chunks = 0 1","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.map.js\n// module id = 174\n// module chunks = 0 1","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_collection-strong.js\n// module id = 175\n// module chunks = 0 1","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-species-create.js\n// module id = 176\n// module chunks = 0 1","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-species-constructor.js\n// module id = 177\n// module chunks = 0 1","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.map.to-json.js\n// module id = 178\n// module chunks = 0 1","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_collection-to-json.js\n// module id = 179\n// module chunks = 0 1","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-from-iterable.js\n// module id = 180\n// module chunks = 0 1","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.map.of.js\n// module id = 181\n// module chunks = 0 1","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.map.from.js\n// module id = 182\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/create.js\n// module id = 183\n// module chunks = 0 1","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/create.js\n// module id = 184\n// module chunks = 0 1","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.create.js\n// module id = 185\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/set-prototype-of.js\n// module id = 186\n// module chunks = 0 1","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/set-prototype-of.js\n// module id = 187\n// module chunks = 0 1","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.set-prototype-of.js\n// module id = 188\n// module chunks = 0 1","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-proto.js\n// module id = 189\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/weak-map\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/weak-map.js\n// module id = 190\n// module chunks = 0 1","require('../modules/es6.object.to-string');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.weak-map');\nrequire('../modules/es7.weak-map.of');\nrequire('../modules/es7.weak-map.from');\nmodule.exports = require('../modules/_core').WeakMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/weak-map.js\n// module id = 191\n// module chunks = 0 1","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.weak-map.js\n// module id = 192\n// module chunks = 0 1","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-assign.js\n// module id = 193\n// module chunks = 0 1","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_collection-weak.js\n// module id = 194\n// module chunks = 0 1","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.weak-map.of.js\n// module id = 195\n// module chunks = 0 1","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.weak-map.from.js\n// module id = 196\n// module chunks = 0 1"],"sourceRoot":""}